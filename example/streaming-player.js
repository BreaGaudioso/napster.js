var StreamingPlayer=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:false,exports:{}};e[n].call(i.exports,i,i.exports,r);i.l=true;return i.exports}r.m=e;r.c=t;r.i=function(e){return e};r.d=function(e,t,n){if(!r.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:n})}};r.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};r.d(t,"a",t);return t};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="";return r(r.s=164)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){var e=undefined;var t=[];var r=[];function n(e,t,r,n){var i=l(n);if(!i[e]&&t){i[e]={instance:t,override:r}}}function i(e,t){for(var n in r){var i=r[n];if(i.context===e&&i.name===t){return i.instance}}return null}function a(e,t,n){for(var i in r){var a=r[i];if(a.context===e&&a.name===t){r[i].instance=n;return}}r.push({name:t,context:e,instance:n})}function o(e){return function(t){if(t===undefined){t={}}return{create:function r(){return u(e.__dashjs_factory_name,e.apply({context:t},arguments),t,arguments)}}}}function s(e){return function(t){var n=undefined;if(t===undefined){t={}}return{getInstance:function a(){if(!n){n=i(t,e.__dashjs_factory_name)}if(!n){n=u(e.__dashjs_factory_name,e.apply({context:t},arguments),t,arguments);r.push({name:e.__dashjs_factory_name,context:t,instance:n})}return n}}}}function u(t,r,n,i){var a=l(n);var o=a[t];if(o){var s=o.instance;if(o.override){s=s.apply({context:n,factory:e,parent:r},i);for(var u in s){if(r.hasOwnProperty(u)){r[u]=s[u]}}}else{return s.apply({context:n,factory:e},i)}}return r}function l(e){var r=undefined;t.forEach(function(t){if(t===e){r=t}});if(!r){r=t.push(e)}return r}e={extend:n,getSingletonInstance:i,setSingletonInstance:a,getSingletonFactory:s,getClassFactory:o};return e}();t["default"]=n;e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;var n=r(8);var i=b(n);var a=r(6);var o=_(a);var s=r(5);var u=_(s);var l=r(37);var f=_(l);var c=r(23);var d=_(c);var p=r(12);var h=b(p);var v=r(38);var y=b(v);var g=r(20);var m=b(g);function _(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function b(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var E=function(){function e(t,r,n){T(this,e);if(!t&&this.play){this.player_=t=this}else{this.player_=t}this.options_=(0,m["default"])({},this.options_);r=this.options_=(0,m["default"])(this.options_,r);this.id_=r.id||r.el&&r.el.id;if(!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+f.newGUID()}this.name_=r.name||null;if(r.el){this.el_=r.el}else if(r.createEl!==false){this.el_=this.createEl()}this.children_=[];this.childIndex_={};this.childNameIndex_={};if(r.initChildren!==false){this.initChildren()}this.ready(n);if(r.reportTouchActivity!==false){this.enableTouchActivity()}}e.prototype.dispose=function e(){this.trigger({type:"dispose",bubbles:false});if(this.children_){for(var t=this.children_.length-1;t>=0;t--){if(this.children_[t].dispose){this.children_[t].dispose()}}}this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.off();if(this.el_.parentNode){this.el_.parentNode.removeChild(this.el_)}o.removeElData(this.el_);this.el_=null};e.prototype.player=function e(){return this.player_};e.prototype.options=function e(t){h["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0");if(!t){return this.options_}this.options_=(0,m["default"])(this.options_,t);return this.options_};e.prototype.el=function e(){return this.el_};e.prototype.createEl=function e(t,r,n){return o.createEl(t,r,n)};e.prototype.localize=function e(t){var r=this.player_.language&&this.player_.language();var n=this.player_.languages&&this.player_.languages();if(!r||!n){return t}var i=n[r];if(i&&i[t]){return i[t]}var a=r.split("-")[0];var o=n[a];if(o&&o[t]){return o[t]}return t};e.prototype.contentEl=function e(){return this.contentEl_||this.el_};e.prototype.id=function e(){return this.id_};e.prototype.name=function e(){return this.name_};e.prototype.children=function e(){return this.children_};e.prototype.getChildById=function e(t){return this.childIndex_[t]};e.prototype.getChild=function e(t){if(!t){return}t=(0,y["default"])(t);return this.childNameIndex_[t]};e.prototype.addChild=function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.children_.length;var a=void 0;var o=void 0;if(typeof r==="string"){o=(0,y["default"])(r);if(!n){n={}}if(n===true){h["default"].warn("Initializing a child component with `true` is deprecated."+"Children should be defined in an array when possible, "+"but if necessary use an object instead of `true`.");n={}}var s=n.componentClass||o;n.name=o;var u=e.getComponent(s);if(!u){throw new Error("Component "+s+" does not exist")}if(typeof u!=="function"){return null}a=new u(this.player_||this,n)}else{a=r}this.children_.splice(i,0,a);if(typeof a.id==="function"){this.childIndex_[a.id()]=a}o=o||a.name&&(0,y["default"])(a.name());if(o){this.childNameIndex_[o]=a}if(typeof a.el==="function"&&a.el()){var l=this.contentEl().children;var f=l[i]||null;this.contentEl().insertBefore(a.el(),f)}return a};e.prototype.removeChild=function e(t){if(typeof t==="string"){t=this.getChild(t)}if(!t||!this.children_){return}var r=false;for(var n=this.children_.length-1;n>=0;n--){if(this.children_[n]===t){r=true;this.children_.splice(n,1);break}}if(!r){return}this.childIndex_[t.id()]=null;this.childNameIndex_[t.name()]=null;var i=t.el();if(i&&i.parentNode===this.contentEl()){this.contentEl().removeChild(t.el())}};e.prototype.initChildren=function t(){var r=this;var n=this.options_.children;if(n){var i=this.options_;var a=function e(t){var n=t.name;var a=t.opts;if(i[n]!==undefined){a=i[n]}if(a===false){return}if(a===true){a={}}a.playerOptions=r.options_.playerOptions;var o=r.addChild(n,a);if(o){r[n]=o}};var o=void 0;var s=e.getComponent("Tech");if(Array.isArray(n)){o=n}else{o=Object.keys(n)}o.concat(Object.keys(this.options_).filter(function(e){return!o.some(function(t){if(typeof t==="string"){return e===t}return e===t.name})})).map(function(e){var t=void 0;var i=void 0;if(typeof e==="string"){t=e;i=n[t]||r.options_[t]||{}}else{t=e.name;i=e}return{name:t,opts:i}}).filter(function(t){var r=e.getComponent(t.opts.componentClass||(0,y["default"])(t.name));return r&&!s.isTech(r)}).forEach(a)}};e.prototype.buildCSSClass=function e(){return""};e.prototype.on=function e(t,r,n){var i=this;if(typeof t==="string"||Array.isArray(t)){d.on(this.el_,t,u.bind(this,r))}else{var a=t;var o=r;var s=u.bind(this,n);var l=function e(){return i.off(a,o,s)};l.guid=s.guid;this.on("dispose",l);var f=function e(){return i.off("dispose",l)};f.guid=s.guid;if(t.nodeName){d.on(a,o,s);d.on(a,"dispose",f)}else if(typeof t.on==="function"){a.on(o,s);a.on("dispose",f)}}return this};e.prototype.off=function e(t,r,n){if(!t||typeof t==="string"||Array.isArray(t)){d.off(this.el_,t,r)}else{var i=t;var a=r;var o=u.bind(this,n);this.off("dispose",o);if(t.nodeName){d.off(i,a,o);d.off(i,"dispose",o)}else{i.off(a,o);i.off("dispose",o)}}return this};e.prototype.one=function e(t,r,n){var i=this,a=arguments;if(typeof t==="string"||Array.isArray(t)){d.one(this.el_,t,u.bind(this,r))}else{var o=t;var s=r;var l=u.bind(this,n);var f=function e(){i.off(o,s,e);l.apply(null,a)};f.guid=l.guid;this.on(o,s,f)}return this};e.prototype.trigger=function e(t,r){d.trigger(this.el_,t,r);return this};e.prototype.ready=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t){if(this.isReady_){if(r){t.call(this)}else{this.setTimeout(t,1)}}else{this.readyQueue_=this.readyQueue_||[];this.readyQueue_.push(t)}}return this};e.prototype.triggerReady=function e(){this.isReady_=true;this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[];if(e&&e.length>0){e.forEach(function(e){e.call(this)},this)}this.trigger("ready")},1)};e.prototype.$=function e(t,r){return o.$(t,r||this.contentEl())};e.prototype.$$=function e(t,r){return o.$$(t,r||this.contentEl())};e.prototype.hasClass=function e(t){return o.hasElClass(this.el_,t)};e.prototype.addClass=function e(t){o.addElClass(this.el_,t);return this};e.prototype.removeClass=function e(t){o.removeElClass(this.el_,t);return this};e.prototype.toggleClass=function e(t,r){o.toggleElClass(this.el_,t,r);return this};e.prototype.show=function e(){this.removeClass("vjs-hidden");return this};e.prototype.hide=function e(){this.addClass("vjs-hidden");return this};e.prototype.lockShowing=function e(){this.addClass("vjs-lock-showing");return this};e.prototype.unlockShowing=function e(){this.removeClass("vjs-lock-showing");return this};e.prototype.getAttribute=function e(t){return o.getAttribute(this.el_,t)};e.prototype.setAttribute=function e(t,r){o.setAttribute(this.el_,t,r);return this};e.prototype.removeAttribute=function e(t){o.removeAttribute(this.el_,t);return this};e.prototype.width=function e(t,r){return this.dimension("width",t,r)};e.prototype.height=function e(t,r){return this.dimension("height",t,r)};e.prototype.dimensions=function e(t,r){return this.width(t,true).height(r)};e.prototype.dimension=function e(t,r,n){if(r!==undefined){if(r===null||r!==r){r=0}if((""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1){this.el_.style[t]=r}else if(r==="auto"){this.el_.style[t]=""}else{this.el_.style[t]=r+"px"}if(!n){this.trigger("resize")}return this}if(!this.el_){return 0}var i=this.el_.style[t];var a=i.indexOf("px");if(a!==-1){return parseInt(i.slice(0,a),10)}return parseInt(this.el_["offset"+(0,y["default"])(t)],10)};e.prototype.currentDimension=function e(t){var r=0;if(t!=="width"&&t!=="height"){throw new Error("currentDimension only accepts width or height value")}if(typeof i["default"].getComputedStyle==="function"){var n=i["default"].getComputedStyle(this.el_);r=n.getPropertyValue(t)||n[t]}r=parseFloat(r);if(r===0){var a="offset"+(0,y["default"])(t);r=this.el_[a]}return r};e.prototype.currentDimensions=function e(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}};e.prototype.currentWidth=function e(){return this.currentDimension("width")};e.prototype.currentHeight=function e(){return this.currentDimension("height")};e.prototype.focus=function e(){this.el_.focus()};e.prototype.blur=function e(){this.el_.blur()};e.prototype.emitTapEvents=function e(){var t=0;var r=null;var n=10;var i=200;var a=void 0;this.on("touchstart",function(e){if(e.touches.length===1){r={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY};t=(new Date).getTime();a=true}});this.on("touchmove",function(e){if(e.touches.length>1){a=false}else if(r){var t=e.touches[0].pageX-r.pageX;var i=e.touches[0].pageY-r.pageY;var o=Math.sqrt(t*t+i*i);if(o>n){a=false}}});var o=function e(){a=false};this.on("touchleave",o);this.on("touchcancel",o);this.on("touchend",function(e){r=null;if(a===true){var n=(new Date).getTime()-t;if(n<i){e.preventDefault();this.trigger("tap")}}})};e.prototype.enableTouchActivity=function e(){if(!this.player()||!this.player().reportUserActivity){return}var t=u.bind(this.player(),this.player().reportUserActivity);var r=void 0;this.on("touchstart",function(){t();this.clearInterval(r);r=this.setInterval(t,250)});var n=function e(n){t();this.clearInterval(r)};this.on("touchmove",t);this.on("touchend",n);this.on("touchcancel",n)};e.prototype.setTimeout=function e(t,r){t=u.bind(this,t);var n=i["default"].setTimeout(t,r);var a=function e(){this.clearTimeout(n)};a.guid="vjs-timeout-"+n;this.on("dispose",a);return n};e.prototype.clearTimeout=function e(t){i["default"].clearTimeout(t);var r=function e(){};r.guid="vjs-timeout-"+t;this.off("dispose",r);return t};e.prototype.setInterval=function e(t,r){t=u.bind(this,t);var n=i["default"].setInterval(t,r);var a=function e(){this.clearInterval(n)};a.guid="vjs-interval-"+n;this.on("dispose",a);return n};e.prototype.clearInterval=function e(t){i["default"].clearInterval(t);var r=function e(){};r.guid="vjs-interval-"+t;this.off("dispose",r);return t};e.registerComponent=function t(r,n){if(!r){return}r=(0,y["default"])(r);if(!e.components_){e.components_={}}if(r==="Player"&&e.components_[r]){var i=e.components_[r];if(i.players&&Object.keys(i.players).length>0&&Object.keys(i.players).map(function(e){return i.players[e]}).every(Boolean)){throw new Error("Can not register Player component after player has been created")}}e.components_[r]=n;return n};e.getComponent=function t(r){if(!r){return}r=(0,y["default"])(r);if(e.components_&&e.components_[r]){return e.components_[r]}if(i["default"]&&i["default"].videojs&&i["default"].videojs[r]){h["default"].warn("The "+r+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)");return i["default"].videojs[r]}};e.extend=function t(r){r=r||{};h["default"].warn("Component.extend({}) has been deprecated, "+" use videojs.extend(Component, {}) instead");var n=r.init||r.init||this.prototype.init||this.prototype.init||function(){};var i=function e(){n.apply(this,arguments)};i.prototype=Object.create(this.prototype);i.prototype.constructor=i;i.extend=e.extend;for(var a in r){if(r.hasOwnProperty(a)){i.prototype[a]=r[a]}}return i};return e}();E.registerComponent("Component",E);t["default"]=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=r(204);var u=i(s);var l=function(e){o(t,e);function t(){a(this,t);n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return t}(u["default"]);var f=new l;t["default"]=f;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=0;var s=5e3;function u(){var e={};function t(t,r,n){var a=arguments.length<=3||arguments[3]===undefined?o:arguments[3];if(!t){throw new Error("event type cannot be null or undefined")}if(!r||typeof r!=="function"){throw new Error("listener must be a function: "+r)}if(i(t,r,n)>=0)return;e[t]=e[t]||[];var s={callback:r,scope:n,priority:a};var u=e[t].some(function(r,n){if(r&&a>r.priority){e[t].splice(n,0,s);return true}});if(!u){e[t].push(s)}}function r(t,r,n){if(!t||!r||!e[t])return;var a=i(t,r,n);if(a<0)return;e[t][a]=null}function n(t,r){if(!t||!e[t])return;r=r||{};if(r.hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");r.type=t;e[t]=e[t].filter(function(e){return e});e[t].forEach(function(e){return e.callback.call(e.scope,r)})}function i(t,r,n){var i=-1;if(!e[t])return i;e[t].some(function(e,t){if(e&&e.callback===r&&(!n||n===e.scope)){i=t;return true}});return i}function a(){e={}}var s={on:t,off:r,trigger:n,reset:a};return s}u.__dashjs_factory_name="EventBus";var l=a["default"].getSingletonFactory(u);l.EVENT_PRIORITY_LOW=o;l.EVENT_PRIORITY_HIGH=s;t["default"]=l;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(3);var a=n(i);var o=r(2);var s=n(o);var u=r(0);var l=n(u);function f(){var e=this.context;var t=(0,a["default"])(e).getInstance();var r=undefined,n=undefined,i=undefined,o=undefined;function u(){n=true;i=true;o=(new Date).getTime()}function l(e){i=e}function f(e){n=e}function c(){return n}function d(){var e="";var r=null;if(i){r=(new Date).getTime();e+="["+(r-o)+"]"}if(e.length>0){e+=" "}Array.apply(null,arguments).forEach(function(t){e+=t+" "});if(n){console.log(e)}t.trigger(s["default"].LOG,{message:e})}r={log:d,setLogTimestampVisible:l,setLogToBrowserConsole:f,getLogToBrowserConsole:c};u();return r}f.__dashjs_factory_name="Debug";t["default"]=l["default"].getSingletonFactory(f);e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;t.throttle=t.bind=undefined;var n=r(37);var i=t.bind=function e(t,r,i){if(!r.guid){r.guid=(0,n.newGUID)()}var a=function e(){return r.apply(t,arguments)};a.guid=i?i+"_"+r.guid:r.guid;return a};var a=t.throttle=function e(t,r){var n=Date.now();var i=function e(){var i=Date.now();if(i-n>=r){t.apply(undefined,arguments);n=i}};return i}},function(e,t,r){"use strict";t.__esModule=true;t.$$=t.$=undefined;var n=g(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);t.isReal=T;t.isEl=E;t.getEl=S;t.createEl=C;t.textContent=O;t.insertElFirst=k;t.getElData=A;t.hasElData=M;t.removeElData=I;t.hasElClass=R;t.addElClass=D;t.removeElClass=j;t.toggleElClass=L;t.setElAttributes=N;t.getElAttributes=F;t.getAttribute=B;t.setAttribute=U;t.removeAttribute=H;t.blockTextSelection=V;t.unblockTextSelection=q;t.findElPosition=G;t.getPointerPosition=z;t.isTextNode=K;t.emptyEl=Y;t.normalizeContent=W;t.appendContent=X;t.insertContent=Q;var i=r(7);var a=y(i);var o=r(8);var s=y(o);var u=r(37);var l=v(u);var f=r(12);var c=y(f);var d=r(135);var p=y(d);var h=r(11);function v(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t){e.raw=t;return e}function m(e){return typeof e==="string"&&/\S/.test(e)}function _(e){if(/\s/.test(e)){throw new Error("class has illegal whitespace characters")}}function b(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function T(){return a["default"]===s["default"].document&&typeof a["default"].createElement!=="undefined"}function E(e){return(0,h.isObject)(e)&&e.nodeType===1}function w(e){return function(t,r){if(!m(t)){return a["default"][e](null)}if(m(r)){r=a["default"].querySelector(r)}var n=E(r)?r:a["default"];return n[e]&&n[e](t)}}function S(e){if(e.indexOf("#")===0){e=e.slice(1)}return a["default"].getElementById(e)}function C(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div";var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=arguments[3];var o=a["default"].createElement(e);Object.getOwnPropertyNames(t).forEach(function(e){var r=t[e];if(e.indexOf("aria-")!==-1||e==="role"||e==="type"){c["default"].warn((0,p["default"])(n,e,r));o.setAttribute(e,r)}else if(e==="textContent"){O(o,r)}else{o[e]=r}});Object.getOwnPropertyNames(r).forEach(function(e){o.setAttribute(e,r[e])});if(i){X(o,i)}return o}function O(e,t){if(typeof e.textContent==="undefined"){e.innerText=t}else{e.textContent=t}return e}function k(e,t){if(t.firstChild){t.insertBefore(e,t.firstChild)}else{t.appendChild(e)}}var P={};var x="vdata"+(new Date).getTime();function A(e){var t=e[x];if(!t){t=e[x]=l.newGUID()}if(!P[t]){P[t]={}}return P[t]}function M(e){var t=e[x];if(!t){return false}return!!Object.getOwnPropertyNames(P[t]).length}function I(e){var t=e[x];if(!t){return}delete P[t];try{delete e[x]}catch(t){if(e.removeAttribute){e.removeAttribute(x)}else{e[x]=null}}}function R(e,t){_(t);if(e.classList){return e.classList.contains(t)}return b(t).test(e.className)}function D(e,t){if(e.classList){e.classList.add(t)}else if(!R(e,t)){e.className=(e.className+" "+t).trim()}return e}function j(e,t){if(e.classList){e.classList.remove(t)}else{_(t);e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")}return e}function L(e,t,r){var n=R(e,t);if(typeof r==="function"){r=r(e,t)}if(typeof r!=="boolean"){r=!n}if(r===n){return}if(r){D(e,t)}else{j(e,t)}return e}function N(e,t){Object.getOwnPropertyNames(t).forEach(function(r){var n=t[r];if(n===null||typeof n==="undefined"||n===false){e.removeAttribute(r)}else{e.setAttribute(r,n===true?"":n)}})}function F(e){var t={};var r=","+"autoplay,controls,loop,muted,default"+",";if(e&&e.attributes&&e.attributes.length>0){var n=e.attributes;for(var i=n.length-1;i>=0;i--){var a=n[i].name;var o=n[i].value;if(typeof e[a]==="boolean"||r.indexOf(","+a+",")!==-1){o=o!==null?true:false}t[a]=o}}return t}function B(e,t){return e.getAttribute(t)}function U(e,t,r){e.setAttribute(t,r)}function H(e,t){e.removeAttribute(t)}function V(){a["default"].body.focus();a["default"].onselectstart=function(){return false}}function q(){a["default"].onselectstart=function(){return true}}function G(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode){t=e.getBoundingClientRect()}if(!t){return{left:0,top:0}}var r=a["default"].documentElement;var n=a["default"].body;var i=r.clientLeft||n.clientLeft||0;var o=s["default"].pageXOffset||n.scrollLeft;var u=t.left+o-i;var l=r.clientTop||n.clientTop||0;var f=s["default"].pageYOffset||n.scrollTop;var c=t.top+f-l;return{left:Math.round(u),top:Math.round(c)}}function z(e,t){var r={};var n=G(e);var i=e.offsetWidth;var a=e.offsetHeight;var o=n.top;var s=n.left;var u=t.pageY;var l=t.pageX;if(t.changedTouches){l=t.changedTouches[0].pageX;u=t.changedTouches[0].pageY}r.y=Math.max(0,Math.min(1,(o-u+a)/a));r.x=Math.max(0,Math.min(1,(l-s)/i));return r}function K(e){return(0,h.isObject)(e)&&e.nodeType===3}function Y(e){while(e.firstChild){e.removeChild(e.firstChild)}return e}function W(e){if(typeof e==="function"){e=e()}return(Array.isArray(e)?e:[e]).map(function(e){if(typeof e==="function"){e=e()}if(E(e)||K(e)){return e}if(typeof e==="string"&&/\S/.test(e)){return a["default"].createTextNode(e)}}).filter(function(e){return e})}function X(e,t){W(t).forEach(function(t){return e.appendChild(t)});return e}function Q(e,t){return X(Y(e),t)}var $=t.$=w("querySelector");var J=t.$$=w("querySelectorAll")},function(e,t,r){var n=false?global:typeof window!=="undefined"?window:{};var i=r(392);if(typeof document!=="undefined"){e.exports=document}else{var a=n["__GLOBAL_DOCUMENT_CACHE@4"];if(!a){a=n["__GLOBAL_DOCUMENT_CACHE@4"]=i}e.exports=a}},function(e,t,r){if(typeof window!=="undefined"){e.exports=window}else if(false){e.exports=global}else if(typeof self!=="undefined"){e.exports=self}else{e.exports={}}},function(e,t,r){"use strict";t.__esModule=true;t.BACKGROUND_SIZE_SUPPORTED=t.TOUCH_ENABLED=t.IS_ANY_SAFARI=t.IS_SAFARI=t.IE_VERSION=t.IS_IE8=t.CHROME_VERSION=t.IS_CHROME=t.IS_EDGE=t.IS_FIREFOX=t.IS_NATIVE_ANDROID=t.IS_OLD_ANDROID=t.ANDROID_VERSION=t.IS_ANDROID=t.IOS_VERSION=t.IS_IOS=t.IS_IPOD=t.IS_IPHONE=t.IS_IPAD=undefined;var n=r(6);var i=u(n);var a=r(8);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}var l=o["default"].navigator&&o["default"].navigator.userAgent||"";var f=/AppleWebKit\/([\d.]+)/i.exec(l);var c=f?parseFloat(f.pop()):null;var d=t.IS_IPAD=/iPad/i.test(l);var p=t.IS_IPHONE=/iPhone/i.test(l)&&!d;var h=t.IS_IPOD=/iPod/i.test(l);var v=t.IS_IOS=p||d||h;var y=t.IOS_VERSION=function(){var e=l.match(/OS (\d+)_/i);if(e&&e[1]){return e[1]}return null}();var g=t.IS_ANDROID=/Android/i.test(l);var m=t.ANDROID_VERSION=function(){var e=l.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e){return null}var t=e[1]&&parseFloat(e[1]);var r=e[2]&&parseFloat(e[2]);if(t&&r){return parseFloat(e[1]+"."+e[2])}else if(t){return t}return null}();var _=t.IS_OLD_ANDROID=g&&/webkit/i.test(l)&&m<2.3;var b=t.IS_NATIVE_ANDROID=g&&m<5&&c<537;var T=t.IS_FIREFOX=/Firefox/i.test(l);var E=t.IS_EDGE=/Edge/i.test(l);var w=t.IS_CHROME=!E&&/Chrome/i.test(l);var S=t.CHROME_VERSION=function(){var e=l.match(/Chrome\/(\d+)/);if(e&&e[1]){return parseFloat(e[1])}return null}();var C=t.IS_IE8=/MSIE\s8\.0/.test(l);var O=t.IE_VERSION=function(){var e=/MSIE\s(\d+)\.\d/.exec(l);var t=e&&parseFloat(e[1]);if(!t&&/Trident\/7.0/i.test(l)&&/rv:11.0/.test(l)){t=11}return t}();var k=t.IS_SAFARI=/Safari/i.test(l)&&!w&&!g&&!E;var P=t.IS_ANY_SAFARI=k||v;var x=t.TOUCH_ENABLED=i.isReal()&&("ontouchstart"in o["default"]||o["default"].DocumentTouch&&o["default"].document instanceof o["default"].DocumentTouch);var A=t.BACKGROUND_SIZE_SUPPORTED=i.isReal()&&"backgroundSize"in o["default"].document.createElement("video").style},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=r(0);var o=n(a);var s=r(13);var u={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"};var l=4;var f=36e4;var c=36e4;var d=.9;var p=1e4;var h=30;var v=30;var y=12;var g=20;var m=30;var _=60;var b=600;var T=20;var E=3;var w=1e3;var S=3;var C=500;var O=1;var k=500;var P=50;var x=false;function A(){var e=undefined,t=undefined,r=undefined,n=undefined,a=undefined,o=undefined,u=undefined,A=undefined,M=undefined,I=undefined,R=undefined,D=undefined,j=undefined,L=undefined,N=undefined,F=undefined,B=undefined,U=undefined,H=undefined,V=undefined,q=undefined,G=undefined,z=undefined,K=undefined;function Y(){var e,y;n=[];r=false;t=true;u=true;G=false;K=false;I={enabled:true,ttl:f};R={enabled:true,ttl:c};a=l;o=undefined;A=h;M=v;D=NaN;j=m;L=_;N=b;F=T;B=d;U=p;q=P;z={default:x};H=(e={},i(e,s.HTTPRequest.MPD_TYPE,S),i(e,s.HTTPRequest.XLINK_EXPANSION_TYPE,O),i(e,s.HTTPRequest.MEDIA_SEGMENT_TYPE,E),i(e,s.HTTPRequest.INIT_SEGMENT_TYPE,E),i(e,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,E),i(e,s.HTTPRequest.INDEX_SEGMENT_TYPE,E),i(e,s.HTTPRequest.OTHER_TYPE,E),e);V=(y={},i(y,s.HTTPRequest.MPD_TYPE,C),i(y,s.HTTPRequest.XLINK_EXPANSION_TYPE,k),i(y,s.HTTPRequest.MEDIA_SEGMENT_TYPE,w),i(y,s.HTTPRequest.INIT_SEGMENT_TYPE,w),i(y,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,w),i(y,s.HTTPRequest.INDEX_SEGMENT_TYPE,w),i(y,s.HTTPRequest.OTHER_TYPE,w),y)}function W(e){G=e}function X(){return G}function Q(e){B=e}function $(){return B}function J(e){U=e}function Z(){return U}function ee(e){D=e}function te(){return!isNaN(D)?D:K?g:y}function re(e){j=e}function ne(){return j}function ie(e){L=e}function ae(){return L}function oe(e){N=e}function se(){return N}function ue(e){F=e}function le(){return F}function fe(e){A=e}function ce(){return A}function de(e,t){I.enabled=e;if(t!==undefined&&!isNaN(t)&&typeof t==="number"){I.ttl=t}}function pe(){return I}function he(e,t){R.enabled=e;if(t!==undefined&&!isNaN(t)&&typeof t==="number"){R.ttl=t}}function ve(){return R}function ye(e){M=e}function ge(){return M}function me(e){H[s.HTTPRequest.MEDIA_SEGMENT_TYPE]=e}function _e(e,t){H[e]=t}function be(){return H[s.HTTPRequest.MEDIA_SEGMENT_TYPE]}function Te(e){return H[e]}function Ee(e){V[s.HTTPRequest.MEDIA_SEGMENT_TYPE]=e}function we(e,t){V[e]=t}function Se(){return V[s.HTTPRequest.MEDIA_SEGMENT_TYPE]}function Ce(e){return V[e]}function Oe(e){q=e}function ke(){return q}function Pe(e){u=e}function xe(){return u}function Ae(e){a=e}function Me(e){o=e}function Ie(){return a}function Re(){return o}function De(e){t=e}function je(){return t}function Le(e){r=e}function Ne(){return r}function Fe(e){n=e}function Be(){return n}function Ue(e,t){if(!e){Object.keys(z).forEach(function(e){Ue(e,t)})}else{z[e]=!!t}}function He(e){var t=z[e];if(t===undefined){return z["default"]}return t}function Ve(){return K}function qe(e){K=e}function Ge(){}e={setBufferOccupancyABREnabled:W,getBufferOccupancyABREnabled:X,setBandwidthSafetyFactor:Q,getBandwidthSafetyFactor:$,setAbandonLoadTimeout:J,getAbandonLoadTimeout:Z,setLastBitrateCachingInfo:de,getLastBitrateCachingInfo:pe,setLastMediaSettingsCachingInfo:he,getLastMediaSettingsCachingInfo:ve,setStableBufferTime:ee,getStableBufferTime:te,setBufferTimeAtTopQuality:re,getBufferTimeAtTopQuality:ne,setBufferTimeAtTopQualityLongForm:ie,getBufferTimeAtTopQualityLongForm:ae,setLongFormContentDurationThreshold:oe,getLongFormContentDurationThreshold:se,setRichBufferThreshold:ue,getRichBufferThreshold:le,setBufferToKeep:fe,getBufferToKeep:ce,setBufferPruningInterval:ye,getBufferPruningInterval:ge,setFragmentRetryAttempts:me,getFragmentRetryAttempts:be,setRetryAttemptsForType:_e,getRetryAttemptsForType:Te,setFragmentRetryInterval:Ee,getFragmentRetryInterval:Se,setRetryIntervalForType:we,getRetryIntervalForType:Ce,setWallclockTimeUpdateInterval:Oe,getWallclockTimeUpdateInterval:ke,setScheduleWhilePaused:Pe,getScheduleWhilePaused:xe,getUseSuggestedPresentationDelay:Ne,setUseSuggestedPresentationDelay:Le,setLiveDelayFragmentCount:Ae,getLiveDelayFragmentCount:Ie,getLiveDelay:Re,setLiveDelay:Me,setUseManifestDateHeaderTimeSource:De,getUseManifestDateHeaderTimeSource:je,setUTCTimingSources:Fe,getUTCTimingSources:Be,setXHRWithCredentialsForType:Ue,getXHRWithCredentialsForType:He,setFastSwitchEnabled:qe,getFastSwitchEnabled:Ve,reset:Ge};Y();return e}A.__dashjs_factory_name="MediaPlayerModel";var M=o["default"].getSingletonFactory(A);M.DEFAULT_UTC_TIMING_SOURCE=u;t["default"]=M;e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.each=o;t.reduce=s;t.assign=u;t.isObject=l;t.isPlain=f;var i=Object.prototype.toString;var a=function e(t){return l(t)?Object.keys(t):[]};function o(e,t){a(e).forEach(function(r){return t(e[r],r)})}function s(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return a(e).reduce(function(r,n){return t(r,e[n],n)},r)}function u(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}if(Object.assign){return Object.assign.apply(Object,[e].concat(r))}r.forEach(function(t){if(!t){return}o(t,function(t,r){e[r]=t})});return e}function l(e){return!!e&&(typeof e==="undefined"?"undefined":n(e))==="object"}function f(e){return l(e)&&i.call(e)==="[object Object]"&&e.constructor===Object}},function(e,t,r){"use strict";t.__esModule=true;t.logByType=undefined;var n=r(8);var i=s(n);var a=r(9);var o=r(11);function s(e){return e&&e.__esModule?e:{default:e}}var u=void 0;var l=t.logByType=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!!a.IE_VERSION&&a.IE_VERSION<11;if(t!=="log"){r.unshift(t.toUpperCase()+":")}u.history.push(r);r.unshift("VIDEOJS:");var s=i["default"].console&&i["default"].console[t];if(!s){return}if(n){r=r.map(function(e){if((0,o.isObject)(e)||Array.isArray(e)){try{return JSON.stringify(e)}catch(t){return String(e)}}return String(e)}).join(" ")}if(!s.apply){s(r)}else{s[Array.isArray(r)?"apply":"call"](i["default"].console,r)}};u=function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}l("log",r)};u.history=[];u.error=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}return l("error",t)};u.warn=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}return l("warn",t)};t["default"]=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.tcpid=null;this.type=null;this.url=null;this.actualurl=null;this.range=null;this.trequest=null;this.tresponse=null;this.responsecode=null;this.interval=null;this.trace=[];this._stream=null;this._tfinish=null;this._mediaduration=null;this._responseHeaders=null;this._serviceLocation=null};var a=function e(){n(this,e);this.s=null;this.d=null;this.b=[]};i.MPD_TYPE="MPD";i.XLINK_EXPANSION_TYPE="XLinkExpansion";i.INIT_SEGMENT_TYPE="InitializationSegment";i.INDEX_SEGMENT_TYPE="IndexSegment";i.MEDIA_SEGMENT_TYPE="MediaSegment";i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment";i.OTHER_TYPE="other";t.HTTPRequest=i;t.HTTPRequestTrace=a},function(e,t,r){var n=r(111)("wks"),i=r(114),a=r(15).Symbol,o=typeof a=="function";var s=e.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:i)("Symbol."+e))};s.store=n},function(e,t){var r=e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(t,r,i){n(this,e);this.code=t||null;this.message=r||null;this.data=i||null};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;t.default=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}},function(e,t,r){"use strict";t.__esModule=true;var n=r(166);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;(0,i.default)(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=-1;function s(e,t){var r=e===undefined?o:e;var n=t===undefined?null:t;var i={value:r,reason:n};return i}s.__dashjs_factory_name="SwitchRequest";var u=a["default"].getClassFactory(s);u.NO_CHANGE=o;t["default"]=u;e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;t["default"]=i;var n=r(11);function i(){var e={};for(var t=arguments.length,r=Array(t),a=0;a<t;a++){r[a]=arguments[a]}r.forEach(function(t){if(!t){return}(0,n.each)(t,function(t,r){if(!(0,n.isPlain)(t)){e[r]=t;return}if(!(0,n.isPlain)(e[r])){e[r]={}}e[r]=i(e[r],t)})});return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(305);var a=n(i);var o=r(319);var s=n(o);var u=r(13);var l=r(316);var f=n(l);var c=r(311);var d=n(c);var p=r(312);var h=n(p);var v=r(313);var y=n(v);var g=r(314);var m=n(g);var _=r(315);var b=r(318);var T=n(b);var E=r(3);var w=n(E);var S=r(317);var C=n(S);var O=r(2);var k=n(O);var P=r(0);var x=n(P);var A=r(310);var M=n(A);function I(){var e=1e3;var t=this.context;var r=(0,w["default"])(t).getInstance();var n=undefined,i=undefined,o=undefined;function l(){o={}}function c(e){if(!e)return;if(e.adapter){i=e.adapter}}function p(){r.trigger(k["default"].METRICS_CHANGED)}function v(e){r.trigger(k["default"].METRIC_CHANGED,{mediaType:e});p()}function g(e,t,n){r.trigger(k["default"].METRIC_UPDATED,{mediaType:e,metric:t,value:n});v(e)}function b(e,t,n){r.trigger(k["default"].METRIC_ADDED,{mediaType:e,metric:t,value:n});v(e)}function E(e){delete o[e];v(e)}function S(){o={};p()}function O(e){if(o.hasOwnProperty(e)){return o[e]}return null}function P(e){var t;if(o.hasOwnProperty(e)){t=o[e]}else{t=new a["default"];o[e]=t}return t}function x(t,r,n){var i=P(t);i[r].push(n);if(i[r].length>e){i[r].shift()}}function A(e,t,r,n,a,o){var u=new s["default"];u.tcpid=t;u.dest=r;u.topen=n;u.tclose=a;u.tconnect=o;j(e,i.metricsList.TCP_CONNECTION,u);return u}function I(e,t,r,n){var i=new u.HTTPRequestTrace;i.s=t;i.d=r;i.b=n;e.trace.push(i);if(!e.interval){e.interval=0}e.interval+=r;return i}function R(e,t,r,n,a,o,s,l,f,c,d,p,h,v){var y=new u.HTTPRequest;if(a&&a!==n){R(e,null,r,n,null,null,s,l,null,null,null,p,null,null);y.actualurl=a}y.tcpid=t;y.type=r;y.url=n;y.range=s;y.trequest=l;y.tresponse=f;y.responsecode=d;y._tfinish=c;y._stream=e;y._mediaduration=p;y._responseHeaders=h;y._serviceLocation=o;if(v){v.forEach(function(e){I(y,e.s,e.d,e.b)})}else{delete y.interval;delete y.trace}j(e,i.metricsList.HTTP_REQUEST,y);return y}function D(e,t,r,n,a){var o=new f["default"];o.t=t;o.mt=r;o.to=n;if(a){o.lto=a}else{delete o.lto}j(e,i.metricsList.TRACK_SWITCH,o);return o}function j(e,t,r){x(e,t,r);b(e,t,r)}function L(e,t,r){var n=new d["default"];n.t=t;n.level=r;j(e,i.metricsList.BUFFER_LEVEL,n);return n}function N(e,t,r){var n=new h["default"];n.target=r;n.state=t;j(e,i.metricsList.BUFFER_STATE,n);return n}function F(e,t,r,n){var a=new y["default"];a.time=t;a.range=n;a.manifestInfo=r;j(e,i.metricsList.DVR_INFO,a);return a}function B(e,t){var r=new m["default"];var n=P(e).DroppedFrames;r.time=t.creationTime;r.droppedFrames=t.droppedVideoFrames;if(n.length>0&&n[n.length-1]==r){return n[n.length-1]}j(e,i.metricsList.DROPPED_FRAMES,r);return r}function U(e,t,r,n,a,o,s,u,l){var f=new T["default"];f.mediaType=e;f.t=t;f.type=r;f.startTime=n;f.availabilityStartTime=a;f.duration=o;f.quality=s;f.range=u;f.state=l;j(e,i.metricsList.SCHEDULING_INFO,f);return f}function H(e,t,r){var n=new C["default"];n.loadingRequests=t;n.executedRequests=r;P(e).RequestsQueue=n;b(e,i.metricsList.REQUESTS_QUEUE,n)}function V(e,t,r,n,a,o,s,u,l,f){var c=new _.ManifestUpdate;c.mediaType=e;c.type=t;c.requestTime=r;c.fetchTime=n;c.availabilityStartTime=a;c.presentationStartTime=o;c.clientTimeOffset=s;c.currentTime=u;c.buffered=l;c.latency=f;x("stream","ManifestUpdate",c);b(e,i.metricsList.MANIFEST_UPDATE,c);return c}function q(e,t){if(e){for(var r in t){e[r]=t[r]}g(e.mediaType,i.metricsList.MANIFEST_UPDATE,e)}}function G(e,t,r,n,a){if(e){var o=new _.ManifestUpdateStreamInfo;o.id=t;o.index=r;o.start=n;o.duration=a;e.streamInfo.push(o);g(e.mediaType,i.metricsList.MANIFEST_UPDATE_STREAM_INFO,e);return o}return null}function z(e,t,r,n,a,o,s,u){if(e){var l=new _.ManifestUpdateTrackInfo;l.id=t;l.index=r;l.streamIndex=n;l.mediaType=a;l.startNumber=s;l.fragmentInfoType=u;l.presentationTimeOffset=o;e.trackInfo.push(l);g(e.mediaType,i.metricsList.MANIFEST_UPDATE_TRACK_INFO,e);return l}return null}function K(e){var t="stream";if(e.trace&&Array.isArray(e.trace)){e.trace.forEach(function(e){if(e.hasOwnProperty("subreplevel")&&!e.subreplevel){delete e.subreplevel}})}else{delete e.trace}j(t,i.metricsList.PLAY_LIST,e);return e}function Y(e){var t="stream";j(t,i.metricsList.DVB_ERRORS,e);return e}function W(e,t){var r=new M["default"];r._s=t;P(e).BolaState=[r];b(e,"BolaState",r);return r}n={metricsChanged:p,metricChanged:v,metricUpdated:g,metricAdded:b,clearCurrentMetricsForType:E,clearAllCurrentMetrics:S,getReadOnlyMetricsFor:O,getMetricsFor:P,addTcpConnection:A,addHttpRequest:R,addRepresentationSwitch:D,addBufferLevel:L,addBufferState:N,addDVRInfo:F,addDroppedFrames:B,addSchedulingInfo:U,addRequestsQueue:H,addManifestUpdate:V,updateManifestUpdateInfo:q,addManifestUpdateStreamInfo:G,addManifestUpdateRepresentationInfo:z,addPlayList:K,addDVBErrors:Y,updateBolaState:W,setConfig:c};l();return n}I.__dashjs_factory_name="MetricsModel";t["default"]=x["default"].getSingletonFactory(I);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(3);var a=n(i);var o=r(2);var s=n(o);var u=r(0);var l=n(u);var f="mediasource";var c="mediakeys";var d="manifest";var p="SIDX";var h="content";var v="initialization";var y="xlink";var g="codec";var m="parse";var _="nostreams";var b="parse";function T(){var e=undefined;var t=this.context;var r=(0,a["default"])(t).getInstance();function n(e){r.trigger(s["default"].ERROR,{error:"capability",event:e})}function i(e,t,n){r.trigger(s["default"].ERROR,{error:"download",event:{id:e,url:t,request:n}})}function o(e,t,n,i){r.trigger(s["default"].ERROR,{error:"manifestError",event:{message:e,id:t,manifest:n,event:i}})}function u(e,t,n){r.trigger(s["default"].ERROR,{error:"cc",event:{message:e,id:t,cc:n}})}function l(e){r.trigger(s["default"].ERROR,{error:"mediasource",event:e})}function f(e){r.trigger(s["default"].ERROR,{error:"key_session",event:e})}function c(e){r.trigger(s["default"].ERROR,{error:"key_message",event:e})}e={capabilityError:n,downloadError:i,manifestError:o,timedTextError:u,mediaSourceError:l,mediaKeySessionError:f,mediaKeyMessageError:c};return e}T.__dashjs_factory_name="ErrorHandler";var E=l["default"].getSingletonFactory(T);E.CAPABILITY_ERROR_MEDIASOURCE=f;E.CAPABILITY_ERROR_MEDIAKEYS=c;E.DOWNLOAD_ERROR_ID_MANIFEST=d;E.DOWNLOAD_ERROR_ID_SIDX=p;E.DOWNLOAD_ERROR_ID_CONTENT=h;E.DOWNLOAD_ERROR_ID_INITIALIZATION=v;E.DOWNLOAD_ERROR_ID_XLINK=y;E.MANIFEST_ERROR_ID_CODEC=g;E.MANIFEST_ERROR_ID_PARSE=m;E.MANIFEST_ERROR_ID_NOSTREAMS=_;E.TIMED_TEXT_ERROR_ID_PARSE=b;t["default"]=E;e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;t.fixEvent=g;t.on=b;t.off=T;t.trigger=E;t.one=w;var n=r(6);var i=h(n);var a=r(37);var o=h(a);var s=r(12);var u=p(s);var l=r(8);var f=p(l);var c=r(7);var d=p(c);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function v(e,t){var r=i.getElData(e);if(r.handlers[t].length===0){delete r.handlers[t];if(e.removeEventListener){e.removeEventListener(t,r.dispatcher,false)}else if(e.detachEvent){e.detachEvent("on"+t,r.dispatcher)}}if(Object.getOwnPropertyNames(r.handlers).length<=0){delete r.handlers;delete r.dispatcher;delete r.disabled}if(Object.getOwnPropertyNames(r).length===0){i.removeElData(e)}}function y(e,t,r,n){r.forEach(function(r){e(t,r,n)})}function g(e){function t(){return true}function r(){return false}if(!e||!e.isPropagationStopped){var n=e||f["default"].event;e={};for(var i in n){if(i!=="layerX"&&i!=="layerY"&&i!=="keyLocation"&&i!=="webkitMovementX"&&i!=="webkitMovementY"){if(!(i==="returnValue"&&n.preventDefault)){e[i]=n[i]}}}if(!e.target){e.target=e.srcElement||d["default"]}if(!e.relatedTarget){e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement}e.preventDefault=function(){if(n.preventDefault){n.preventDefault()}e.returnValue=false;n.returnValue=false;e.defaultPrevented=true};e.defaultPrevented=false;e.stopPropagation=function(){if(n.stopPropagation){n.stopPropagation()}e.cancelBubble=true;n.cancelBubble=true;e.isPropagationStopped=t};e.isPropagationStopped=r;e.stopImmediatePropagation=function(){if(n.stopImmediatePropagation){n.stopImmediatePropagation()}e.isImmediatePropagationStopped=t;e.stopPropagation()};e.isImmediatePropagationStopped=r;if(e.clientX!==null&&e.clientX!==undefined){var a=d["default"].documentElement;var o=d["default"].body;e.pageX=e.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0);e.pageY=e.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode;if(e.button!==null&&e.button!==undefined){e.button=e.button&1?0:e.button&4?1:e.button&2?2:0}}return e}var m=false;(function(){try{var e=Object.defineProperty({},"passive",{get:function e(){m=true}});f["default"].addEventListener("test",null,e)}catch(e){}})();var _=["touchstart","touchmove"];function b(e,t,r){if(Array.isArray(t)){return y(b,e,t,r)}var n=i.getElData(e);if(!n.handlers){n.handlers={}}if(!n.handlers[t]){n.handlers[t]=[]}if(!r.guid){r.guid=o.newGUID()}n.handlers[t].push(r);if(!n.dispatcher){n.disabled=false;n.dispatcher=function(t,r){if(n.disabled){return}t=g(t);var i=n.handlers[t.type];if(i){var a=i.slice(0);for(var o=0,s=a.length;o<s;o++){if(t.isImmediatePropagationStopped()){break}else{try{a[o].call(e,t,r)}catch(e){u["default"].error(e)}}}}}}if(n.handlers[t].length===1){if(e.addEventListener){var a=false;if(m&&_.indexOf(t)>-1){a={passive:true}}e.addEventListener(t,n.dispatcher,a)}else if(e.attachEvent){e.attachEvent("on"+t,n.dispatcher)}}}function T(e,t,r){if(!i.hasElData(e)){return}var n=i.getElData(e);if(!n.handlers){return}if(Array.isArray(t)){return y(T,e,t,r)}var a=function t(r){n.handlers[r]=[];v(e,r)};if(!t){for(var o in n.handlers){a(o)}return}var s=n.handlers[t];if(!s){return}if(!r){a(t);return}if(r.guid){for(var u=0;u<s.length;u++){if(s[u].guid===r.guid){s.splice(u--,1)}}}v(e,t)}function E(e,t,r){var n=i.hasElData(e)?i.getElData(e):{};var a=e.parentNode||e.ownerDocument;if(typeof t==="string"){t={type:t,target:e}}t=g(t);if(n.dispatcher){n.dispatcher.call(e,t,r)}if(a&&!t.isPropagationStopped()&&t.bubbles===true){E.call(null,a,t,r)}else if(!a&&!t.defaultPrevented){var o=i.getElData(t.target);if(t.target[t.type]){o.disabled=true;if(typeof t.target[t.type]==="function"){t.target[t.type]()}o.disabled=false}}return!t.defaultPrevented}function w(e,t,r){if(Array.isArray(t)){return y(w,e,t,r)}var n=function n(){T(e,t,n);r.apply(this,arguments)};n.guid=r.guid=r.guid||o.newGUID();b(e,t,n)}},function(e,t,r){"use strict";t.__esModule=true;function n(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e;e=e<0?0:e;var r=Math.floor(e%60);var n=Math.floor(e/60%60);var i=Math.floor(e/3600);var a=Math.floor(t/60%60);var o=Math.floor(t/3600);if(isNaN(e)||e===Infinity){i=n=r="-"}i=i>0||o>0?i+":":"";n=((i||a>=10)&&n<10?"0"+n:n)+":";r=r<10?"0"+r:r;return i+n+r}t["default"]=n},function(e,t){var r=e.exports={version:"2.4.0"};if(typeof __e=="number")__e=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function i(e){return e&&e.__esModule?e:{default:e}}var a=r(13);var o=r(60);var s=i(o);var u=r(27);var l=i(u);var f=r(0);var c=i(f);var d=r(118);var p=n(d);var h=r(323);function v(){var e=undefined;var t=this.context;var r=(0,s["default"])(t).getInstance();function n(e,t){var n;var i=r.getValue();var a=i.Period_asArray[t];n=O(a,e);if(n===null){return null}return n.bandwidth}function i(e,t){var n;var i=r.getValue();var a=i.Period_asArray[t];n=C(a,e);return n}function o(e,t){var n;var i=r.getValue();var a=i.Period_asArray[t];n=P(a,e);return n}function u(e){return g(e,p.TRACK_SWITCH)}function f(e){return g(e,p.BUFFER_LEVEL)}function c(e){var t=f(e);if(t){return(0,h.round10)(t.level/1e3,-3)}return 0}function d(e){return e.RequestsQueue}function v(e){if(e===null){return null}var t=e.HttpList;var r=null;var n,i;if(t===null||t.length<=0){return null}n=t.length;i=n-1;while(i>=0){if(t[i].responsecode){r=t[i];break}i--}return r}function y(e){if(e===null){return[]}return!!e.HttpList?e.HttpList:[]}function g(e,t){if(e===null){return null}var r=e[t];if(r===null){return null}var n=r.length;if(n<=0){return null}return r[n-1]}function m(e){return g(e,p.DROPPED_FRAMES)}function _(e){return g(e,p.SCHEDULING_INFO)}function b(e){return g(e,p.MANIFEST_UPDATE)}function T(e){return g(e,p.DVR_INFO)}function E(e,t){var r={};var n,i,o;if(e===null){return null}n=y(e);for(o=n.length-1;o>=0;o--){i=n[o];if(i.type===a.HTTPRequest.MPD_TYPE){r=S(i._responseHeaders);break}}return r[t]===undefined?null:r[t]}function w(e,t){if(e===null)return null;var r=v(e);var n;if(r===null||r._responseHeaders===null)return null;n=S(r._responseHeaders);return n[t]===undefined?null:n[t]}function S(e){var t={};if(!e){return t}var r=e.trim().split("\r\n");for(var n=0,i=r.length;n<i;n++){var a=r[n];var o=a.indexOf(": ");if(o>0){t[a.substring(0,o)]=a.substring(o+2)}}return t}function C(e,t){var r=O(e,t,true);if(r!==null){return r}return-1}function O(e,t,r){var n,i,a,o,s,u;if(e){i=e.AdaptationSet_asArray;for(s=0;s<i.length;s=s+1){n=i[s];o=n.Representation_asArray;for(u=0;u<o.length;u=u+1){a=o[u];if(t===a.id){if(r){return u}else{return a}}}}}return null}function k(e,r){return(0,l["default"])(t).getInstance().getIsTypeOf(e,r)}function P(e,t){var r,n,i,a;if(!e||!t)return-1;n=e.AdaptationSet_asArray;for(a=0;a<n.length;a=a+1){r=n[a];i=r.Representation_asArray;if(k(r,t)){return i.length}}return-1}e={getBandwidthForRepresentation:n,getIndexForRepresentation:i,getMaxIndexForBufferType:o,getCurrentRepresentationSwitch:u,getLatestBufferLevelVO:f,getCurrentBufferLevel:c,getCurrentHttpRequest:v,getHttpRequests:y,getCurrentDroppedFrames:m,getCurrentSchedulingInfo:_,getCurrentDVRInfo:T,getCurrentManifestUpdate:b,getLatestFragmentRequestHeaderValueByID:w,getLatestMPDRequestHeaderValueByID:E,getRequestsQueue:d};return e}v.__dashjs_factory_name="DashMetrics";t["default"]=c["default"].getSingletonFactory(v);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(80);var a=n(i);var o=r(222);var s=n(o);var u=r(225);var l=n(u);var f=r(224);var c=n(f);var d=r(122);var p=n(d);var h=r(79);var v=n(h);var y=r(34);var g=n(y);var m=r(78);var _=n(m);var b=r(121);var T=n(b);var E=r(120);var w=n(E);var S=r(223);var C=n(S);var O=r(45);var k=n(O);var P=r(0);var x=n(P);function A(){var e=undefined;var t=this.context;var r=(0,v["default"])(t).getInstance();var n=(0,g["default"])(t).getInstance();var i=(0,_["default"])(t).getInstance();var o=(0,k["default"])(t).getInstance();function u(e,t){var r,n,i;var a=false;var o=false;var s=e.ContentComponent_asArray;var u=t!=="text"?new RegExp(t):new RegExp("(vtt|ttml)");if(e.Representation_asArray.length>0&&e.Representation_asArray[0].hasOwnProperty("codecs")){var l=e.Representation_asArray[0].codecs;if(l.search("stpp")===0||l.search("wvtt")===0){return t==="fragmentedText"}}if(s){if(s.length>1){return t==="muxed"}else if(s[0]&&s[0].contentType===t){a=true;o=true}}if(e.hasOwnProperty("mimeType")){a=u.test(e.mimeType);o=true}if(!o){r=0;n=e.Representation_asArray.length;while(!o&&r<n){i=e.Representation_asArray[r];if(i.hasOwnProperty("mimeType")){a=u.test(i.mimeType);o=true}r++}}return a}function f(e){return u(e,"audio")}function d(e){return u(e,"video")}function h(e){return u(e,"fragmentedText")}function y(e){return u(e,"text")}function m(e){return u(e,"muxed")}function b(e){return e==="text/vtt"||e==="application/ttml+xml"}function E(e){var t="";if(e.hasOwnProperty("lang")){t=e.lang.replace(/[^A-Za-z0-9-]/g,"")}return t}function S(e){return e.hasOwnProperty("Viewpoint")?e.Viewpoint:null}function O(e){return e.hasOwnProperty("Role_asArray")?e.Role_asArray:[]}function P(e){return e.hasOwnProperty("Accessibility_asArray")?e.Accessibility_asArray:[]}function x(e){return e.hasOwnProperty("AudioChannelConfiguration_asArray")?e.AudioChannelConfiguration_asArray:[]}function A(e){return O(e).filter(function(e){return e.value==="main"})[0]}function M(){return function(e,t){return e.bandwidth-t.bandwidth}}function I(e){if(e.Representation_asArray!==undefined&&e.Representation_asArray!==null){e.Representation_asArray.sort(M())}return e}function R(e,t,r){var n=t.Period_asArray[r].AdaptationSet_asArray;var i,a;for(i=0,a=n.length;i<a;i++){if(n[i].hasOwnProperty("id")&&n[i].id===e){return n[i]}}return null}function D(e,t,r){var n=t.Period_asArray[r].AdaptationSet_asArray;return n[e]}function j(e,t,r){var n=t.Period_asArray[r].AdaptationSet_asArray;var i,a;for(i=0,a=n.length;i<a;i++){if(n[i]===e){return i}}return-1}function L(e,t,r){var n=e.Period_asArray[t].AdaptationSet_asArray;var i,a;var o=[];for(i=0,a=n.length;i<a;i++){if(u(n[i],r)){o.push(I(n[i]))}}return o}function N(e,t,r,a){var o=L(e,t,r);if(!o||o.length===0)return null;if(o.length>1&&a){var s=n.getCurrentTrackFor(r,a);var u=i.getAllMediaInfoForType(e,a,r);for(var l=0,f=o.length;l<f;l++){if(s&&n.isTracksEqual(s,u[l])){return o[l]}if(A(o[l])){return o[l]}}}return o[0]}function F(e){var t=e.Representation_asArray[0];return t.mimeType+';codecs="'+t.codecs+'"'}function B(e){return e.Representation_asArray[0].mimeType}function U(e){if(!e||!e.hasOwnProperty("cenc:default_KID")){return null}return e["cenc:default_KID"]}function H(e){if(!e||!e.hasOwnProperty("ContentProtection_asArray")||e.ContentProtection_asArray.length===0){return null}return e.ContentProtection_asArray}function V(e){var t=false;if(e.hasOwnProperty("type")){t=e.type==="dynamic"}return t}function q(e){var t=V(e);var r,n;r=!isNaN(e.timeShiftBufferDepth);n=t&&r;return n}function G(e,t){var r=false;if(e.profiles&&e.profiles.length>0){r=e.profiles.indexOf(t)!==-1}return r}function z(e){return G(e,"urn:mpeg:dash:profile:isoff-on-demand:2011")}function K(e){return G(e,"urn:dvb:dash:profile:dvb-dash:2014")}function Y(e){var t;if(e.hasOwnProperty("mediaPresentationDuration")){t=e.mediaPresentationDuration}else{t=Number.MAX_VALUE}return t}function W(e){return e.bandwidth}function X(e){var t=arguments.length<=1||arguments[1]===undefined?0:arguments[1];var r=NaN;if(e.hasOwnProperty("minimumUpdatePeriod")){r=e.minimumUpdatePeriod}return isNaN(r)?r:Math.max(r-t,1)}function Q(e){return e.Representation_asArray.length}function $(e){if(!e||!e.Representation_asArray||!e.Representation_asArray.length)return null;var t=I(e);var r=t.Representation_asArray;var n=r.length;var i=[];for(var a=0;a<n;a++){i.push({bandwidth:r[a].bandwidth,width:r[a].width||0,height:r[a].height||0})}return i}function J(e,t){return t.Representation_asArray[e]}function Z(e,t){var n=I(e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index]);var i=[];var o,s,u,l,f;for(var c=0;c<n.Representation_asArray.length;c++){l=n.Representation_asArray[c];o=new a["default"];o.index=c;o.adaptation=t;if(l.hasOwnProperty("id")){o.id=l.id}if(l.hasOwnProperty("codecs")){o.codecs=l.codecs}if(l.hasOwnProperty("codecPrivateData")){o.codecPrivateData=l.codecPrivateData}if(l.hasOwnProperty("bandwidth")){o.bandwidth=l.bandwidth}if(l.hasOwnProperty("width")){o.width=l.width}if(l.hasOwnProperty("height")){o.height=l.height}if(l.hasOwnProperty("maxPlayoutRate")){o.maxPlayoutRate=l.maxPlayoutRate}if(l.hasOwnProperty("SegmentBase")){u=l.SegmentBase;o.segmentInfoType="SegmentBase"}else if(l.hasOwnProperty("SegmentList")){u=l.SegmentList;if(u.hasOwnProperty("SegmentTimeline")){o.segmentInfoType="SegmentTimeline";f=u.SegmentTimeline.S_asArray[u.SegmentTimeline.S_asArray.length-1];if(!f.hasOwnProperty("r")||f.r>=0){o.useCalculatedLiveEdgeTime=true}}else{o.segmentInfoType="SegmentList";o.useCalculatedLiveEdgeTime=true}}else if(l.hasOwnProperty("SegmentTemplate")){u=l.SegmentTemplate;if(u.hasOwnProperty("SegmentTimeline")){o.segmentInfoType="SegmentTimeline";f=u.SegmentTimeline.S_asArray[u.SegmentTimeline.S_asArray.length-1];if(!f.hasOwnProperty("r")||f.r>=0){o.useCalculatedLiveEdgeTime=true}}else{o.segmentInfoType="SegmentTemplate"}if(u.hasOwnProperty("initialization")){o.initialization=u.initialization.split("$Bandwidth$").join(l.bandwidth).split("$RepresentationID$").join(l.id)}}else{o.segmentInfoType="BaseURL"}if(u){if(u.hasOwnProperty("Initialization")){s=u.Initialization;if(s.hasOwnProperty("sourceURL")){o.initialization=s.sourceURL}else if(s.hasOwnProperty("range")){o.range=s.range}}else if(l.hasOwnProperty("mimeType")&&b(l.mimeType)){o.range=0}if(u.hasOwnProperty("timescale")){o.timescale=u.timescale}if(u.hasOwnProperty("duration")){o.segmentDuration=u.duration/o.timescale}if(u.hasOwnProperty("startNumber")){o.startNumber=u.startNumber}if(u.hasOwnProperty("indexRange")){o.indexRange=u.indexRange}if(u.hasOwnProperty("presentationTimeOffset")){o.presentationTimeOffset=u.presentationTimeOffset/o.timescale}}o.MSETimeOffset=r.calcMSETimeOffset(o);o.path=[t.period.index,t.index,c];i.push(o)}return i}function ee(e,t){var r=e.Period_asArray[t.index];var n=[];var i,a;for(var o=0;o<r.AdaptationSet_asArray.length;o++){a=r.AdaptationSet_asArray[o];i=new s["default"];if(a.hasOwnProperty("id")){i.id=a.id}i.index=o;i.period=t;if(m(a)){i.type="muxed"}else if(f(a)){i.type="audio"}else if(d(a)){i.type="video"}else if(h(a)){i.type="fragmentedText"}else{i.type="text"}n.push(i)}return n}function te(e,t){var r=V(e);var n=[];var i=null;var a=null;var o=null;var s=null;var u,f;for(f=0,u=e.Period_asArray.length;f<u;f++){a=e.Period_asArray[f];if(a.hasOwnProperty("start")){s=new l["default"];s.start=a.start}else if(i!==null&&a.hasOwnProperty("duration")&&o!==null){s=new l["default"];s.start=o.start+o.duration;s.duration=a.duration}else if(f===0&&!r){s=new l["default"];s.start=0}if(o!==null&&isNaN(o.duration)){o.duration=s.start-o.start}if(s!==null){s.id=re(a,f)}if(s!==null&&a.hasOwnProperty("duration")){s.duration=a.duration}if(s!==null){s.index=f;s.mpd=t;n.push(s);i=a;o=s}a=null;s=null}if(n.length===0){return n}if(o!==null&&isNaN(o.duration)){o.duration=ie(e,o)-o.start}return n}function re(e,t){if(!e){throw new Error("Period cannot be null or undefined")}var r=l["default"].DEFAULT_ID+"_"+t;if(e.hasOwnProperty("id")&&e.id!=="__proto__"){r=e.id}return r}function ne(e){var t=new c["default"];t.manifest=e;if(e.hasOwnProperty("availabilityStartTime")){t.availabilityStartTime=new Date(e.availabilityStartTime.getTime())}else{t.availabilityStartTime=new Date(e.loadedTime.getTime())}if(e.hasOwnProperty("availabilityEndTime")){t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())}if(e.hasOwnProperty("minimumUpdatePeriod")){t.minimumUpdatePeriod=e.minimumUpdatePeriod}if(e.hasOwnProperty("mediaPresentationDuration")){t.mediaPresentationDuration=e.mediaPresentationDuration}if(e.hasOwnProperty("suggestedPresentationDelay")){t.suggestedPresentationDelay=e.suggestedPresentationDelay}if(e.hasOwnProperty("timeShiftBufferDepth")){t.timeShiftBufferDepth=e.timeShiftBufferDepth}if(e.hasOwnProperty("maxSegmentDuration")){t.maxSegmentDuration=e.maxSegmentDuration}return t}function ie(e,t){var r=V(e);var n=undefined;if(e.mediaPresentationDuration){n=e.mediaPresentationDuration}else if(t.duration){n=t.duration}else if(r){n=Number.POSITIVE_INFINITY}else{throw new Error("Must have @mediaPresentationDuratio on MPD or an explicit @duration on the last period.")}return n}function ae(e,t){var r=e.Period_asArray;var n=r[t.index].EventStream_asArray;var i=[];if(n){for(var a=0;a<n.length;a++){var o=new C["default"];o.period=t;o.timescale=1;if(n[a].hasOwnProperty("schemeIdUri")){o.schemeIdUri=n[a].schemeIdUri}else{throw new Error("Invalid EventStream. SchemeIdUri has to be set")}if(n[a].hasOwnProperty("timescale")){o.timescale=n[a].timescale}if(n[a].hasOwnProperty("value")){o.value=n[a].value}for(var s=0;s<n[a].Event_asArray.length;s++){var u=new T["default"];u.presentationTime=0;u.eventStream=o;if(n[a].Event_asArray[s].hasOwnProperty("presentationTime")){u.presentationTime=n[a].Event_asArray[s].presentationTime}if(n[a].Event_asArray[s].hasOwnProperty("duration")){u.duration=n[a].Event_asArray[s].duration}if(n[a].Event_asArray[s].hasOwnProperty("id")){u.id=n[a].Event_asArray[s].id}i.push(u)}}}return i}function oe(e,t){var r=[];if(!e)return r;for(var n=0;n<e.length;n++){var i=new C["default"];i.timescale=1;i.representation=t;if(e[n].hasOwnProperty("schemeIdUri")){i.schemeIdUri=e[n].schemeIdUri}else{throw new Error("Invalid EventStream. SchemeIdUri has to be set")}if(e[n].hasOwnProperty("timescale")){i.timescale=e[n].timescale}if(e[n].hasOwnProperty("value")){i.value=e[n].value}r.push(i)}return r}function se(e,t){if(!t||!e)return[];var r=e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index].InbandEventStream_asArray;return oe(r,null)}function ue(e,t){var r=e.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index].Representation_asArray[t.index].InbandEventStream_asArray;return oe(r,t)}function le(e){var t=V(e);var r=e.hasOwnProperty("availabilityStartTime");var n=e.UTCTiming_asArray;var i=[];if(t||r){if(n){n.forEach(function(e){var t=new p["default"];if(e.hasOwnProperty("schemeIdUri")){t.schemeIdUri=e.schemeIdUri}else{return}if(e.hasOwnProperty("value")){t.value=e.value.toString()}else{return}i.push(t)})}}return i}function fe(e){var t=[];var r=e.BaseURL_asArray||[e.baseUri];var n=false;r.some(function(r){if(r){var i=new w["default"];var a=r.__text||r;if(o.isRelative(a)){n=true;if(e.baseUri){a=e.baseUri+a}}i.url=a;if(r.hasOwnProperty("serviceLocation")&&r.serviceLocation.length){i.serviceLocation=r.serviceLocation}else{i.serviceLocation=a}if(r.hasOwnProperty("dvb:priority")){i.dvb_priority=r["dvb:priority"]}if(r.hasOwnProperty("dvb:weight")){i.dvb_weight=r["dvb:weight"]}t.push(i);return n}});return t}function ce(e){if(e.hasOwnProperty("Location")){e.Location=e.Location_asArray[0]}return e.Location}e={getIsTypeOf:u,getIsAudio:f,getIsVideo:d,getIsText:y,getIsMuxed:m,getIsTextTrack:b,getIsFragmentedText:h,getIsMain:A,getLanguageForAdaptation:E,getViewpointForAdaptation:S,getRolesForAdaptation:O,getAccessibilityForAdaptation:P,getAudioChannelConfigurationForAdaptation:x,processAdaptation:I,getAdaptationForIndex:D,getIndexForAdaptation:j,getAdaptationForId:R,getAdaptationsForType:L,getAdaptationForType:N,getCodec:F,getMimeType:B,getKID:U,getContentProtectionData:H,getIsDynamic:V,getIsDVR:q,getIsOnDemand:z,getIsDVB:K,getDuration:Y,getBandwidth:W,getManifestUpdatePeriod:X,getRepresentationCount:Q,getBitrateListForAdaptation:$,getRepresentationFor:J,getRepresentationsForAdaptation:Z,getAdaptationsForPeriod:ee,getRegularPeriods:te,getMpd:ne,getEventsForPeriod:ae,getEventStreams:oe,getEventStreamForAdaptationSet:se,getEventStreamForRepresentation:ue,getUTCTimingSources:le,getBaseURLsFromElement:fe,getRepresentationSortFunction:M,getLocation:ce};return e}A.__dashjs_factory_name="DashManifestModel";t["default"]=x["default"].getSingletonFactory(A);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(299);var a=n(i);var o=r(91);var s=n(o);var u=r(10);var l=n(u);var f=r(59);var c=n(f);var d=r(3);var p=n(d);var h=r(2);var v=n(h);var y=r(41);var g=n(y);var m=r(0);var _=n(m);var b=r(60);var T=n(b);var E=r(27);var w=n(E);var S=r(43);var C=n(S);var O=r(275);var k=n(O);var P=r(19);var x=n(P);var A=r(276);var M=n(A);var I=r(274);var R=n(I);var D=r(21);var j=n(D);var L=r(26);var N=n(L);var F=r(4);var B=n(F);var U="abandonload";var H="allowload";var V=1e3;var q=100;var G=0;function z(){var e=this.context;var t=(0,B["default"])(e).getInstance();var r=t.log;var n=(0,p["default"])(e).getInstance();var i=undefined,o=undefined,u=undefined,f=undefined,d=undefined,h=undefined,y=undefined,m=undefined,_=undefined,b=undefined,E=undefined,S=undefined,O=undefined,P=undefined,A=undefined,I=undefined,D=undefined,L=undefined,F=undefined,z=undefined,K=undefined,Y=undefined,W=undefined,X=undefined,Q=undefined,$=undefined,J=undefined,Z=undefined;function ee(){f={video:true,audio:true};d={};h={};y={};m={};_={};E={};b={};X={};O=false;P=false;if(A===undefined){A=false}Y=(0,s["default"])(e).getInstance();K=(0,l["default"])(e).getInstance();L=(0,T["default"])(e).getInstance();F=(0,w["default"])(e).getInstance();z=(0,C["default"])(e).getInstance();$=(0,j["default"])(e).getInstance();J=(0,N["default"])(e).getInstance();Z=(new Date).getTime()/1e3}function te(t,r){X[t]=(0,M["default"])(e).create();b[t]=r;E[t]=E[t]||{};E[t].state=H;n.on(v["default"].LOADING_PROGRESS,Ve,this);if(t=="video"){n.on(g["default"].QUALITY_CHANGE_RENDERED,ie,this);Q=(0,R["default"])(e).create();Ue()}}function re(){n.off(v["default"].LOADING_PROGRESS,Ve,this);n.off(g["default"].QUALITY_CHANGE_RENDERED,ie,this);W=undefined;Q=undefined;clearTimeout(S);S=null;ee()}function ne(e){if(!e)return;if(e.abrRulesCollection){o=e.abrRulesCollection}if(e.streamController){u=e.streamController}}function ie(e){if(e.mediaType==="video"){W=e.newQuality;Q.push(W,z.getPlaybackQuality())}}function ae(e,t){var r;d[t]=d[t]||{};if(!d[t].hasOwnProperty(e)){d[t][e]=0}r=Ne(d[t][e],e);r=Fe(r,e,d[t][e]);r=He(r,e);return r}function oe(e){var t=Y.getSavedBitrateSettings(e);if(!y.hasOwnProperty(e)){if(m.hasOwnProperty(e)){var r=L.getValue();var n=F.getAdaptationForType(r,0,e).Representation;if(Array.isArray(n)){var i=Math.max(Math.round(n.length*m[e])-1,0);y[e]=n[i].bandwidth}else{y[e]=0}}else if(!isNaN(t)){y[e]=t}else{y[e]=e==="video"?V:q}}return y[e]}function se(e,t){y[e]=t}function ue(e){if(!m.hasOwnProperty(e)){return null}return m[e]}function le(e,t){m[e]=t}function fe(e){if(y.hasOwnProperty("max")&&y.max.hasOwnProperty(e)){return y.max[e]}return NaN}function ce(e){if(y.hasOwnProperty("min")&&y.min.hasOwnProperty(e)){return y.min[e]}return NaN}function de(e,t){y.max=y.max||{};y.max[e]=t}function pe(e,t){y.min=y.min||{};y.min[e]=t}function he(e){if(m.hasOwnProperty("max")&&m.max.hasOwnProperty(e)){return m.max[e]}return 1}function ve(e,t){m.max=m.max||{};m.max[e]=t}function ye(e){return f[e]}function ge(e,t){f[e]=t}function me(){return O}function _e(e){O=e}function be(){return P}function Te(e){P=e}function Ee(n){var i=n.getType();var a=n.getStreamInfo();var s=a.id;var u=De(i,a);var l=(0,k["default"])(e).create({streamProcessor:n,currentValue:u,playbackIndex:W,switchHistory:X[i],droppedFramesHistory:Q,hasRichBuffer:xe(i)});if(Q){Q.push(W,z.getPlaybackQuality())}if(ye(i)){var f=ae(i,s);var c=o.getMaxQuality(l);var d=c.value;if(d>f){d=f}X[i].push({oldValue:u,newValue:d});if(d>x["default"].NO_CHANGE&&d!=u){if(E[i].state===H||d>u){Se(i,a,u,d,f,c.reason)}}else if(t.getLogToBrowserConsole()){var p=J.getCurrentBufferLevel($.getReadOnlyMetricsFor(i));r("AbrController ("+i+") stay on "+u+"/"+f+" (buffer: "+p+")")}}}function we(e,t,r,n){var i=t.id;var a=De(e,t);var o=r!==null&&!isNaN(r)&&r%1===0;if(!o)throw new Error("argument is not an integer");var s=ae(e,i);if(r!==a&&r>=0&&r<=s){Se(e,t,a,r,s,n)}}function Se(e,i,a,o,s,u){if(t.getLogToBrowserConsole()){var l=J.getCurrentBufferLevel($.getReadOnlyMetricsFor(e));r("AbrController ("+e+") switch from "+a+" to "+o+"/"+s+" (buffer: "+l+")\n"+JSON.stringify(u))}je(e,i.id,o);n.trigger(v["default"].QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:i,oldQuality:a,newQuality:o,reason:u})}function Ce(e,t){E[e].state=t}function Oe(e){return E[e].state}function ke(e,t,r){if(r&&b[e.type].getCurrentRepresentationInfo()&&b[e.type].getCurrentRepresentationInfo().fragmentDuration){r=r/1e3;var n=b[e.type].getCurrentRepresentationInfo().fragmentDuration;if(r>n){return 0}else{var i=r/n;t=t*(1-i)}}var a=Pe(e);if(!a||a.length===0){return G}for(var o=a.length-1;o>=0;o--){var s=a[o];if(t*1e3>=s.bitrate){return o}}return 0}function Pe(e){if(!e||!e.bitrateList)return null;var t=e.bitrateList;var r=e.type;var n=[];var i;for(var o=0,s=t.length;o<s;o++){i=new a["default"];i.mediaType=r;i.qualityIndex=o;i.bitrate=t[o].bandwidth;i.width=t[o].width;i.height=t[o].height;n.push(i)}return n}function xe(e){var t=$.getReadOnlyMetricsFor(e);var r=J.getCurrentBufferLevel(t);var n=t.BufferState.length>0?t.BufferState[t.BufferState.length-1]:null;var i=false;if(n&&r>n.target){i=r>n.target+K.getRichBufferThreshold()}return i}function Ae(e,t){_[e]=t}function Me(e){return _[e]}function Ie(e){var t=e.type;var r=e.streamInfo.id;var n=e.representationCount-1;Le(t,r,n);return n}function Re(e){var t;var r=e.id;var n=De("audio",e);var i=De("video",e);t=n===ae("audio",r)&&i===ae("video",r);return t}function De(e,t){var r=t.id;var n;h[r]=h[r]||{};if(!h[r].hasOwnProperty(e)){h[r][e]=G}n=h[r][e];return n}function je(e,t,r){h[t]=h[t]||{};h[t][e]=r}function Le(e,t,r){d[t]=d[t]||{};d[t][e]=r}function Ne(e,t){var r=e;if(!b[t]){return r}var n=ce(t);if(n){var i=ke(b[t].getMediaInfo(),n);r=Math.max(e,i)}var a=fe(t);if(a){var o=ke(b[t].getMediaInfo(),a);r=Math.min(r,o)}return r}function Fe(e,t,r){var n=he(t);if(isNaN(n)||n>=1||n<0){return e}return Math.min(e,Math.round(r*n))}function Be(e){A=e}function Ue(){var e=z.getElement();if(e!==undefined){var t=P&&window.hasOwnProperty("devicePixelRatio");var r=t?window.devicePixelRatio:1;I=e.clientWidth*r;D=e.clientHeight*r}}function He(e,t){if(t!=="video"||!O||!b[t]){return e}if(!A){Ue()}var r=L.getValue();var n=F.getAdaptationForType(r,0,t).Representation;var i=e;if(I>0&&D>0){while(i>0&&n[i]&&I<n[i].width&&I-n[i-1].width<n[i].width-I){i=i-1}if(n.length-2>=i&&n[i].width===n[i+1].width){i=Math.min(e,i+1)}}return i}function Ve(t){var r=t.request.mediaType;if(ye(r)){var i=b[r].getScheduleController();if(!i)return;var a=(0,k["default"])(e).create({streamProcessor:b[r],currentRequest:t.request,currentValue:De(r,u.getActiveStreamInfo()),hasRichBuffer:xe(r)});var s=o.shouldAbandonFragment(a);if(s.value>x["default"].NO_CHANGE){var l=i.getFragmentModel();var f=l.getRequests({state:c["default"].FRAGMENT_MODEL_LOADING,index:t.request.index})[0];if(f){l.abortRequests();Ce(r,U);X[r].reset();X[r].push({oldValue:De(r,u.getActiveStreamInfo()),newValue:s.value,confidence:1,reason:s.reason});we(r,u.getActiveStreamInfo(),s.value,s.reason);n.trigger(v["default"].FRAGMENT_LOADING_ABANDONED,{streamProcessor:b[r],request:f,mediaType:r});clearTimeout(S);S=setTimeout(function(){Ce(r,H);S=null},K.getAbandonLoadTimeout())}}}}i={isPlayingAtTopQuality:Re,updateTopQualityIndex:Ie,getAverageThroughput:Me,getBitrateList:Pe,getQualityForBitrate:ke,getMaxAllowedBitrateFor:fe,getMinAllowedBitrateFor:ce,setMaxAllowedBitrateFor:de,setMinAllowedBitrateFor:pe,getMaxAllowedRepresentationRatioFor:he,setMaxAllowedRepresentationRatioFor:ve,getInitialBitrateFor:oe,setInitialBitrateFor:se,getInitialRepresentationRatioFor:ue,setInitialRepresentationRatioFor:le,setAutoSwitchBitrateFor:ge,getAutoSwitchBitrateFor:ye,setLimitBitrateByPortal:_e,getLimitBitrateByPortal:me,getUsePixelRatioInLimitBitrateByPortal:be,setUsePixelRatioInLimitBitrateByPortal:Te,getQualityFor:De,getAbandonmentStateFor:Oe,setAbandonmentStateFor:Ce,setPlaybackQuality:we,getPlaybackQuality:Ee,setAverageThroughput:Ae,getTopQualityIndexFor:ae,setElementSize:Ue,setWindowResizeEventCalled:Be,initialize:te,setConfig:ne,reset:re};ee();return i}z.__dashjs_factory_name="AbrController";var K=_["default"].getSingletonFactory(z);K.ABANDON_LOAD=U;K.QUALITY_DEFAULT=G;t["default"]=K;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(59);var a=n(i);var o=r(10);var s=n(o);var u=r(57);var l=n(u);var f=r(28);var c=n(f);var d=r(30);var p=n(d);var h=r(34);var v=n(h);var y=r(3);var g=n(y);var m=r(2);var _=n(m);var b=r(90);var T=n(b);var E=r(0);var w=n(E);var S=r(4);var C=n(S);var O=r(92);var k=n(O);var P="bufferLoaded";var x="bufferStalled";var A=.5;function M(e){var t=this.context;var r=(0,C["default"])(t).getInstance().log;var n=(0,g["default"])(t).getInstance();var i=e.metricsModel;var o=e.manifestModel;var u=e.sourceBufferController;var f=e.errHandler;var d=e.streamController;var h=e.mediaController;var y=e.adapter;var m=e.textController;var b=undefined,E=undefined,w=undefined,S=undefined,O=undefined,M=undefined,I=undefined,R=undefined,D=undefined,j=undefined,L=undefined,N=undefined,F=undefined,B=undefined,U=undefined,H=undefined,V=undefined,q=undefined,G=undefined,z=undefined,K=undefined,Y=undefined,W=undefined;function X(){E=c["default"].QUALITY_DEFAULT;w=false;S=0;O=Number.POSITIVE_INFINITY;I=0;R=Number.POSITIVE_INFINITY;j=null;L=x;F=0;B=false;U=false;H=false;V=false}function Q(e,r,i){D=e;Ie(r);G=i;Y=(0,s["default"])(t).getInstance();q=(0,p["default"])(t).getInstance();z=(0,c["default"])(t).getInstance();W=(0,k["default"])(t).getInstance();K=G.getScheduleController();E=z.getQualityFor(D,G.getStreamInfo());n.on(_["default"].DATA_UPDATE_COMPLETED,be,this);n.on(_["default"].INIT_FRAGMENT_LOADED,Z,this);n.on(_["default"].MEDIA_FRAGMENT_LOADED,te,this);n.on(_["default"].QUALITY_CHANGE_REQUESTED,ie,this);n.on(_["default"].STREAM_COMPLETED,Te,this);n.on(_["default"].PLAYBACK_PROGRESS,oe,this);n.on(_["default"].PLAYBACK_TIME_UPDATED,oe,this);n.on(_["default"].PLAYBACK_RATE_CHANGED,Se,this);n.on(_["default"].PLAYBACK_SEEKING,ae,this);n.on(_["default"].WALLCLOCK_TIME_UPDATED,we,this);n.on(_["default"].CURRENT_TRACK_CHANGED,Ee,this,g["default"].EVENT_PRIORITY_HIGH);n.on(_["default"].SOURCEBUFFER_APPEND_COMPLETED,ne,this);n.on(_["default"].SOURCEBUFFER_REMOVE_COMPLETED,me,this)}function $(e){if(!e||!M||!G)return null;var t=null;try{t=u.createSourceBuffer(M,e);if(t&&t.hasOwnProperty("initialize")){t.initialize(D,this)}}catch(e){f.mediaSourceError("Error creating "+D+" source buffer.")}xe(t);_e(G.getRepresentationInfoForQuality(E).MSETimeOffset);return t}function J(){return G&&d?G.getStreamInfo().id===d.getActiveStreamInfo().id:false}function Z(e){if(e.fragmentModel!==G.getFragmentModel())return;r("Init fragment finished loading saving to",D+"'s init cache");W.save(e.chunk);re(e.chunk)}function ee(e,t){var r=W.extract(e,t);if(r){re(r)}else{n.trigger(_["default"].INIT_REQUESTED,{sender:b})}}function te(e){if(e.fragmentModel!==G.getFragmentModel())return;var t=e.chunk;var r=t.bytes;var n=t.quality;var i=G.getRepresentationInfoForQuality(n);var s=o.getValue();var u=y.getEventsFor(s,i.mediaInfo,G);var l=y.getEventsFor(s,i,G);if(u&&u.length>0||l&&l.length>0){var f=G.getFragmentModel().getRequests({state:a["default"].FRAGMENT_MODEL_EXECUTED,quality:n,index:t.index})[0];var c=de(r,f,u,l);G.getEventController().addInbandEvents(c)}t.bytes=pe(r);re(t)}function re(e){U=true;N=e;u.append(j,e);if(e.mediaInfo.type==="video"){n.trigger(_["default"].VIDEO_CHUNK_RECEIVED,{chunk:e})}}function ne(e){if(j===e.buffer){if(e.error||!he()){if(e.error.code===l["default"].QUOTA_EXCEEDED_ERROR_CODE){O=u.getTotalBufferedTime(j)*.8}if(e.error.code===l["default"].QUOTA_EXCEEDED_ERROR_CODE||!he()){n.trigger(_["default"].QUOTA_EXCEEDED,{sender:b,criticalBufferLevel:O});ge(ye())}return}if(N&&!isNaN(N.index)){I=Math.max(N.index,I);le()}var t=u.getAllRanges(j);if(t&&t.length>0){for(var i=0,a=t.length;i<a;i++){r("Buffered Range for type:",D,":",t.start(i)," - ",t.end(i))}}oe();U=false;if(N){n.trigger(_["default"].BYTES_APPENDED,{sender:b,quality:N.quality,startTime:N.start,index:N.index,bufferedRanges:t})}}}function ie(e){if(E===e.newQuality||D!==e.mediaType||G.getStreamInfo().id!==e.streamInfo.id)return;_e(G.getRepresentationInfoForQuality(e.newQuality).MSETimeOffset);E=e.newQuality}function ae(){R=Number.POSITIVE_INFINITY;w=false;oe()}function oe(){se();ue()}function se(){if(q){S=u.getBufferLength(j,q.getTime());n.trigger(_["default"].BUFFER_LEVEL_UPDATED,{sender:b,bufferLevel:S});fe()}}function ue(){if(!J())return;i.addBufferState(D,L,K.getBufferTarget());i.addBufferLevel(D,new Date,S*1e3)}function le(){var e=I>=R-1;if(e&&!w){w=true;n.trigger(_["default"].BUFFERING_COMPLETED,{sender:b,streamInfo:G.getStreamInfo()})}}function fe(){if(S<A&&!w){ce(x)}else{ce(P)}}function ce(e){if(L===e||D==="fragmentedText"&&m.getAllTracksAreDisabled())return;L=e;ue();n.trigger(_["default"].BUFFER_LEVEL_STATE_CHANGED,{sender:b,state:e,mediaType:D,streamInfo:G.getStreamInfo()});n.trigger(e===P?_["default"].BUFFER_LOADED:_["default"].BUFFER_EMPTY,{mediaType:D});r(e===P?"Got enough buffer to start.":"Waiting for more buffer before starting playback.")}function de(e,r,n,i){var a=Math.max(isNaN(r.startTime)?0:r.startTime,0);var o=[];var s=[];V=false;var u=n.concat(i);for(var l=0,f=u.length;l<f;l++){o[u[l].schemeIdUri]=u[l]}var c=(0,T["default"])(t).getInstance().parse(e);var d=c.getBoxes("emsg");for(var l=0,f=d.length;l<f;l++){var p=y.getEvent(d[l],o,a);if(p){s.push(p)}}return s}function pe(e){if(!V){return e}var t=e.length;var r=Math.pow(256,2);var n=Math.pow(256,3);var i=new Uint8Array(e.length);var a=0;var o=0;while(a<t){var s=String.fromCharCode(e[a+4],e[a+5],e[a+6],e[a+7]);var u=e[a]*n+e[a+1]*r+e[a+2]*256+e[a+3]*1;if(s!="emsg"){for(var l=a;l<a+u;l++){i[o]=e[l];o++}}a+=u}return i.subarray(0,o)}function he(){var e=u.getTotalBufferedTime(j);return e<O}function ve(){if(!j)return;if(D==="fragmentedText")return;var e=j.buffered.length?j.buffered.start(0):0;var t=q.getTime()-e-Y.getBufferToKeep();if(t>0){r("pruning buffer: "+t+" seconds.");H=true;u.remove(j,0,Math.round(e+t),M)}}function ye(e){if(!j)return null;var t=q.getTime();var r=G.getFragmentModel().getRequests({state:a["default"].FRAGMENT_MODEL_EXECUTED,time:t,threshold:e})[0];var n=u.getBufferRange(j,t);var i=r&&!isNaN(r.startTime)?r.startTime:Math.floor(t);if(n===null&&j.buffered.length>0){i=j.buffered.end(j.buffered.length-1)}return{start:j.buffered.start(0),end:i}}function ge(e){if(!e||!j)return;u.remove(j,e.start,e.end,M)}function me(e){if(j!==e.buffer)return;if(H){H=false}se();n.trigger(_["default"].BUFFER_CLEARED,{sender:b,from:e.from,to:e.to,hasEnoughSpaceToAppend:he()})}function _e(e){if(j&&j.timestampOffset!==e&&!isNaN(e)){j.timestampOffset=e}}function be(e){if(e.sender.getStreamProcessor()!==G||e.error)return;_e(e.currentRepresentation.MSETimeOffset)}function Te(e){if(e.fragmentModel!==G.getFragmentModel())return;R=e.request.index;le()}function Ee(e){if(!j||e.newMediaInfo.type!==D||e.newMediaInfo.streamInfo.id!==G.getStreamInfo().id)return;if(h.getSwitchMode(D)===v["default"].TRACK_SWITCH_MODE_ALWAYS_REPLACE){ge(ye(0))}}function we(){F++;var e=F*(Y.getWallclockTimeUpdateInterval()/1e3);if(e>=Y.getBufferPruningInterval()&&!U){F=0;ve()}}function Se(){fe()}function Ce(){return D}function Oe(){return G}function ke(e){G=e}function Pe(){return j}function xe(e){j=e}function Ae(){return S}function Me(){return O}function Ie(e){M=e}function Re(){return M}function De(){return w}function je(e){n.off(_["default"].DATA_UPDATE_COMPLETED,be,this);n.off(_["default"].QUALITY_CHANGE_REQUESTED,ie,this);n.off(_["default"].INIT_FRAGMENT_LOADED,Z,this);n.off(_["default"].MEDIA_FRAGMENT_LOADED,te,this);n.off(_["default"].STREAM_COMPLETED,Te,this);n.off(_["default"].CURRENT_TRACK_CHANGED,Ee,this);n.off(_["default"].PLAYBACK_PROGRESS,oe,this);n.off(_["default"].PLAYBACK_TIME_UPDATED,oe,this);n.off(_["default"].PLAYBACK_RATE_CHANGED,Se,this);n.off(_["default"].PLAYBACK_SEEKING,ae,this);n.off(_["default"].WALLCLOCK_TIME_UPDATED,we,this);n.off(_["default"].SOURCEBUFFER_APPEND_COMPLETED,ne,this);n.off(_["default"].SOURCEBUFFER_REMOVE_COMPLETED,me,this);O=Number.POSITIVE_INFINITY;L=x;E=c["default"].QUALITY_DEFAULT;R=Number.POSITIVE_INFINITY;I=0;N=null;B=false;w=false;U=false;H=false;q=null;G=null;z=null;K=null;if(!e){u.abort(M,j);u.removeSourceBuffer(M,j)}j=null}b={initialize:Q,createBuffer:$,getType:Ce,getStreamProcessor:Oe,setStreamProcessor:ke,getBuffer:Pe,setBuffer:xe,getBufferLevel:Ae,getCriticalBufferLevel:Me,setMediaSource:Ie,getMediaSource:Re,getIsBufferingCompleted:De,switchInitData:ee,reset:je};X();return b}M.__dashjs_factory_name="BufferController";var I=w["default"].getClassFactory(M);I.BUFFER_LOADED=P;I.BUFFER_EMPTY=x;t["default"]=I;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(29);var a=n(i);var o=r(83);var s=n(o);var u=r(10);var l=n(u);var f=r(3);var c=n(f);var d=r(2);var p=n(d);var h=r(0);var v=n(h);var y=r(4);var g=n(y);function m(){var e=this.context;var t=(0,g["default"])(e).getInstance().log;var r=(0,c["default"])(e).getInstance();var n=undefined,i=undefined,o=undefined,u=undefined,f=undefined,d=undefined,h=undefined,v=undefined,y=undefined,m=undefined,_=undefined,b=undefined,T=undefined,E=undefined,w=undefined,S=undefined,C=undefined,O=undefined;function k(){_=0;b=NaN;T=null;S=null;O=false;E={};C=(0,l["default"])(e).getInstance()}function P(e){w=e;i=m.getElement();ye();S=w.manifestInfo.isDynamic;b=w.start;r.on(p["default"].DATA_UPDATE_COMPLETED,ee,this);r.on(p["default"].BYTES_APPENDED,he,this);r.on(p["default"].BUFFER_LEVEL_STATE_CHANGED,ve,this);r.on(p["default"].PERIOD_SWITCH_STARTED,x,this);if(O){O=false;R()}}function x(e){if(!S&&e.fromStreamInfo&&E[e.fromStreamInfo.id]){delete E[e.fromStreamInfo.id]}}function A(){var e=W(true);var t=S?e-w.start:0;return e+(w.duration-t)-F()}function M(){return F()>0}function I(){return w.id}function R(){if(i){i.autoplay=true;var e=i.play();if(e&&typeof Promise!=="undefined"&&e instanceof Promise){e["catch"](function(e){if(e.name==="NotAllowedError"){r.trigger(p["default"].PLAYBACK_NOT_ALLOWED)}t("Caught pending play exception - continuing ("+e+")")})}}else{O=true}}function D(){if(!i)return;return i.paused}function j(){if(!i)return;i.pause();i.autoplay=false}function L(){if(!i)return;return i.seeking}function N(e){if(!m)return;t("Requesting seek to time: "+e);m.setCurrentTime(e)}function F(){if(!i)return;return i.currentTime}function B(){if(!i)return;return i.playbackRate}function U(){if(!i)return;return i.played}function H(){if(!i)return;return i.ended}function V(){return S}function q(e){b=e}function G(){return b}function z(e,t){var r=v.getMpd(h.getValue());var n=undefined;var i=10;if(C.getUseSuggestedPresentationDelay()&&r.hasOwnProperty("suggestedPresentationDelay")){n=r.suggestedPresentationDelay}else if(C.getLiveDelay()){n=C.getLiveDelay()}else if(!isNaN(e)){n=e*C.getLiveDelayFragmentCount()}else{n=w.manifestInfo.minBufferTime*2}var a=Math.max(t-i,t/2);return Math.min(n,a)}function K(){if(m&&i){r.off(p["default"].DATA_UPDATE_COMPLETED,ee,this);r.off(p["default"].BUFFER_LEVEL_STATE_CHANGED,ve,this);r.off(p["default"].BYTES_APPENDED,he,this);$();ge()}m=null;w=null;i=null;S=null;k()}function Y(e){if(!e)return;if(e.streamController){o=e.streamController}if(e.timelineConverter){u=e.timelineConverter}if(e.metricsModel){f=e.metricsModel}if(e.dashMetrics){d=e.dashMetrics}if(e.manifestModel){h=e.manifestModel}if(e.dashManifestModel){v=e.dashManifestModel}if(e.adapter){y=e.adapter}if(e.videoModel){m=e.videoModel}}function W(t){var r=undefined;var n=(0,s["default"])(e).getInstance().getURIFragmentData();var i=parseInt(n.s,10);var a=parseInt(n.t,10);var u=NaN;if(!t){u=!isNaN(i)?i:a}if(S){if(!isNaN(u)&&u>1262304e3){r=u-w.manifestInfo.availableFrom.getTime()/1e3;if(r>b||r<b-w.manifestInfo.DVRWindowSize){r=null}}r=r||b}else{if(!isNaN(u)&&u<Math.max(w.manifestInfo.duration,w.duration)&&u>=0){r=u}else{var l=E[w.id];if(l===undefined){l=o.getActiveStreamCommonEarliestTime()}r=Math.max(l,w.start)}}return r}function X(e){var t=f.getReadOnlyMetricsFor("video")||f.getReadOnlyMetricsFor("audio");var r=d.getCurrentDVRInfo(t);var n=r?r.range:null;var i;if(!n)return NaN;if(e>n.end){i=Math.max(n.end-w.manifestInfo.minBufferTime*2,n.start)}else if(e<n.start){i=n.start}else{return e}return i}function Q(){if(T!==null)return;var e=function e(){pe()};T=setInterval(e,C.getWallclockTimeUpdateInterval())}function $(){clearInterval(T);T=null}function J(){var e=W(false);if(e>0){N(e);t("Starting playback at offset: "+e)}}function Z(){if(D()||!S||i.readyState===0)return;var e=F();var t=X(e);var r=!isNaN(t)&&t!==e;if(r){N(t)}}function ee(e){if(e.error)return;var t=y.convertDataToTrack(h.getValue(),e.currentRepresentation);var r=t.mediaInfo.streamInfo;if(w.id!==r.id)return;w=r;Z()}function te(){r.trigger(p["default"].CAN_PLAY)}function re(){t("Native video element event: play");Z();Q();r.trigger(p["default"].PLAYBACK_STARTED,{startTime:F()})}function ne(){t("Native video element event: playing");r.trigger(p["default"].PLAYBACK_PLAYING,{playingTime:F()})}function ie(){t("Native video element event: pause");r.trigger(p["default"].PLAYBACK_PAUSED,{ended:H()})}function ae(){var e=F();t("Seeking to: "+e);Q();r.trigger(p["default"].PLAYBACK_SEEKING,{seekTime:e})}function oe(){t("Native video element event: seeked");r.trigger(p["default"].PLAYBACK_SEEKED)}function se(){var e=F();if(e===_)return;_=e;r.trigger(p["default"].PLAYBACK_TIME_UPDATED,{timeToEnd:A(),time:e})}function ue(){r.trigger(p["default"].PLAYBACK_PROGRESS)}function le(){var e=B();t("Native video element event: ratechange: ",e);r.trigger(p["default"].PLAYBACK_RATE_CHANGED,{playbackRate:e})}function fe(){t("Native video element event: loadedmetadata");if(!S&&w.isFirst||u.isTimeSyncCompleted()){J()}r.trigger(p["default"].PLAYBACK_METADATA_LOADED);Q()}function ce(){t("Native video element event: ended");j();$();r.trigger(p["default"].PLAYBACK_ENDED)}function de(e){var t=e.target||e.srcElement;r.trigger(p["default"].PLAYBACK_ERROR,{error:t.error})}function pe(){r.trigger(p["default"].WALLCLOCK_TIME_UPDATED,{isDynamic:S,time:new Date})}function he(e){var t=e.bufferedRanges;if(!t||!t.length)return;var r=Math.max(t.start(0),w.start);var n=E[w.id]===undefined?r:Math.max(E[w.id],r);if(n===E[w.id])return;if(!S&&W(true)<n&&F()<n){N(n)}E[w.id]=n}function ve(e){if(e.streamInfo.id!==w.id)return;m.setStallState(e.mediaType,e.state===a["default"].BUFFER_EMPTY)}function ye(){i.addEventListener("canplay",te);i.addEventListener("play",re);i.addEventListener("playing",ne);i.addEventListener("pause",ie);i.addEventListener("error",de);i.addEventListener("seeking",ae);i.addEventListener("seeked",oe);i.addEventListener("timeupdate",se);i.addEventListener("progress",ue);i.addEventListener("ratechange",le);i.addEventListener("loadedmetadata",fe);i.addEventListener("ended",ce)}function ge(){i.removeEventListener("canplay",te);i.removeEventListener("play",re);i.removeEventListener("playing",ne);i.removeEventListener("pause",ie);i.removeEventListener("error",de);i.removeEventListener("seeking",ae);i.removeEventListener("seeked",oe);i.removeEventListener("timeupdate",se);i.removeEventListener("progress",ue);i.removeEventListener("ratechange",le);i.removeEventListener("loadedmetadata",fe);i.removeEventListener("ended",ce)}n={initialize:P,setConfig:Y,getStreamStartTime:W,getTimeToStreamEnd:A,isPlaybackStarted:M,getStreamId:I,getTime:F,getPlaybackRate:B,getPlayedRanges:U,getEnded:H,getIsDynamic:V,setLiveStartTime:q,getLiveStartTime:G,computeLiveDelay:z,play:R,isPaused:D,pause:j,isSeeking:L,seek:N,reset:K};k();return n}m.__dashjs_factory_name="PlaybackController";t["default"]=v["default"].getSingletonFactory(m);e.exports=t["default"]},function(e,t,r){var n=r(53);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(106)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(e,t,r){var n=r(40),i=r(110);e.exports=r(32)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){e[t]=r;return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(2);var a=n(i);var o=r(3);var s=n(o);var u=r(0);var l=n(u);var f=r(4);var c=n(f);var d=r(35);var p=n(d);var h=r(91);var v=n(h);var y="neverReplace";var g="alwaysReplace";var m="highestBitrate";var _="widestRange";var b=m;function T(){var e=this.context;var t=(0,c["default"])(e).getInstance().log;var r=(0,s["default"])(e).getInstance();var n=(0,p["default"])(e).getInstance();var i=(0,v["default"])(e).getInstance();var o=undefined,u=undefined,l=undefined,f=undefined,d=undefined,h=undefined;var T=[g,y];var E=[m,_];function w(){u={};q();V()}function S(e,t){var r=M(e);var n=O(e,t);var a=[];if(e==="fragmentedText"){x(n[0]);return}if(!r){r=i.getSavedMediaSettings(e);A(e,r)}if(!n||n.length===0)return;if(r){n.forEach(function(e){if(H(r,e)){a.push(e)}})}if(a.length===0){x(G(n))}else{if(a.length>1){x(G(a))}else{x(a[0])}}}function C(e){var t=e?e.type:null;var r=e?e.streamInfo.id:null;var n=M(t);if(!e||!L(t))return false;u[r]=u[r]||z();if(u[r][t].list.indexOf(e)>=0)return false;u[r][t].list.push(e);if(n&&H(n,e)&&!k(t,e.streamInfo)){x(e)}return true}function O(e,t){if(!e||!t)return[];var r=t.id;if(!u[r]||!u[r][e])return[];return u[r][e].list}function k(e,t){if(!e||!t||t&&!u[t.id])return null;return u[t.id][e].current}function P(e){var t=e.type;var r=e.streamInfo.id;return u[r]&&u[r][t]&&N(u[r][t].current,e)}function x(e){if(!e)return;var t=e.type;var n=e.streamInfo;var o=n.id;var s=k(t,n);if(!u[o]||!u[o][t]||s&&N(e,s))return;u[o][t].current=e;if(s){r.trigger(a["default"].CURRENT_TRACK_CHANGED,{oldMediaInfo:s,newMediaInfo:e,switchMode:d[t]})}var l=U(e);if(!l||!u[o][t].storeLastSettings)return;if(l.roles){l.role=l.roles[0];delete l.roles}if(l.accessibility){l.accessibility=l.accessibility[0]}if(l.audioChannelConfiguration){l.audioChannelConfiguration=l.audioChannelConfiguration[0]}i.setSavedMediaSettings(t,l)}function A(e,t){if(!e||!t)return;l[e]=t}function M(e){if(!e)return null;return l[e]}function I(e,r){var n=T.indexOf(r)!==-1;if(!n){t("track switch mode is not supported: "+r);return}d[e]=r}function R(e){return d[e]}function D(e){var r=E.indexOf(e)!==-1;if(!r){t("track selection mode is not supported: "+e);return}f=e}function j(){return f||b}function L(e){return e==="audio"||e==="video"||e==="text"||e==="fragmentedText"}function N(e,t){var r=e.id===t.id;var n=e.viewpoint===t.viewpoint;var i=e.lang===t.lang;var a=e.roles.toString()===t.roles.toString();var o=e.accessibility.toString()===t.accessibility.toString();var s=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return r&&n&&i&&a&&o&&s}function F(e){if(!e)return;if(e.errHandler){h=e.errHandler}}function B(){w();n.reset()}function U(e){var t={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration};var r=t.lang||t.viewpoint||t.role&&t.role.length>0||t.accessibility&&t.accessibility.length>0||t.audioChannelConfiguration&&t.audioChannelConfiguration.length>0;return r?t:null}function H(e,t){var r=!e.lang||e.lang===t.lang;var n=!e.viewpoint||e.viewpoint===t.viewpoint;var i=!e.role||!!t.roles.filter(function(t){return t===e.role})[0];var a=!e.accessibility||!!t.accessibility.filter(function(t){return t===e.accessibility})[0];var o=!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter(function(t){return t===e.audioChannelConfiguration})[0];return r&&n&&i&&a&&o}function V(){d={audio:g,video:y}}function q(){l={audio:null,video:null}}function G(e){var r=j();var n=[];var i=function e(t){var r=0;var n=[];var i;t.forEach(function(e){i=Math.max.apply(Math,e.bitrateList.map(function(e){return e.bandwidth}));if(i>r){r=i;n=[e]}else if(i===r){n.push(e)}});return n};var a=function e(t){var r=0;var n=[];var i;t.forEach(function(e){i=e.representationCount;if(i>r){r=i;n=[e]}else if(i===r){n.push(e)}});return n};switch(r){case m:n=i(e);if(n.length>1){n=a(n)}break;case _:n=a(e);if(n.length>1){n=i(e)}break;default:t("track selection mode is not supported: "+r);break}return n[0]}function z(){return{audio:{list:[],storeLastSettings:true,current:null},video:{list:[],storeLastSettings:true,current:null},text:{list:[],storeLastSettings:true,current:null},fragmentedText:{list:[],storeLastSettings:true,current:null}}}o={initialize:w,checkInitialMediaSettingsForType:S,addTrack:C,getTracksFor:O,getCurrentTrackFor:k,isCurrentTrack:P,setTrack:x,setInitialSettings:A,getInitialSettings:M,setSwitchMode:I,getSwitchMode:R,setSelectionModeForInitialTrack:D,getSelectionModeForInitialTrack:j,isMultiTrackSupportedByType:L,isTracksEqual:N,setConfig:F,reset:B};return o}T.__dashjs_factory_name="MediaController";var E=l["default"].getSingletonFactory(T);E.TRACK_SWITCH_MODE_NEVER_REPLACE=y;E.TRACK_SWITCH_MODE_ALWAYS_REPLACE=g;E.TRACK_SELECTION_MODE_HIGHEST_BITRATE=m;E.TRACK_SELECTION_MODE_WIDEST_RANGE=_;E.DEFAULT_INIT_TRACK_SELECTION_MODE=b;t["default"]=E;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(289);var s=n(o);var u=r(89);var l=n(u);var f=r(296);var c=n(f);var d=r(295);var p=n(d);function h(){var e=this.context;var t=undefined;var r=undefined;var n=undefined,i=undefined,a=undefined,o=undefined,u=undefined,f=undefined,d=undefined,h=undefined,v=undefined;function y(){d=(0,l["default"])(e).getInstance();h=(0,c["default"])(e).getInstance();v=(0,p["default"])(e).getInstance();r=(0,s["default"])(e).getInstance();d.initialize();n=false}function g(e){if(!e){return}if(e.errHandler){i=e.errHandler}if(e.dashManifestModel){a=e.dashManifestModel}if(e.mediaController){o=e.mediaController}if(e.videoModel){u=e.videoModel}if(e.streamController){f=e.streamController}if(e.textTracks){d=e.textTracks}if(e.vttParser){h=e.vttParser}if(e.ttmlParser){v=e.ttmlParser}r.setConfig({errHandler:i,dashManifestModel:a,mediaController:o,videoModel:u,streamController:f,textTracks:d,vttParser:h,ttmlParser:v})}function m(){return r}function _(){return n}function b(e){r.addEmbeddedTrack(e)}function T(){var e=r.getConfig();var t=e.fragmentModel;var n=e.embeddedTracks;var i=e.isFragmented;var a=e.fragmentedTracks;var s=e.allTracksAreDisabled;var l=u.getElement();var c=l.textTracks;var p=c.length;var h=p-n.length;var v=d.getCurrentTrackIdx();for(var y=0;y<p;y++){var g=c[y];s=g.mode!=="showing";if(g.mode==="showing"){if(v!==y){d.setCurrentTrackIdx(y);d.addCaptions(y,0,null);if(i&&y<h){var m=o.getCurrentTrackFor("fragmentedText",f.getActiveStreamInfo());var _=a[y];if(_!==m){t.abortRequests();d.deleteTrackCues(m);o.setTrack(_);r.setCurrentFragmentedTrackIdx(y)}}}break}}if(s){d.setCurrentTrackIdx(-1)}}function E(){var e=r.getConfig().textTracks;return e.getCurrentTrackIdx()}function w(){n=false;r.resetEmbedded()}t={setConfig:g,getTextSourceBuffer:m,getAllTracksAreDisabled:_,addEmbeddedTrack:b,setTextTrack:T,getCurrentTrackIdx:E,reset:w};y();return t}h.__dashjs_factory_name="TextController";t["default"]=a["default"].getSingletonFactory(h);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.action=e.ACTION_DOWNLOAD;this.startTime=NaN;this.mediaType=null;this.mediaInfo=null;this.type=null;this.duration=NaN;this.timescale=NaN;this.range=null;this.url=null;this.serviceLocation=null;this.requestStartDate=null;this.firstByteDate=null;this.requestEndDate=null;this.quality=NaN;this.index=NaN;this.availabilityStartTime=null;this.availabilityEndTime=null;this.wallStartTime=null;this.bytesLoaded=NaN;this.bytesTotal=NaN;this.delayLoadingTime=NaN;this.responseType="arraybuffer";this.representationId=null};i.ACTION_DOWNLOAD="download";i.ACTION_COMPLETE="complete";t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;t.newGUID=i;var n=1;function i(){return n++}},function(e,t,r){"use strict";t.__esModule=true;function n(e){if(typeof e!=="string"){return e}return e.charAt(0).toUpperCase()+e.slice(1)}t["default"]=n},function(e,t){e.exports={}},function(e,t,r){var n=r(31),i=r(174),a=r(195),o=Object.defineProperty;t.f=r(32)?Object.defineProperty:function e(t,r,s){n(t);r=a(r,true);n(s);if(i)try{return o(t,r,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");if("value"in s)t[r]=s.value;return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=r(54);var u=i(s);var l=function(e){o(t,e);function t(){a(this,t);n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.AST_IN_FUTURE="astInFuture";this.BUFFER_EMPTY="bufferStalled";this.BUFFER_LOADED="bufferLoaded";this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged";this.ERROR="error";this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted";this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted";this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned";this.LOG="log";this.MANIFEST_LOADED="manifestLoaded";this.METRICS_CHANGED="metricsChanged";this.METRIC_CHANGED="metricChanged";this.METRIC_ADDED="metricAdded";this.METRIC_UPDATED="metricUpdated";this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted";this.PERIOD_SWITCH_STARTED="periodSwitchStarted";this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested";this.QUALITY_CHANGE_RENDERED="qualityChangeRendered";this.STREAM_INITIALIZED="streamInitialized";this.TEXT_TRACKS_ADDED="allTextTracksAdded";this.TEXT_TRACK_ADDED="textTrackAdded";this.CAN_PLAY="canPlay";this.PLAYBACK_ENDED="playbackEnded";this.PLAYBACK_ERROR="playbackError";this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed";this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded";this.PLAYBACK_PAUSED="playbackPaused";this.PLAYBACK_PLAYING="playbackPlaying";this.PLAYBACK_PROGRESS="playbackProgress";this.PLAYBACK_RATE_CHANGED="playbackRateChanged";this.PLAYBACK_SEEKED="playbackSeeked";this.PLAYBACK_SEEKING="playbackSeeking";this.PLAYBACK_STARTED="playbackStarted";this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated"}return t}(u["default"]);var f=new l;t["default"]=f;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=r(13);var o=r(0);var s=n(o);var u=r(10);var l=n(u);var f=r(22);var c=n(f);function d(e){var t=this.context;var r=(0,l["default"])(t).getInstance();var n=e.errHandler;var o=e.metricsModel;var s=e.requestModifier;var u=undefined;var f=undefined;var d=undefined;var p=undefined;var h=undefined;function v(){var e;f=[];d=[];p=[];h=(e={},i(e,a.HTTPRequest.MPD_TYPE,c["default"].DOWNLOAD_ERROR_ID_MANIFEST),i(e,a.HTTPRequest.XLINK_EXPANSION_TYPE,c["default"].DOWNLOAD_ERROR_ID_XLINK),i(e,a.HTTPRequest.INIT_SEGMENT_TYPE,c["default"].DOWNLOAD_ERROR_ID_INITIALIZATION),i(e,a.HTTPRequest.MEDIA_SEGMENT_TYPE,c["default"].DOWNLOAD_ERROR_ID_CONTENT),i(e,a.HTTPRequest.INDEX_SEGMENT_TYPE,c["default"].DOWNLOAD_ERROR_ID_CONTENT),i(e,a.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,c["default"].DOWNLOAD_ERROR_ID_CONTENT),i(e,a.HTTPRequest.OTHER_TYPE,c["default"].DOWNLOAD_ERROR_ID_CONTENT),e)}function y(e,t){var i=e.request;var a=new XMLHttpRequest;var u=[];var l=true;var c=true;var v=new Date;var g=v;var m=0;var _=function e(t){c=false;i.requestStartDate=v;i.requestEndDate=new Date;i.firstByteDate=i.firstByteDate||v;if(!i.checkExistenceOnly){o.addHttpRequest(i.mediaType,null,i.type,i.url,a.responseURL||null,i.serviceLocation||null,i.range||null,i.requestStartDate,i.firstByteDate,i.requestEndDate,a.status,i.duration,a.getAllResponseHeaders(),t?u:null)}};var b=function o(){if(f.indexOf(a)===-1){return}else{f.splice(f.indexOf(a),1)}if(c){_(false);if(t>0){t--;p.push(setTimeout(function(){y(e,t)},r.getRetryIntervalForType(i.type)))}else{n.downloadError(h[i.type],i.url,i);if(e.error){e.error(i,"error",a.statusText)}if(e.complete){e.complete(i,a.statusText)}}}};var T=function t(r){var n=new Date;if(l){l=false;if(!r.lengthComputable||r.lengthComputable&&r.total!==r.loaded){i.firstByteDate=n}}if(r.lengthComputable){i.bytesLoaded=r.loaded;i.bytesTotal=r.total}u.push({s:g,d:n.getTime()-g.getTime(),b:[r.loaded?r.loaded-m:0]});g=n;m=r.loaded;if(e.progress){e.progress()}};var E=function t(){if(a.status>=200&&a.status<=299){_(true);if(e.success){e.success(a.response,a.statusText,a)}if(e.complete){e.complete(i,a.statusText)}}};try{var w=s.modifyRequestURL(i.url);var S=i.checkExistenceOnly?"HEAD":"GET";a.open(S,w,true);if(i.responseType){a.responseType=i.responseType}if(i.range){a.setRequestHeader("Range","bytes="+i.range)}if(!i.requestStartDate){i.requestStartDate=v}a=s.modifyRequestHeader(a);a.withCredentials=r.getXHRWithCredentialsForType(i.type);a.onload=E;a.onloadend=b;a.onerror=b;a.onprogress=T;var C=(new Date).getTime();if(isNaN(i.delayLoadingTime)||C>=i.delayLoadingTime){f.push(a);a.send()}else{(function(){var e={xhr:a};d.push(e);e.delayTimeout=setTimeout(function(){if(d.indexOf(e)===-1){return}else{d.splice(d.indexOf(e),1)}try{f.push(e.xhr);e.xhr.send()}catch(t){e.xhr.onerror()}},i.delayLoadingTime-C)})()}}catch(e){a.onerror()}}function g(e){if(e.request){y(e,r.getRetryAttemptsForType(e.request.type))}}function m(){p.forEach(function(e){return clearTimeout(e)});p=[];d.forEach(function(e){return clearTimeout(e.delayTimeout)});d=[];f.forEach(function(e){e.onloadend=e.onerror=e.onprogress=undefined;e.abort()});f=[]}u={load:g,abort:m};v();return u}d.__dashjs_factory_name="XHRLoader";var p=s["default"].getClassFactory(d);t["default"]=p;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e=undefined,t=undefined,r=undefined,n=undefined,i=undefined,a=undefined;function o(){i=[]}function s(){t.playbackRate=a||1;t.removeEventListener("canplay",s)}function u(e){if(!t)return;if(t.readyState<=2&&e>0){t.addEventListener("canplay",s)}else{t.playbackRate=e}}function l(e){if(t.currentTime==e)return;try{t.currentTime=e}catch(r){if(t.readyState===0&&r.code===r.INVALID_STATE_ERR){setTimeout(function(){t.currentTime=e},400)}}}function f(){return t}function c(e){t=e;t.preload="auto"}function d(e){if(e){t.src=e}else{t.removeAttribute("src");t.load()}}function p(){return t.src}function h(){return n}function v(e){n=e}function y(){return r}function g(e){r=e;r.style.position="absolute";r.style.display="flex";r.style.overflow="hidden";r.style.pointerEvents="none";r.style.top=0;r.style.left=0}function m(e,t){E(e,t)}function _(){return i.length>0}function b(e){var r=undefined;if(e===null||t.seeking||i.indexOf(e)!==-1){return}i.push(e);if(i.length===1){r=document.createEvent("Event");r.initEvent("waiting",true,false);a=t.playbackRate;u(0);t.dispatchEvent(r)}}function T(e){var r=i.indexOf(e);var n=undefined;if(e===null){return}if(r!==-1){i.splice(r,1)}if(_()===false&&t.playbackRate===0){u(a||1);if(!t.paused){n=document.createEvent("Event");n.initEvent("playing",true,false);t.dispatchEvent(n)}}}function E(e,t){if(t){b(e)}else{T(e)}}function w(){var e="webkitDroppedFrameCount"in t&&"webkitDecodedFrameCount"in t;var r="getVideoPlaybackQuality"in t;var n=null;if(r){n=t.getVideoPlaybackQuality()}else if(e){n={droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDroppedFrameCount+t.webkitDecodedFrameCount,creationTime:new Date}}return n}e={initialize:o,setCurrentTime:l,setStallState:m,getElement:f,setElement:c,setSource:d,getSource:p,getVideoContainer:h,setVideoContainer:v,getTTMLRenderingDiv:y,setTTMLRenderingDiv:g,getPlaybackQuality:w};return e}o.__dashjs_factory_name="VideoModel";t["default"]=a["default"].getSingletonFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=r(76);var s=i(o);var u=function(){function e(){a(this,e)}n(e,null,[{key:"findCencContentProtection",value:function e(t){var r=null;for(var n=0;n<t.length;++n){var i=t[n];if(i.schemeIdUri.toLowerCase()==="urn:mpeg:dash:mp4protection:2011"&&i.value.toLowerCase()==="cenc")r=i}return r}},{key:"getPSSHData",value:function e(t){var r=8;var n=new DataView(t);var i=n.getUint8(r);r+=20;if(i>0){r+=4+16*n.getUint32(r)}r+=4;return t.slice(r)}},{key:"getPSSHForKeySystem",value:function t(r,n){var i=e.parsePSSHList(n);if(i.hasOwnProperty(r.uuid.toLowerCase())){return i[r.uuid.toLowerCase()]}return null}},{key:"parseInitDataFromContentProtection",value:function e(t){if("pssh"in t){return s["default"].decodeArray(t.pssh.__text).buffer}return null}},{key:"parsePSSHList",value:function e(t){if(t===null)return[];var r=new DataView(t);var n=false;var i={};var a=0;while(!n){var o,s,u,l,f;var c=a;if(a>=r.buffer.byteLength)break;o=r.getUint32(a);s=a+o;a+=4;if(r.getUint32(a)!==1886614376){a=s;continue}a+=4;u=r.getUint8(a);if(u!==0&&u!==1){a=s;continue}a++;a+=3;l="";var d,p;for(d=0;d<4;d++){p=r.getUint8(a+d).toString(16);l+=p.length===1?"0"+p:p}a+=4;l+="-";for(d=0;d<2;d++){p=r.getUint8(a+d).toString(16);l+=p.length===1?"0"+p:p}a+=2;l+="-";for(d=0;d<2;d++){p=r.getUint8(a+d).toString(16);l+=p.length===1?"0"+p:p}a+=2;l+="-";for(d=0;d<2;d++){p=r.getUint8(a+d).toString(16);l+=p.length===1?"0"+p:p}a+=2;l+="-";for(d=0;d<6;d++){p=r.getUint8(a+d).toString(16);l+=p.length===1?"0"+p:p}a+=6;l=l.toLowerCase();f=r.getUint32(a);a+=4;i[l]=r.buffer.slice(c,s);a=s}return i}}]);return e}();t["default"]=u;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e=undefined;var t=/^[a-z][a-z0-9+\-.]*:/i;var r=/^https?:\/\//i;var n=/^([a-z][a-z0-9+\-.]*:\/\/[^\/]+)\/?/i;var i=function e(t,r){try{return new window.URL(t,r).toString()}catch(e){return t}};var a=function e(t,r){var n=s;if(!r){return t}if(!f(t)){return t}if(c(t)){n=u}if(d(t)){n=l}var i=n(r);var a=i.charAt(i.length-1)!=="/"&&t.charAt(0)!=="/"?"/":"";return[i,t].join(a)};function o(){try{var t=new window.URL("x","http://y");e=i}catch(e){}finally{e=e||a}}function s(e){var t=e.indexOf("/");var r=e.lastIndexOf("/");if(t!==-1){if(r===t+1){return e}if(e.indexOf("?")!==-1){e=e.substring(0,e.indexOf("?"))}return e.substring(0,r+1)}return""}function u(e){var t=e.match(n);if(t){return t[1]}return""}function l(e){var r=e.match(t);if(r){return r[0]}return""}function f(e){return!t.test(e)}function c(e){return f(e)&&e.charAt(0)==="/"}function d(e){return e.indexOf("//")===0}function p(e){return r.test(e)}function h(t,r){return e(t,r)}o();var v={parseBaseUrl:s,parseOrigin:u,parseScheme:l,isRelative:f,isPathAbsolute:c,isSchemeRelative:d,isHTTPURL:p,resolve:h};return v}o.__dashjs_factory_name="URLUtils";t["default"]=a["default"].getSingletonFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;var n=r(47);var i=f(n);var a=r(1);var o=f(a);var s=r(12);var u=f(s);var l=r(11);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){p(t,e);function t(){c(this,t);return d(this,e.apply(this,arguments))}t.prototype.createEl=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"button";var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};r=(0,l.assign)({className:this.buildCSSClass()},r);if(t!=="button"){u["default"].warn("Creating a Button with an HTML element of "+t+" is deprecated; use ClickableComponent instead.");r=(0,l.assign)({tabIndex:0},r);n=(0,l.assign)({role:"button"},n)}n=(0,l.assign)({type:"button","aria-live":"polite"},n);var i=o["default"].prototype.createEl.call(this,t,r,n);this.createControlTextEl(i);return i};t.prototype.addChild=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=this.constructor.name;u["default"].warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead.");return o["default"].prototype.addChild.call(this,t,r)};t.prototype.enable=function t(){e.prototype.enable.call(this);this.el_.removeAttribute("disabled")};t.prototype.disable=function t(){e.prototype.disable.call(this);this.el_.setAttribute("disabled","disabled")};t.prototype.handleKeyPress=function t(r){if(r.which===32||r.which===13){return}e.prototype.handleKeyPress.call(this,r)};return t}(i["default"]);o["default"].registerComponent("Button",h);t["default"]=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=g(n);var a=r(6);var o=y(a);var s=r(23);var u=y(s);var l=r(5);var f=y(l);var c=r(12);var d=g(c);var p=r(7);var h=g(p);var v=r(11);function y(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var T=function(e){b(t,e);function t(r,n){m(this,t);var i=_(this,e.call(this,r,n));i.emitTapEvents();i.enable();return i}t.prototype.createEl=function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div";var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};n=(0,v.assign)({className:this.buildCSSClass(),tabIndex:0},n);if(r==="button"){d["default"].error("Creating a ClickableComponent with an HTML element of "+r+" is not supported; use a Button instead.")}i=(0,v.assign)({role:"button","aria-live":"polite"},i);this.tabIndex_=n.tabIndex;var a=e.prototype.createEl.call(this,r,n,i);this.createControlTextEl(a);return a};t.prototype.createControlTextEl=function e(t){this.controlTextEl_=o.createEl("span",{className:"vjs-control-text"});if(t){t.appendChild(this.controlTextEl_)}this.controlText(this.controlText_,t);return this.controlTextEl_};t.prototype.controlText=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.el();if(!t){return this.controlText_||"Need Text"}var n=this.localize(t);this.controlText_=t;this.controlTextEl_.innerHTML=n;if(!this.nonIconControl){r.setAttribute("title",n)}return this};t.prototype.buildCSSClass=function t(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)};t.prototype.enable=function e(){this.removeClass("vjs-disabled");this.el_.setAttribute("aria-disabled","false");if(typeof this.tabIndex_!=="undefined"){this.el_.setAttribute("tabIndex",this.tabIndex_)}this.off(["tap","click"],this.handleClick);this.off("focus",this.handleFocus);this.off("blur",this.handleBlur);this.on(["tap","click"],this.handleClick);this.on("focus",this.handleFocus);this.on("blur",this.handleBlur);return this};t.prototype.disable=function e(){this.addClass("vjs-disabled");this.el_.setAttribute("aria-disabled","true");if(typeof this.tabIndex_!=="undefined"){this.el_.removeAttribute("tabIndex")}this.off(["tap","click"],this.handleClick);this.off("focus",this.handleFocus);this.off("blur",this.handleBlur);return this};t.prototype.handleClick=function e(t){};t.prototype.handleFocus=function e(t){u.on(h["default"],"keydown",f.bind(this,this.handleKeyPress))};t.prototype.handleKeyPress=function t(r){if(r.which===32||r.which===13){r.preventDefault();this.handleClick(r)}else if(e.prototype.handleKeyPress){e.prototype.handleKeyPress.call(this,r)}};t.prototype.handleBlur=function e(t){u.off(h["default"],"keydown",f.bind(this,this.handleKeyPress))};return t}(i["default"]);i["default"].registerComponent("ClickableComponent",T);t["default"]=T},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=R(n);var a=r(375);var o=R(a);var s=r(374);var u=R(s);var l=r(20);var f=R(l);var c=r(95);var d=R(c);var p=r(379);var h=R(p);var v=r(146);var y=R(v);var g=r(145);var m=R(g);var _=r(5);var b=I(_);var T=r(12);var E=R(T);var w=r(49);var S=r(147);var C=r(139);var O=R(C);var k=r(8);var P=R(k);var x=r(7);var A=R(x);var M=r(11);function I(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function R(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function j(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function L(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function N(e,t,r,n){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};var a=e.textTracks();i.kind=t;if(r){i.label=r}if(n){i.language=n}i.tech=e;var o=new d["default"](i);a.addTrack_(o);return o}var F=function(e){L(t,e);function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};D(this,t);r.reportTouchActivity=false;var i=j(this,e.call(this,null,r,n));i.hasStarted_=false;i.on("playing",function(){this.hasStarted_=true});i.on("loadstart",function(){this.hasStarted_=false});i.textTracks_=r.textTracks;i.videoTracks_=r.videoTracks;i.audioTracks_=r.audioTracks;if(!i.featuresProgressEvents){i.manualProgressOn()}if(!i.featuresTimeupdateEvents){i.manualTimeUpdatesOn()}["Text","Audio","Video"].forEach(function(e){if(r["native"+e+"Tracks"]===false){i["featuresNative"+e+"Tracks"]=false}});if(r.nativeCaptions===false){i.featuresNativeTextTracks=false}if(!i.featuresNativeTextTracks){i.emulateTextTracks()}i.autoRemoteTextTracks_=new h["default"];i.initTextTrackListeners();i.initTrackListeners();if(!r.nativeControlsForTouch){i.emitTapEvents()}if(i.constructor){i.name_=i.constructor.name||"Unknown Tech"}return i}t.prototype.manualProgressOn=function e(){this.on("durationchange",this.onDurationChange);this.manualProgress=true;this.one("ready",this.trackProgress)};t.prototype.manualProgressOff=function e(){this.manualProgress=false;this.stopTrackingProgress();this.off("durationchange",this.onDurationChange)};t.prototype.trackProgress=function e(t){this.stopTrackingProgress();this.progressInterval=this.setInterval(b.bind(this,function(){var e=this.bufferedPercent();if(this.bufferedPercent_!==e){this.trigger("progress")}this.bufferedPercent_=e;if(e===1){this.stopTrackingProgress()}}),500)};t.prototype.onDurationChange=function e(t){this.duration_=this.duration()};t.prototype.buffered=function e(){return(0,w.createTimeRange)(0,0)};t.prototype.bufferedPercent=function e(){return(0,S.bufferedPercent)(this.buffered(),this.duration_)};t.prototype.stopTrackingProgress=function e(){this.clearInterval(this.progressInterval)};t.prototype.manualTimeUpdatesOn=function e(){this.manualTimeUpdates=true;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime)};t.prototype.manualTimeUpdatesOff=function e(){this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)};t.prototype.trackCurrentTime=function e(){if(this.currentTimeInterval){this.stopTrackingCurrentTime()}this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:true})},250)};t.prototype.stopTrackingCurrentTime=function e(){this.clearInterval(this.currentTimeInterval);this.trigger({type:"timeupdate",target:this,manuallyTriggered:true})};t.prototype.dispose=function t(){this.clearTracks(["audio","video","text"]);if(this.manualProgress){this.manualProgressOff()}if(this.manualTimeUpdates){this.manualTimeUpdatesOff()}e.prototype.dispose.call(this)};t.prototype.clearTracks=function e(t){var r=this;t=[].concat(t);t.forEach(function(e){var t=r[e+"Tracks"]()||[];var n=t.length;while(n--){var i=t[n];if(e==="text"){r.removeRemoteTextTrack(i)}t.removeTrack_(i)}})};t.prototype.cleanupAutoTextTracks=function e(){var t=this.autoRemoteTextTracks_||[];var r=t.length;while(r--){var n=t[r];this.removeRemoteTextTrack(n)}};t.prototype.reset=function e(){};t.prototype.error=function e(t){if(t!==undefined){this.error_=new O["default"](t);this.trigger("error")}return this.error_};t.prototype.played=function e(){if(this.hasStarted_){return(0,w.createTimeRange)(0,0)}return(0,w.createTimeRange)()};t.prototype.setCurrentTime=function e(){if(this.manualTimeUpdates){this.trigger({type:"timeupdate",target:this,manuallyTriggered:true})}};t.prototype.initTextTrackListeners=function e(){var t=b.bind(this,function(){this.trigger("texttrackchange")});var r=this.textTracks();if(!r){return}r.addEventListener("removetrack",t);r.addEventListener("addtrack",t);this.on("dispose",b.bind(this,function(){r.removeEventListener("removetrack",t);r.removeEventListener("addtrack",t)}))};t.prototype.initTrackListeners=function e(){var t=this;var r=["video","audio"];r.forEach(function(e){var r=function r(){t.trigger(e+"trackchange")};var n=t[e+"Tracks"]();n.addEventListener("removetrack",r);n.addEventListener("addtrack",r);t.on("dispose",function(){n.removeEventListener("removetrack",r);n.removeEventListener("addtrack",r)})})};t.prototype.addWebVttScript_=function e(){var t=this;if(P["default"].WebVTT){return}if(A["default"].body.contains(this.el())){var n=r(383);if(!this.options_["vtt.js"]&&(0,M.isPlain)(n)&&Object.keys(n).length>0){this.trigger("vttjsloaded");return}var i=A["default"].createElement("script");i.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js";i.onload=function(){t.trigger("vttjsloaded")};i.onerror=function(){t.trigger("vttjserror")};this.on("dispose",function(){i.onload=null;i.onerror=null});P["default"].WebVTT=true;this.el().parentNode.appendChild(i)}else{this.ready(this.addWebVttScript_)}};t.prototype.emulateTextTracks=function e(){var t=this;var r=this.textTracks();if(!r){return}var n=this.remoteTextTracks();var i=function e(t){return r.addTrack_(t.track)};var a=function e(t){return r.removeTrack_(t.track)};n.on("addtrack",i);n.on("removetrack",a);this.addWebVttScript_();var o=function e(){return t.trigger("texttrackchange")};var s=function e(){o();for(var t=0;t<r.length;t++){var n=r[t];n.removeEventListener("cuechange",o);if(n.mode==="showing"){n.addEventListener("cuechange",o)}}};s();r.addEventListener("change",s);r.addEventListener("addtrack",s);r.addEventListener("removetrack",s);this.on("dispose",function(){n.off("addtrack",i);n.off("removetrack",a);r.removeEventListener("change",s);r.removeEventListener("addtrack",s);r.removeEventListener("removetrack",s);for(var e=0;e<r.length;e++){var t=r[e];t.removeEventListener("cuechange",o)}})};t.prototype.videoTracks=function e(){this.videoTracks_=this.videoTracks_||new y["default"];return this.videoTracks_};t.prototype.audioTracks=function e(){this.audioTracks_=this.audioTracks_||new m["default"];return this.audioTracks_};t.prototype.textTracks=function e(){this.textTracks_=this.textTracks_||new h["default"];return this.textTracks_};t.prototype.remoteTextTracks=function e(){this.remoteTextTracks_=this.remoteTextTracks_||new h["default"];return this.remoteTextTracks_};t.prototype.remoteTextTrackEls=function e(){this.remoteTextTrackEls_=this.remoteTextTrackEls_||new u["default"];return this.remoteTextTrackEls_};t.prototype.addTextTrack=function e(t,r,n){if(!t){throw new Error("TextTrack kind is required but was not provided")}return N(this,t,r,n)};t.prototype.createRemoteTextTrack=function e(t){var r=(0,f["default"])(t,{tech:this});return new o["default"](r)};t.prototype.addRemoteTextTrack=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=arguments[1];var n=this.createRemoteTextTrack(t);if(r!==true&&r!==false){E["default"].warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js');r=true}this.remoteTextTrackEls().addTrackElement_(n);this.remoteTextTracks().addTrack_(n.track);if(r!==true){this.autoRemoteTextTracks_.addTrack_(n.track)}return n};t.prototype.removeRemoteTextTrack=function e(t){var r=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(r);this.remoteTextTracks().removeTrack_(t);this.autoRemoteTextTracks_.removeTrack_(t)};t.prototype.getVideoPlaybackQuality=function e(){return{}};t.prototype.setPoster=function e(){};t.prototype.playsinline=function e(){};t.prototype.setPlaysinline=function e(){};t.prototype.canPlayType=function e(){return""};t.isTech=function e(r){return r.prototype instanceof t||r instanceof t||r===t};t.registerTech=function e(r,n){if(!t.techs_){t.techs_={}}if(!t.isTech(n)){throw new Error("Tech "+r+" must be a Tech")}t.techs_[r]=n;return n};t.getTech=function e(r){if(t.techs_&&t.techs_[r]){return t.techs_[r]}if(P["default"]&&P["default"].videojs&&P["default"].videojs[r]){E["default"].warn("The "+r+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)");return P["default"].videojs[r]}};return t}(i["default"]);F.prototype.textTracks_;F.prototype.audioTracks_;F.prototype.videoTracks_;F.prototype.featuresVolumeControl=true;F.prototype.featuresFullscreenResize=false;F.prototype.featuresPlaybackRate=false;F.prototype.featuresProgressEvents=false;F.prototype.featuresTimeupdateEvents=false;F.prototype.featuresNativeTextTracks=false;F.withSourceHandlers=function(e){e.registerSourceHandler=function(t,r){var n=e.sourceHandlers;if(!n){n=e.sourceHandlers=[]}if(r===undefined){r=n.length}n.splice(r,0,t)};e.canPlayType=function(t){var r=e.sourceHandlers||[];var n=void 0;for(var i=0;i<r.length;i++){n=r[i].canPlayType(t);if(n){return n}}return""};e.selectSourceHandler=function(t,r){var n=e.sourceHandlers||[];var i=void 0;for(var a=0;a<n.length;a++){i=n[a].canHandleSource(t,r);if(i){return n[a]}}return null};e.canPlaySource=function(t,r){var n=e.selectSourceHandler(t,r);if(n){return n.canHandleSource(t,r)}return""};var t=["seekable","duration"];t.forEach(function(e){var t=this[e];if(typeof t!=="function"){return}this[e]=function(){if(this.sourceHandler_&&this.sourceHandler_[e]){return this.sourceHandler_[e].apply(this.sourceHandler_,arguments)}return t.apply(this,arguments)}},e.prototype);e.prototype.setSource=function(t){var r=e.selectSourceHandler(t,this.options_);if(!r){if(e.nativeSourceHandler){r=e.nativeSourceHandler}else{E["default"].error("No source hander found for the current source.")}}this.disposeSourceHandler();this.off("dispose",this.disposeSourceHandler);if(r!==e.nativeSourceHandler){this.currentSource_=t;this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_);this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_);this.one(this.el_,"loadstart",e.prototype.firstLoadStartListener_)}this.sourceHandler_=r.handleSource(t,this,this.options_);this.on("dispose",this.disposeSourceHandler);return this};e.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)};e.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler();this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)};e.prototype.disposeSourceHandler=function(){if(this.currentSource_){this.clearTracks(["audio","video"]);this.currentSource_=null}this.cleanupAutoTextTracks();if(this.sourceHandler_){this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_);this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_);if(this.sourceHandler_.dispose){this.sourceHandler_.dispose()}this.sourceHandler_=null}}};i["default"].registerComponent("Tech",F);i["default"].registerComponent("MediaTechController",F);F.registerTech("Tech",F);t["default"]=F},function(e,t,r){"use strict";t.__esModule=true;t.createTimeRange=undefined;t.createTimeRanges=l;var n=r(12);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){if(t<0||t>r){throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+r+").")}}function s(e,t,r,n){if(n===undefined){i["default"].warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument.");n=0}o(e,n,r.length-1);return r[n][t]}function u(e){if(e===undefined||e.length===0){return{length:0,start:function e(){throw new Error("This TimeRanges object is empty")},end:function e(){throw new Error("This TimeRanges object is empty")}}}return{length:e.length,start:s.bind(null,"start",0,e),end:s.bind(null,"end",1,e)}}function l(e,t){if(Array.isArray(e)){return u(e)}else if(e===undefined||t===undefined){return u()}return u([[e,t]])}t.createTimeRange=l},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(68);e.exports=function(e,t,r){n(e);if(t===undefined)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t){e.exports=function(e){return typeof e==="object"?e!==null:typeof e==="function"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(){i(this,e)}n(e,[{key:"extend",value:function e(t,r){if(!t)return;var n=r?r.override:false;var i=r?r.publicOnly:false;for(var a in t){if(!t.hasOwnProperty(a)||this[a]&&!n)continue;if(i&&t[a].indexOf("public_")===-1)continue;this[a]=t[a]}}}]);return e}();t["default"]=a;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(t,r){i(this,e);this._test=t;this._converter=r}n(e,[{key:"test",get:function e(){return this._test}},{key:"converter",get:function e(){return this._converter}}]);return e}();t["default"]=a;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.replaceTokenForTemplate=u;t.getIndexBasedSegment=l;t.getTimeBasedSegment=f;t.getSegmentByIndex=c;t.decideSegmentListRangeForTimeline=d;t.decideSegmentListRangeForTemplate=p;function n(e){return e&&e.__esModule?e:{default:e}}var i=r(81);var a=n(i);function o(e,t){while(e.length<t){e="0"+e}return e}function s(e,t){return e.representation.startNumber+t}function u(e,t,r){var n="%0";var i,a,s,u,l,f;var c=t.length;var d=n.length;if(!e){return e}while(true){i=e.indexOf("$"+t);if(i<0){return e}a=e.indexOf("$",i+c);if(a<0){return e}s=e.indexOf(n,i+c);if(s>i&&s<a){u=e.charAt(a-1);l=parseInt(e.substring(s+d,a-1),10);switch(u){case"d":case"i":case"u":f=o(r.toString(),l);break;case"x":f=o(r.toString(16),l);break;case"X":f=o(r.toString(16),l).toUpperCase();break;case"o":f=o(r.toString(8),l);break;default:return e}}else{f=r}e=e.substring(0,i)+f+e.substring(a+1)}}function l(e,t,r,n){var i,o,u,l;o=r.segmentDuration;if(isNaN(o)){o=r.adaptation.period.duration}u=r.adaptation.period.start+n*o;l=u+o;i=new a["default"];i.representation=r;i.duration=o;i.presentationStartTime=u;i.mediaStartTime=e.calcMediaTimeFromPresentationTime(i.presentationStartTime,r);i.availabilityStartTime=e.calcAvailabilityStartTimeFromPresentationTime(i.presentationStartTime,r.adaptation.period.mpd,t);i.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(l,r.adaptation.period.mpd,t);i.wallStartTime=e.calcWallTimeForSegment(i,t);i.replacementNumber=s(i,n);i.availabilityIdx=n;return i}function f(e,t,r,n,i,o,l,f,c){var d=n/o;var p=Math.min(i/o,r.adaptation.period.mpd.maxSegmentDuration);var h,v,y;h=e.calcPresentationTimeFromMediaTime(d,r);v=h+p;y=new a["default"];y.representation=r;y.duration=p;y.mediaStartTime=d;y.presentationStartTime=h;y.availabilityStartTime=r.adaptation.period.mpd.manifest.loadedTime;y.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(v,r.adaptation.period.mpd,t);y.wallStartTime=e.calcWallTimeForSegment(y,t);y.replacementTime=n;y.replacementNumber=s(y,c);l=u(l,"Number",y.replacementNumber);l=u(l,"Time",y.replacementTime);y.media=l;y.mediaRange=f;y.availabilityIdx=c;return y}function c(e,t){if(!t||!t.segments)return null;var r=t.segments.length;var n,i;if(e<r){n=t.segments[e];if(n&&n.availabilityIdx===e){return n}}for(i=0;i<r;i++){n=t.segments[i];if(n&&n.availabilityIdx===e){return n}}return null}function d(e,t,r,n,i){var a=2;var o=i||10;var s=0;var u=Number.POSITIVE_INFINITY;var l,f,c;if(t&&!e.isTimeSyncCompleted()){c={start:s,end:u};return c}if(!t&&r||n<0)return null;l=Math.max(n-a,s);f=Math.min(n+o,u);c={start:l,end:f};return c}function p(e,t,r,n,i,a){var o=r.segmentDuration;var s=r.adaptation.period.mpd.manifest.minBufferTime;var u=r.segmentAvailabilityRange;var l={start:e.calcPeriodRelativeTimeFromMpdRelativeTime(r,u.start),end:e.calcPeriodRelativeTimeFromMpdRelativeTime(r,u.end)};var f=r.segments;var d=2*o;var p=a||Math.max(2*s,10*o);var h=NaN;var v=null;var y,g,m;l.start=Math.max(l.start,0);if(t&&!e.isTimeSyncCompleted()){y=Math.floor(l.start/o);g=Math.floor(l.end/o);m={start:y,end:g};return m}if(f&&f.length>0){v=c(i,r);if(v){h=e.calcPeriodRelativeTimeFromMpdRelativeTime(r,v.presentationStartTime)}else{h=i>0?i*o:e.calcPeriodRelativeTimeFromMpdRelativeTime(r,n)}}else{h=i>0?i*o:t?l.end:l.start}y=Math.floor(Math.max(h-d,l.start)/o);g=Math.floor(Math.min(y+p/o,l.end/o));m={start:y,end:g};return m}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(35);var a=n(i);var o=r(16);var s=n(o);var u=r(3);var l=n(u);var f=r(2);var c=n(f);var d=r(0);var p=n(d);var h=22;function v(){var e=this.context;var t=(0,l["default"])(e).getInstance();var r=undefined,n=undefined;function i(t,r){var n=r.codec;var i=null;try{if(n.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i)){throw new s["default"]("not really supported")}i=t.addSourceBuffer(n)}catch(t){if(r.isText||n.indexOf('codecs="stpp')!==-1||n.indexOf('codecs="wvtt')!==-1){var o=(0,a["default"])(e).getInstance();i=o.getTextSourceBuffer()}else{throw t}}return i}function o(e,t){try{e.removeSourceBuffer(t)}catch(e){}}function u(e,t,r){var n=null;var i=0;var a=0;var o=null;var s=null;var u=0;var l,f;var c=r||.15;try{n=e.buffered}catch(e){return null}if(n!==null&&n!==undefined){for(f=0,l=n.length;f<l;f++){i=n.start(f);a=n.end(f);if(o===null){u=Math.abs(i-t);if(t>=i&&t<a){o=i;s=a}else if(u<=c){o=i;s=a}}else{u=i-s;if(u<=c){s=a}else{break}}}if(o!==null){return{start:o,end:s}}}return null}function f(e){var t=null;try{t=e.buffered;return t}catch(e){return null}}function d(e){var t=f(e);var r=0;var n,i;if(!t)return r;for(i=0,n=t.length;i<n;i++){r+=t.end(i)-t.start(i)}return r}function p(e,t,r){var n,i;n=u(e,t,r);if(n===null){i=0}else{i=n.end-t}return i}function h(e,t){if(!t)return null;var r=f(t);var n,i,a,o,s,u,l,c,d;if(!r)return null;for(var p=0,h=r.length;p<h;p++){c=e.length>p;s=c?{start:e.start(p),end:e.end(p)}:null;n=r.start(p);i=r.end(p);if(!s){d={start:n,end:i};return d}a=s.start===n;o=s.end===i;if(a&&o)continue;if(a){d={start:s.end,end:i}}else if(o){d={start:n,end:s.start}}else{d={start:n,end:i};return d}u=e.length>p+1?{start:e.start(p+1),end:e.end(p+1)}:null;l=p+1<h?{start:r.start(p+1),end:r.end(p+1)}:null;if(u&&(!l||l.start!==u.start||l.end!==u.end)){d.end=u.start}return d}return null}function v(e,r){var n=r.bytes;var i="append"in e?"append":"appendBuffer"in e?"appendBuffer":null;var a=Object.prototype.toString.call(e).slice(8,-1)==="Object";if(!i)return;_(e,function(){try{if(a){e[i](n,r)}else{e[i](n)}_(e,function(){t.trigger(c["default"].SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:n})})}catch(r){t.trigger(c["default"].SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:n,error:new s["default"](r.code,r.message,null)})}})}function y(e,r,n,i){_(e,function(){try{if(r>=0&&n>r&&i.readyState!=="ended"){e.remove(r,n)}_(e,function(){t.trigger(c["default"].SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:r,to:n})})}catch(i){t.trigger(c["default"].SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:r,to:n,error:new s["default"](i.code,i.message,null)})}})}function g(e,t){try{if(e.readyState==="open"){t.abort()}else if(t.setTextTrack&&e.readyState==="ended"){t.abort()}}catch(e){}}function m(e){if(!e)return;if(e.dashManifestModel){n=e.dashManifestModel}}function _(e,t){var r;var n=50;var i=function n(){if(e.updating)return;clearInterval(r);t()};var a=function r(){if(e.updating)return;e.removeEventListener("updateend",r,false);t()};if(!e.updating){t();return}if(typeof e.addEventListener==="function"){try{e.addEventListener("updateend",a,false)}catch(e){r=setInterval(i,n)}}else{r=setInterval(i,n)}}r={append:v,remove:y,abort:g,createSourceBuffer:i,removeSourceBuffer:o,getBufferRange:u,getAllRanges:f,getTotalBufferedTime:d,getBufferLength:p,getRangeDifference:h,setConfig:m};return r}v.__dashjs_factory_name="SourceBufferController";var y=p["default"].getSingletonFactory(v);y.QUOTA_EXCEEDED_ERROR_CODE=h;t["default"]=y;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=r(54);var u=i(s);var l=function(e){o(t,e);function t(){a(this,t);n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized";this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return t}(u["default"]);var f=new l;t["default"]=f;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(3);var a=n(i);var o=r(2);var s=n(o);var u=r(0);var l=n(u);var f=r(36);var c=n(f);var d=r(4);var p=n(d);var h="loading";var v="executed";var y="canceled";var g="failed";function m(e){var t=this.context;var r=(0,p["default"])(t).getInstance().log;var n=(0,a["default"])(t).getInstance();var i=e.metricsModel;var o=undefined,u=undefined,l=undefined,f=undefined,d=undefined;function y(){u=null;d=null;l=[];f=[];n.on(s["default"].LOADING_COMPLETED,x,o)}function m(e){d=e}function _(e){var t=function e(t,r){return t.action===c["default"].ACTION_COMPLETE&&t.action===r.action};var r=function e(t,r){return!isNaN(t.index)&&t.startTime===r.startTime&&t.adaptationIndex===r.adaptationIndex};var n=function e(t,r){return isNaN(t.index)&&isNaN(r.index)&&t.quality===r.quality};var i=function i(a){var o=false;a.some(function(i){if(r(e,i)||n(e,i)||t(e,i)){o=true;return o}});return o};return i(l)}function b(e){var t=e.state instanceof Array?e.state:[e.state];var r=[];t.forEach(function(t){var n=k(t);r=r.concat(O(n,e))});return r}function T(e){l=l.filter(function(t){return isNaN(t.startTime)||t.startTime>=e})}function E(){d.abort();f=[]}function w(e){switch(e.action){case c["default"].ACTION_COMPLETE:l.push(e);P(e,v);n.trigger(s["default"].STREAM_COMPLETED,{request:e,fragmentModel:this});break;case c["default"].ACTION_DOWNLOAD:P(e,h);f.push(e);S(e);break;default:r("Unknown request action.")}}function S(e){n.trigger(s["default"].FRAGMENT_LOADING_STARTED,{sender:o,request:e});d.load(e)}function C(e,t,r){var n=e.length-1;for(var i=n;i>=0;i--){var a=e[i];var o=a.startTime;var s=o+a.duration;r=r!==undefined?r:a.duration/2;if(!isNaN(o)&&!isNaN(s)&&t+r>=o&&t-r<s||isNaN(o)&&isNaN(t)){return a}}return null}function O(e,t){if(t.hasOwnProperty("time")){return[C(e,t.time,t.threshold)]}return e.filter(function(e){for(var r in t){if(r==="state")continue;if(t.hasOwnProperty(r)&&e[r]!=t[r])return false}return true})}function k(e){var t=undefined;switch(e){case h:t=f;break;case v:t=l;break;default:t=[]}return t}function P(e,t){i.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t);i.addRequestsQueue(e.mediaType,f,l)}function x(e){if(e.sender!==d)return;f.splice(f.indexOf(e.request),1);if(e.response&&!e.error){l.push(e.request)}P(e.request,e.error?g:v);n.trigger(s["default"].FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this})}function A(){n.off(s["default"].LOADING_COMPLETED,x,this);if(d){d.reset();d=null}l=[];f=[]}o={setLoader:m,getRequests:b,isFragmentLoaded:_,removeExecutedRequestsBeforeTime:T,abortRequests:E,executeRequest:w,reset:A};y();return o}m.__dashjs_factory_name="FragmentModel";var _=l["default"].getClassFactory(m);_.FRAGMENT_MODEL_LOADING=h;_.FRAGMENT_MODEL_EXECUTED=v;_.FRAGMENT_MODEL_CANCELED=y;_.FRAGMENT_MODEL_FAILED=g;t["default"]=_;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(3);var a=n(i);var o=r(2);var s=n(o);var u=r(0);var l=n(u);function f(){var e=this.context;var t=(0,a["default"])(e).getInstance();var r=undefined,n=undefined;function i(){return n}function o(e){n=e;if(e){t.trigger(s["default"].MANIFEST_LOADED,{data:e})}}r={getValue:i,setValue:o};return r}f.__dashjs_factory_name="ManifestModel";t["default"]=l["default"].getSingletonFactory(f);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(44);var a=n(i);var o=r(263);var s=n(o);var u=r(265);var l=n(u);var f=r(264);var c=n(f);var d=r(270);var p=n(d);var h=r(271);var v=n(h);var y=r(272);var g=n(y);var m=r(269);var _=n(m);var b=r(0);var T=n(b);function E(){var e=this.context;var t=undefined,r=undefined,n=undefined,i=undefined;function o(e){if(!e)return;if(e.log){r=e.log}}function u(){n=[];var t;t=(0,c["default"])(e).getInstance();n.push(t);t=(0,l["default"])(e).getInstance();n.push(t);t=(0,s["default"])(e).getInstance();n.push(t);i=t}function f(){return n}function d(e){for(var t=0;t<n.length;t++){if(n[t].systemString===e){return n[t]}}return null}function h(e){return e===i}function y(e,t){if(e.byteLength===t.byteLength){var r=new Uint8Array(e);var n=new Uint8Array(t);for(var i=0;i<r.length;i++){if(r[i]!==n[i]){return false}}return true}return false}function m(e){var t,r,i,a;var o=[];if(e){for(i=0;i<n.length;++i){r=n[i];for(a=0;a<e.length;++a){t=e[a];if(t.schemeIdUri.toLowerCase()===r.schemeIdURI){var s=r.getInitData(t);if(!!s){o.push({ks:n[i],initData:s})}}}}}return o}function b(e,t){var r;var i=[];var o=a["default"].parsePSSHList(e);for(r=0;r<n.length;++r){var s=n[r].systemString;var u=t?s in t:true;if(n[r].uuid in o&&u){i.push({ks:n[r],initData:o[n[r].uuid]})}}return i}function T(t,r,n){if(n==="license-release"||n==="individualization-request"){return null}var i=null;if(r&&r.hasOwnProperty("drmtoday")){i=(0,p["default"])(e).getInstance()}else if(t.systemString==="com.widevine.alpha"){i=(0,g["default"])(e).getInstance()}else if(t.systemString==="com.microsoft.playready"){i=(0,v["default"])(e).getInstance()}else if(t.systemString==="org.w3.clearkey"){i=(0,_["default"])(e).getInstance()}return i}function E(e,t){try{return i.getClearKeysFromProtectionData(e,t)}catch(e){r("Failed to retrieve clearkeys from ProtectionData");return null}}t={initialize:u,isClearKey:h,initDataEquals:y,getKeySystems:f,getKeySystemBySystemString:d,getSupportedKeySystemsFromContentProtection:m,getSupportedKeySystems:b,getLicenseServer:T,processClearKeyLicenseRequest:E,setConfig:o};return t}E.__dashjs_factory_name="ProtectionKeyController";t["default"]=T["default"].getSingletonFactory(E);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e=undefined;function t(e){return e}function r(e){return e}e={modifyRequestURL:t,modifyRequestHeader:r};return e}o.__dashjs_factory_name="RequestModifier";t["default"]=a["default"].getSingletonFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;var n=r(137);var i=c(n);var a=r(1);var o=c(a);var s=r(94);var u=c(s);var l=r(351);var f=c(l);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=function(e){h(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};d(this,t);n.tracks=r.textTracks();return p(this,e.call(this,r,n))}t.prototype.createItems=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];t.push(new f["default"](this.player_,{kind:this.kind_}));this.hideThreshold_+=1;var r=this.player_.textTracks();if(!r){return t}for(var n=0;n<r.length;n++){var i=r[n];if(i.kind===this.kind_){t.push(new u["default"](this.player_,{track:i,selectable:true}))}}return t};return t}(i["default"]);o["default"].registerComponent("TextTrackButton",v);t["default"]=v},function(e,t,r){"use strict";t.__esModule=true;var n=r(23);var i=a(n);function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}var o=function e(){};o.prototype.allowedEvents_={};o.prototype.on=function(e,t){var r=this.addEventListener;this.addEventListener=function(){};i.on(this,e,t);this.addEventListener=r};o.prototype.addEventListener=o.prototype.on;o.prototype.off=function(e,t){i.off(this,e,t)};o.prototype.removeEventListener=o.prototype.off;o.prototype.one=function(e,t){var r=this.addEventListener;this.addEventListener=function(){};i.one(this,e,t);this.addEventListener=r};o.prototype.trigger=function(e){var t=e.type||e;if(typeof e==="string"){e={type:t}}e=i.fixEvent(e);if(this.allowedEvents_[t]&&this["on"+t]){this["on"+t](e)}i.trigger(this,e)};o.prototype.dispatchEvent=o.prototype.trigger;t["default"]=o},function(e,t,r){"use strict";t.__esModule=true;var n=r(47);var i=u(n);var a=r(1);var o=u(a);var s=r(11);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=function(e){c(t,e);function t(r,n){l(this,t);var i=f(this,e.call(this,r,n));i.selectable=n.selectable;i.selected(n.selected);if(i.selectable){i.el_.setAttribute("role","menuitemcheckbox")}else{i.el_.setAttribute("role","menuitem")}return i}t.prototype.createEl=function t(r,n,i){this.nonIconControl=true;return e.prototype.createEl.call(this,"li",(0,s.assign)({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},n),i)};t.prototype.handleClick=function e(t){this.selected(true)};t.prototype.selected=function e(t){if(this.selectable){if(t){this.addClass("vjs-selected");this.el_.setAttribute("aria-checked","true");this.controlText(", selected")}else{this.removeClass("vjs-selected");this.el_.setAttribute("aria-checked","false");this.controlText(" ")}}};return t}(i["default"]);o["default"].registerComponent("MenuItem",d);t["default"]=d},function(e,t,r){"use strict";t.__esModule=true;t.isCrossOrigin=t.getFileExtension=t.getAbsoluteURL=t.parseUrl=undefined;var n=r(7);var i=s(n);var a=r(8);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.parseUrl=function e(t){var r=["protocol","hostname","port","pathname","search","hash","host"];var n=i["default"].createElement("a");n.href=t;var a=n.host===""&&n.protocol!=="file:";var o=void 0;if(a){o=i["default"].createElement("div");o.innerHTML='<a href="'+t+'"></a>';n=o.firstChild;o.setAttribute("style","display:none; position:absolute;");i["default"].body.appendChild(o)}var s={};for(var u=0;u<r.length;u++){s[r[u]]=n[r[u]]}if(s.protocol==="http:"){s.host=s.host.replace(/:80$/,"")}if(s.protocol==="https:"){s.host=s.host.replace(/:443$/,"")}if(a){i["default"].body.removeChild(o)}return s};var l=t.getAbsoluteURL=function e(t){if(!t.match(/^https?:\/\//)){var r=i["default"].createElement("div");r.innerHTML='<a href="'+t+'">x</a>';t=r.firstChild.href}return t};var f=t.getFileExtension=function e(t){if(typeof t==="string"){var r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i;var n=r.exec(t);if(n){return n.pop().toLowerCase()}}return""};var c=t.isCrossOrigin=function e(t){var r=o["default"].location;var n=u(t);var i=n.protocol===":"?r.protocol:n.protocol;var a=i+n.host!==r.protocol+r.host;return a}},function(e,t,r){"use strict";var n,i;t.__esModule=true;var a=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=r(8);var s=te(o);var u=r(7);var l=te(u);var f=r(9);var c=ee(f);var d=r(6);var p=ee(d);var h=r(368);var v=ee(h);var y=r(148);var g=ee(y);var m=r(1);var _=te(m);var b=r(64);var T=te(b);var E=r(23);var w=ee(E);var S=r(143);var C=te(S);var O=r(364);var k=te(O);var P=r(20);var x=te(P);var A=r(5);var M=ee(A);var I=r(95);var R=te(I);var D=r(373);var j=te(D);var L=r(381);var N=te(L);var F=r(49);var B=r(24);var U=te(B);var H=r(12);var V=te(H);var q=r(66);var G=ee(q);var z=r(11);var K=r(99);var Y=te(K);var W=r(361);var X=te(W);var Q=r(150);var $=te(Q);var J=r(48);var Z=te(J);function ee(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function te(e){return e&&e.__esModule?e:{default:e}}if(typeof HTMLVideoElement==="undefined"&&p.isReal()){l["default"].createElement("video");l["default"].createElement("audio");l["default"].createElement("track")}function re(e,t,r){var n=void 0;if(typeof e==="string"){if(e.indexOf("#")===0){e=e.slice(1)}if(re.getPlayers()[e]){if(t){V["default"].warn('Player "'+e+'" is already initialised. Options will not be applied.')}if(r){re.getPlayers()[e].ready(r)}return re.getPlayers()[e]}n=p.getEl(e)}else{n=e}if(!n||!n.nodeName){throw new TypeError("The element or ID supplied is not valid. (videojs)")}if(n.player||C["default"].players[n.playerId]){return n.player||C["default"].players[n.playerId]}t=t||{};re.hooks("beforesetup").forEach(function(e){var r=e(n,(0,x["default"])(t));if(!(0,z.isObject)(r)||Array.isArray(r)){V["default"].error("please return an object in beforesetup hooks");return}t=(0,x["default"])(t,r)});var i=_["default"].getComponent("Player");var a=new i(n,t,r);re.hooks("setup").forEach(function(e){return e(a)});return a}re.hooks_={};re.hooks=function(e,t){re.hooks_[e]=re.hooks_[e]||[];if(t){re.hooks_[e]=re.hooks_[e].concat(t)}return re.hooks_[e]};re.hook=function(e,t){re.hooks(e,t)};re.removeHook=function(e,t){var r=re.hooks(e).indexOf(t);if(r<=-1){return false}re.hooks_[e]=re.hooks_[e].slice();re.hooks_[e].splice(r,1);return true};if(s["default"].VIDEOJS_NO_DYNAMIC_STYLE!==true&&p.isReal()){var ne=p.$(".vjs-styles-defaults");if(!ne){ne=g.createStyleElement("vjs-styles-defaults");var ie=p.$("head");if(ie){ie.insertBefore(ne,ie.firstChild)}g.setTextContent(ne,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}v.autoSetupTimeout(1,re);re.VERSION="5.20.3";re.options=C["default"].prototype.options_;re.getPlayers=function(){return C["default"].players};re.players=C["default"].players;re.getComponent=_["default"].getComponent;re.registerComponent=function(e,t){if(Z["default"].isTech(t)){V["default"].warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)")}_["default"].registerComponent.call(_["default"],e,t)};re.getTech=Z["default"].getTech;re.registerTech=Z["default"].registerTech;re.browser=c;re.TOUCH_ENABLED=c.TOUCH_ENABLED;re.extend=X["default"];re.mergeOptions=x["default"];re.bind=M.bind;re.plugin=k["default"];re.addLanguage=function(e,t){var r;e=(""+e).toLowerCase();re.options.languages=(0,x["default"])(re.options.languages,(r={},r[e]=t,r));return re.options.languages[e]};re.log=V["default"];re.createTimeRange=re.createTimeRanges=F.createTimeRanges;re.formatTime=U["default"];re.parseUrl=G.parseUrl;re.isCrossOrigin=G.isCrossOrigin;re.EventTarget=T["default"];re.on=w.on;re.one=w.one;re.off=w.off;re.trigger=w.trigger;re.xhr=$["default"];re.TextTrack=R["default"];re.AudioTrack=j["default"];re.VideoTrack=N["default"];re.isEl=p.isEl;re.isTextNode=p.isTextNode;re.createEl=p.createEl;re.hasClass=p.hasElClass;re.addClass=p.addElClass;re.removeClass=p.removeElClass;re.toggleClass=p.toggleElClass;re.setAttributes=p.setElAttributes;re.getAttributes=p.getElAttributes;re.emptyEl=p.emptyEl;re.appendContent=p.appendContent;re.insertContent=p.insertContent;re.computedStyle=Y["default"];if(true){!(n=[],i=function(){return re}.apply(t,n),i!==undefined&&(e.exports=i))}else if((typeof t==="undefined"?"undefined":a(t))==="object"&&(typeof e==="undefined"?"undefined":a(e))==="object"){e.exports=re}t["default"]=re},function(e,t){e.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(53),i=r(15).document,a=n(i)&&n(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){var n=r(15),i=r(25),a=r(51),o=r(33),s="prototype";var u=function(e,t,r){var l=e&u.F,f=e&u.G,c=e&u.S,d=e&u.P,p=e&u.B,h=e&u.W,v=f?i:i[t]||(i[t]={}),y=v[s],g=f?n:c?n[t]:(n[t]||{})[s],m,_,b;if(f)r=t;for(m in r){_=!l&&g&&g[m]!==undefined;if(_&&m in v)continue;b=_?g[m]:r[m];v[m]=f&&typeof g[m]!="function"?r[m]:p&&_?a(b,n):h&&g[m]==b?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};t[s]=e[s];return t}(b):d&&typeof b=="function"?a(Function.call,b):b;if(d){(v.virtual||(v.virtual={}))[m]=b;if(e&u.R&&y&&!y[m])o(y,m,b)}}};u.F=1;u.G=2;u.S=4;u.P=8;u.B=16;u.W=32;u.U=64;u.R=128;e.exports=u},function(e,t,r){var n=r(40).f,i=r(52),a=r(14)("toStringTag");e.exports=function(e,t,r){if(e&&!i(e=r?e:e.prototype,a))n(e,a,{configurable:true,value:t})}},function(e,t,r){var n=r(111)("keys"),i=r(114);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(176),i=r(69);e.exports=function(e){return n(i(e))}},function(e,t,r){"use strict";var n={};n.encode=function(e){var t=[];for(var r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<128){t.push(n)}else if(n<2048){t.push(192|n>>6);t.push(128|63&n)}else if(n<65536){t.push(224|n>>12);t.push(128|63&n>>6);t.push(128|63&n)}else{t.push(240|n>>18);t.push(128|63&n>>12);t.push(128|63&n>>6);t.push(128|63&n)}}return t};n.decode=function(e){var t=[];var r=0;while(r<e.length){var n=e[r++];if(n<128){}else if(n<224){n=(31&n)<<6;n|=63&e[r++]}else if(n<240){n=(15&n)<<12;n|=(63&e[r++])<<6;n|=63&e[r++]}else{n=(7&n)<<18;n|=(63&e[r++])<<12;n|=(63&e[r++])<<6;n|=63&e[r++]}t.push(String.fromCharCode(n))}return t.join("")};var i={};(function(e){var t=function t(r){var n=0;var i=[];var a=0|r.length/3;while(0<a--){var o=(r[n]<<16)+(r[n+1]<<8)+r[n+2];n+=3;i.push(e.charAt(63&o>>18));i.push(e.charAt(63&o>>12));i.push(e.charAt(63&o>>6));i.push(e.charAt(63&o))}if(2==r.length-n){var o=(r[n]<<16)+(r[n+1]<<8);i.push(e.charAt(63&o>>18));i.push(e.charAt(63&o>>12));i.push(e.charAt(63&o>>6));i.push("=")}else if(1==r.length-n){var o=r[n]<<16;i.push(e.charAt(63&o>>18));i.push(e.charAt(63&o>>12));i.push("==")}return i.join("")};var r=function(){var t=[];for(var r=0;r<e.length;++r){t[e.charCodeAt(r)]=r}t["=".charCodeAt(0)]=0;return t}();var o=function e(t){var n=0;var i=[];var a=0|t.length/4;while(0<a--){var o=(r[t.charCodeAt(n)]<<18)+(r[t.charCodeAt(n+1)]<<12)+(r[t.charCodeAt(n+2)]<<6)+r[t.charCodeAt(n+3)];i.push(255&o>>16);i.push(255&o>>8);i.push(255&o);n+=4}if(i){if("="==t.charAt(n-2)){i.pop();i.pop()}else if("="==t.charAt(n-1)){i.pop()}}return i};var u={};u.encode=function(e){var t=[];for(var r=0;r<e.length;++r){t.push(e.charCodeAt(r))}return t};u.decode=function(e){for(var t=0;t<s.length;++t){a[t]=String.fromCharCode(a[t])}return a.join("")};i.decodeArray=function(e){var t=o(e);return new Uint8Array(t)};i.encodeASCII=function(e){var r=u.encode(e);return t(r)};i.decodeASCII=function(e){var t=o(e);return u.decode(t)};i.encode=function(e){var r=n.encode(e);return t(r)};i.decode=function(e){var t=o(e);return n.decode(t)}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");if(true){t.decode=i.decode;t.decodeArray=i.decodeArray}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){"use strict";var t="1.2.0";e=e||{};r();i();function r(){if(e.escapeMode===undefined){e.escapeMode=true}if(e.attributePrefix===undefined){e.attributePrefix="_"}e.arrayAccessForm=e.arrayAccessForm||"none";e.emptyNodeForm=e.emptyNodeForm||"text";if(e.enableToStringFunc===undefined){e.enableToStringFunc=true}e.arrayAccessFormPaths=e.arrayAccessFormPaths||[];if(e.skipEmptyTextNodesForObj===undefined){e.skipEmptyTextNodesForObj=true}if(e.stripWhitespaces===undefined){e.stripWhitespaces=true}e.datetimeAccessFormPaths=e.datetimeAccessFormPaths||[];if(e.useDoubleQuotes===undefined){e.useDoubleQuotes=false}e.xmlElementsFilter=e.xmlElementsFilter||[];e.jsonPropertiesFilter=e.jsonPropertiesFilter||[];if(e.keepCData===undefined){e.keepCData=false}if(e.ignoreRoot===undefined){e.ignoreRoot=false}}var n={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function i(){}function a(e){var t=e.localName;if(t==null)t=e.baseName;if(t==null||t=="")t=e.nodeName;return t}function o(e){return e.prefix}function s(e){if(typeof e=="string")return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");else return e}function u(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}function l(e,t,r,n){var i=0;for(;i<e.length;i++){var a=e[i];if(typeof a==="string"){if(a==n)break}else if(a instanceof RegExp){if(a.test(n))break}else if(typeof a==="function"){if(a(t,r,n))break}}return i!=e.length}function f(t,r,n){switch(e.arrayAccessForm){case"property":if(!(t[r]instanceof Array))t[r+"_asArray"]=[t[r]];else t[r+"_asArray"]=t[r];break}if(!(t[r]instanceof Array)&&e.arrayAccessFormPaths.length>0){if(l(e.arrayAccessFormPaths,t,r,n)){t[r]=[t[r]]}}}function c(e){var t=e.split(/[-T:+Z]/g);var r=new Date(t[0],t[1]-1,t[2]);var n=t[5].split(".");r.setHours(t[3],t[4],n[0]);if(n.length>1)r.setMilliseconds(n[1]);if(t[6]&&t[7]){var i=t[6]*60+Number(t[7]);var a=/\d\d-\d\d:\d\d$/.test(e)?"-":"+";i=0+(a=="-"?-1*i:i);r.setMinutes(r.getMinutes()-i-r.getTimezoneOffset())}else if(e.indexOf("Z",e.length-1)!==-1){r=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()))}return r}function d(t,r,n){if(e.datetimeAccessFormPaths.length>0){var i=n.split(".#")[0];if(l(e.datetimeAccessFormPaths,t,r,i)){return c(t)}else return t}else return t}function p(t,r,i,a){if(r==n.ELEMENT_NODE&&e.xmlElementsFilter.length>0){return l(e.xmlElementsFilter,t,i,a)}else return true}function h(t,r){if(t.nodeType==n.DOCUMENT_NODE){var i=new Object;var s=t.childNodes;for(var u=0;u<s.length;u++){var l=s[u];if(l.nodeType==n.ELEMENT_NODE){if(e.ignoreRoot){i=h(l)}else{i={};var c=a(l);i[c]=h(l)}}}return i}else if(t.nodeType==n.ELEMENT_NODE){var i=new Object;i.__cnt=0;var v=[];var s=t.childNodes;for(var u=0;u<s.length;u++){var l=s[u];var c=a(l);if(l.nodeType!=n.COMMENT_NODE){var y=r+"."+c;if(p(i,l.nodeType,c,y)){i.__cnt++;if(i[c]==null){var g=h(l,y);if(c!="#text"||/[^\s]/.test(g)){var m={};m[c]=g;v.push(m)}i[c]=g;f(i,c,y)}else{if(i[c]!=null){if(!(i[c]instanceof Array)){i[c]=[i[c]];f(i,c,y)}}var g=h(l,y);if(c!="#text"||/[^\s]/.test(g)){var m={};m[c]=g;v.push(m)}i[c][i[c].length]=g}}}}i.__children=v;var _=a(t);for(var b=0;b<t.attributes.length;b++){var T=t.attributes[b];i.__cnt++;var E=T.value;for(var w=0,S=e.matchers.length;w<S;w++){var C=e.matchers[w];if(C.test(T,_))E=C.converter(T.value)}i[e.attributePrefix+T.name]=E}var O=o(t);if(O!=null&&O!=""){i.__cnt++;i.__prefix=O}if(i["#text"]!=null){i.__text=i["#text"];if(i.__text instanceof Array){i.__text=i.__text.join("\n")}if(e.stripWhitespaces)i.__text=i.__text.trim();delete i["#text"];if(e.arrayAccessForm=="property")delete i["#text_asArray"];i.__text=d(i.__text,c,r+"."+c)}if(i["#cdata-section"]!=null){i.__cdata=i["#cdata-section"];delete i["#cdata-section"];if(e.arrayAccessForm=="property")delete i["#cdata-section_asArray"]}if(i.__cnt==0&&e.emptyNodeForm=="text"){i=""}else if(i.__cnt==1&&i.__text!=null){i=i.__text}else if(i.__cnt==1&&i.__cdata!=null&&!e.keepCData){i=i.__cdata}else if(i.__cnt>1&&i.__text!=null&&e.skipEmptyTextNodesForObj){if(e.stripWhitespaces&&i.__text==""||i.__text.trim()==""){delete i.__text}}delete i.__cnt;if(e.enableToStringFunc&&(i.__text!=null||i.__cdata!=null)){i.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}}return i}else if(t.nodeType==n.TEXT_NODE||t.nodeType==n.CDATA_SECTION_NODE){return t.nodeValue}}function v(t,r,n,i){var a="<"+(t!=null&&t.__prefix!=null?t.__prefix+":":"")+r;if(n!=null){for(var o=0;o<n.length;o++){var u=n[o];var l=t[u];if(e.escapeMode)l=s(l);a+=" "+u.substr(e.attributePrefix.length)+"=";if(e.useDoubleQuotes)a+='"'+l+'"';else a+="'"+l+"'"}}if(!i)a+=">";else a+="/>";return a}function y(e,t){return"</"+(e.__prefix!=null?e.__prefix+":":"")+t+">"}function g(e,t){return e.indexOf(t,e.length-t.length)!==-1}function m(t,r){if(e.arrayAccessForm=="property"&&g(r.toString(),"_asArray")||r.toString().indexOf(e.attributePrefix)==0||r.toString().indexOf("__")==0||t[r]instanceof Function)return true;else return false}function _(e){var t=0;if(e instanceof Object){for(var r in e){if(m(e,r))continue;t++}}return t}function b(t,r,n){return e.jsonPropertiesFilter.length==0||n==""||l(e.jsonPropertiesFilter,t,r,n)}function T(t){var r=[];if(t instanceof Object){for(var n in t){if(n.toString().indexOf("__")==-1&&n.toString().indexOf(e.attributePrefix)==0){r.push(n)}}}return r}function E(t){var r="";if(t.__cdata!=null){r+="<![CDATA["+t.__cdata+"]]>"}if(t.__text!=null){if(e.escapeMode)r+=s(t.__text);else r+=t.__text}return r}function w(t){var r="";if(t instanceof Object){r+=E(t)}else if(t!=null){if(e.escapeMode)r+=s(t);else r+=t}return r}function S(e,t){if(e===""){return t}else return e+"."+t}function C(e,t,r,n){var i="";if(e.length==0){i+=v(e,t,r,true)}else{for(var a=0;a<e.length;a++){i+=v(e[a],t,T(e[a]),false);i+=O(e[a],S(n,t));i+=y(e[a],t)}}return i}function O(e,t){var r="";var n=_(e);if(n>0){for(var i in e){if(m(e,i)||t!=""&&!b(e,i,S(t,i)))continue;var a=e[i];var o=T(a);if(a==null||a==undefined){r+=v(a,i,o,true)}else if(a instanceof Object){if(a instanceof Array){r+=C(a,i,o,t)}else if(a instanceof Date){r+=v(a,i,o,false);r+=a.toISOString();r+=y(a,i)}else{var s=_(a);if(s>0||a.__text!=null||a.__cdata!=null){r+=v(a,i,o,false);r+=O(a,S(t,i));r+=y(a,i)}else{r+=v(a,i,o,true)}}}else{r+=v(a,i,o,false);r+=w(a);r+=y(a,i)}}}r+=w(e);return r}this.parseXmlString=function(e){var t=window.ActiveXObject||"ActiveXObject"in window;if(e===undefined){return null}var r;if(window.DOMParser){var n=new window.DOMParser;var i=null;if(!t){try{i=n.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){i=null}}try{r=n.parseFromString(e,"text/xml");if(i!=null&&r.getElementsByTagNameNS(i,"parsererror").length>0){r=null}}catch(e){r=null}}else{if(e.indexOf("<?")==0){e=e.substr(e.indexOf("?>")+2)}r=new ActiveXObject("Microsoft.XMLDOM");r.async="false";r.loadXML(e)}return r};this.asArray=function(e){if(e===undefined||e==null)return[];else if(e instanceof Array)return e;else return[e]};this.toXmlDateTime=function(e){if(e instanceof Date)return e.toISOString();else if(typeof e==="number")return new Date(e).toISOString();else return null};this.asDateTime=function(e){if(typeof e=="string"){return c(e)}else return e};this.xml2json=function(e){return h(e)};this.xml_str2json=function(e){var t=this.parseXmlString(e);if(t!=null)return this.xml2json(t);else return null};this.json2xml_str=function(e){return O(e,"")};this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)};this.getVersion=function(){return t}}t["default"]=n;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function i(e){return e&&e.__esModule?e:{default:e}}var a=r(308);var o=i(a);var s=r(304);var u=i(s);var l=r(306);var f=i(l);var c=r(303);var d=i(c);var p=r(121);var h=i(p);var v=r(0);var y=i(v);var g=r(115);var m=i(g);var _=r(118);var b=n(_);function T(){var e=undefined,t=undefined,r=undefined,n=undefined;function i(e){if(!e)return;if(e.dashManifestModel){t=e.dashManifestModel}}function a(){r=[];n={}}function s(e,t){return t.getRepresentationForQuality(e.quality)}function l(e){if(!n||!e||!n[e.streamInfo.id])return null;return n[e.streamInfo.id][e.index]}function c(e){var t=r.length;for(var n=0;n<t;n++){var i=r[n];if(e.id===i.id)return i}return null}function p(e,r){var n=new o["default"];var i=r.adaptation.period.mpd.manifest.Period_asArray[r.adaptation.period.index].AdaptationSet_asArray[r.adaptation.index];var a=t.getRepresentationFor(r.index,i);n.id=r.id;n.quality=r.index;n.bandwidth=t.getBandwidth(a);n.DVRWindow=r.segmentAvailabilityRange;n.fragmentDuration=r.segmentDuration||(r.segments&&r.segments.length>0?r.segments[0].duration:NaN);n.MSETimeOffset=r.MSETimeOffset;n.useCalculatedLiveEdgeTime=r.useCalculatedLiveEdgeTime;n.mediaInfo=v(e,r.adaptation);return n}function v(e,r){var n=new u["default"];var i=r.period.mpd.manifest.Period_asArray[r.period.index].AdaptationSet_asArray[r.index];var a;n.id=r.id;n.index=r.index;n.type=r.type;n.streamInfo=g(e,r.period);n.representationCount=t.getRepresentationCount(i);n.lang=t.getLanguageForAdaptation(i);a=t.getViewpointForAdaptation(i);n.viewpoint=a?a.value:undefined;n.accessibility=t.getAccessibilityForAdaptation(i).map(function(e){var t=e.value;var r=t;if(e.schemeIdUri&&e.schemeIdUri.search("cea-608")>=0&&typeof m["default"]!=="undefined"){if(t){r="cea-608:"+t}else{r="cea-608"}n.embeddedCaptions=true}return r});n.audioChannelConfiguration=t.getAudioChannelConfigurationForAdaptation(i).map(function(e){return e.value});n.roles=t.getRolesForAdaptation(i).map(function(e){return e.value});n.codec=t.getCodec(i);n.mimeType=t.getMimeType(i);n.contentProtection=t.getContentProtectionData(i);n.bitrateList=t.getBitrateListForAdaptation(i);if(n.contentProtection){n.contentProtection.forEach(function(e){e.KID=t.getKID(e)})}n.isText=t.getIsTextTrack(n.mimeType);return n}function y(e,t,r){e.id=t;e.index=100+parseInt(t.substring(2,3));e.type="embeddedText";e.codec="cea-608-in-SEI";e.isText=true;e.isEmbedded=true;e.lang=t+" "+r;e.roles=["caption"]}function g(e,r){var n=new f["default"];var i=1;n.id=r.id;n.index=r.index;n.start=r.start;n.duration=r.duration;n.manifestInfo=_(e,r.mpd);n.isLast=e.Period_asArray.length===1||Math.abs(n.start+n.duration-n.manifestInfo.duration)<i;n.isFirst=e.Period_asArray.length===1||t.getRegularPeriods(e,t.getMpd(e))[0].id===r.id;return n}function _(e,r){var n=new d["default"];n.DVRWindowSize=r.timeShiftBufferDepth;n.loadedTime=r.manifest.loadedTime;n.availableFrom=r.availabilityStartTime;n.minBufferTime=r.manifest.minBufferTime;n.maxFragmentDuration=r.maxSegmentDuration;n.duration=t.getDuration(e);n.isDynamic=t.getIsDynamic(e);return n}function T(e,r,i){var a=t.getAdaptationForType(e,r.index,i,r);if(!a)return null;var o=c(r);var s=o.id;var u=t.getIndexForAdaptation(a,e,r.index);n[s]=n[s]||t.getAdaptationsForPeriod(e,o);return v(e,n[s][u])}function E(e,r,i){var a=c(r);var o=a.id;var s=t.getAdaptationsForType(e,r.index,i!=="embeddedText"?i:"video");var u=[];var l,f,d,p,h,g;if(!s)return u;n[o]=n[o]||t.getAdaptationsForPeriod(e,a);for(p=0,g=s.length;p<g;p++){l=s[p];d=t.getIndexForAdaptation(l,e,r.index);f=v(e,n[o][d]);if(i==="embeddedText"){var m=f.accessibility.length;for(h=0;h<m;h++){if(!f){continue}var _=f.accessibility[h];if(_.indexOf("cea-608:")===0){var b=_.substring(8);var T=b.split(";");if(T[0].substring(0,2)==="CC"){for(h=0;h<T.length;h++){if(!f){f=v.call(this,e,n[o][d])}y(f,T[h].substring(0,3),T[h].substring(4));u.push(f);f=null}}else{for(h=0;h<T.length;h++){if(!f){f=v.call(this,e,n[o][d])}y(f,"CC"+(h+1),T[h]);u.push(f);f=null}}}else if(_.indexOf("cea-608")===0){y(f,"CC1","eng");u.push(f);f=null}}}if(f&&i!=="embeddedText"){u.push(f)}}return u}function w(e){if(!e)return null;var i=[];var a=t.getMpd(e);r=t.getRegularPeriods(e,a);n={};for(var o=0,s=r.length;o<s;o++){i.push(g(e,r[o]))}return i}function S(e){var r=t.getMpd(e);return _(e,r)}function C(e,t){var r=e.getRepresentationController().getRepresentationForQuality(t);return e.getIndexHandler().getInitRequest(r)}function O(e,t){var r=s(t,e.getRepresentationController());return e.getIndexHandler().getNextSegmentRequest(r)}function k(e,t,r,n){var i=s(t,e.getRepresentationController());return e.getIndexHandler().getSegmentRequestForTime(i,r,n)}function P(e,t,r){var n=s(t,e.getRepresentationController());return e.getIndexHandler().generateSegmentRequestForTime(n,r)}function x(e){return e.getIndexHandler().getCurrentTime()}function A(e,t){return e.getIndexHandler().setCurrentTime(t)}function M(e,r){var n=c(r.getStreamInfo());var i=r.getMediaInfo();var a=l(i);var o=r.getType();var s,u;s=i.id;u=s?t.getAdaptationForId(s,e,n.index):t.getAdaptationForIndex(i.index,e,n.index);r.getRepresentationController().updateData(u,a,o)}function I(e,t,r){var n=t.getRepresentationForQuality(r);return n?p(e,n):null}function R(e,t){var r=t.getCurrentRepresentation();return r?p(e,r):null}function D(e,t,r){var n=new h["default"];var i=e.scheme_id_uri;var a=e.value;var o=e.timescale;var s=e.presentation_time_delta;var u=e.event_duration;var l=e.id;var f=e.message_data;var c=r*o+s;if(!t[i])return null;n.eventStream=t[i];n.eventStream.value=a;n.eventStream.timescale=o;n.duration=u;n.id=l;n.presentationTime=c;n.messageData=f;n.presentationTimeDelta=s;return n}function j(e,r,n){var i=[];if(r instanceof f["default"]){i=t.getEventsForPeriod(e,c(r))}else if(r instanceof u["default"]){i=t.getEventStreamForAdaptationSet(e,l(r))}else if(r instanceof o["default"]){i=t.getEventStreamForRepresentation(e,s(r,n.getRepresentationController()))}return i}function L(){r=[];n={}}e={initialize:a,convertDataToTrack:p,convertDataToMedia:v,convertDataToStream:g,getDataForTrack:s,getDataForMedia:l,getDataForStream:c,getStreamsInfo:w,getManifestInfo:S,getMediaInfoForType:T,getAllMediaInfoForType:E,getCurrentRepresentationInfo:R,getRepresentationInfoForQuality:I,updateData:M,getInitRequest:C,getNextFragmentRequest:O,getFragmentRequestForTime:k,generateFragmentRequestForTime:P,getIndexHandlerTime:x,setIndexHandlerTime:A,getEventsFor:j,getEvent:D,setConfig:i,reset:L,metricsList:b};return e}T.__dashjs_factory_name="DashAdapter";t["default"]=y["default"].getSingletonFactory(T);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(3);var a=n(i);var o=r(2);var s=n(o);var u=r(0);var l=n(u);function f(){var e=this.context;var t=(0,a["default"])(e).getInstance();var r=undefined,n=undefined,i=undefined,o=undefined;function u(){n=0;i=false;o=NaN;t.on(s["default"].TIME_SYNCHRONIZATION_COMPLETED,C,this)}function l(){return i}function f(e){i=e}function c(){return n}function d(e){n=e}function p(){return o}function h(e){o=e}function v(e,t,r,i){var a=NaN;if(i){if(r&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY){a=new Date(t.availabilityStartTime.getTime()+(e+t.timeShiftBufferDepth)*1e3)}else{a=t.availabilityEndTime}}else{if(r){a=new Date(t.availabilityStartTime.getTime()+(e-n)*1e3)}else{a=t.availabilityStartTime}}return a}function y(e,t,r){return v.call(this,e,t,r)}function g(e,t,r){return v.call(this,e,t,r,true)}function m(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+n*1e3)/1e3}function _(e,t){var r=t.adaptation.period.start;var n=t.presentationTimeOffset;return e+(r-n)}function b(e,t){var r=t.adaptation.period.start;var n=t.presentationTimeOffset;return e-r+n}function T(e,t){var r,n,i;if(t){r=e.representation.adaptation.period.mpd.suggestedPresentationDelay;n=e.presentationStartTime+r;i=new Date(e.availabilityStartTime.getTime()+n*1e3)}return i}function E(e,t){var r=e.adaptation.period;var n={start:r.start,end:r.start+r.duration};if(!t)return n;if(!i&&e.segmentAvailabilityRange){return e.segmentAvailabilityRange}var a=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0);var o=m(new Date,r);var s=r.start+r.duration;n.start=Math.max(o-r.mpd.timeShiftBufferDepth,r.start);n.end=o>=s&&o-a<s?s-a:o-a;return n}function w(e,t){var r=e.adaptation.period.start;return t-r}function S(e,t){var r=e.adaptation.period.start;return t+r}function C(e){if(i)return;if(e.offset!==undefined){d(e.offset/1e3);i=true}}function O(e){var t=e.presentationTimeOffset;var r=e.adaptation.period.start;return r-t}function k(){t.off(s["default"].TIME_SYNCHRONIZATION_COMPLETED,C,this);n=0;i=false;o=NaN}r={initialize:u,isTimeSyncCompleted:l,setTimeSyncCompleted:f,getClientTimeOffset:c,setClientTimeOffset:d,getExpectedLiveEdge:p,setExpectedLiveEdge:h,calcAvailabilityStartTimeFromPresentationTime:y,calcAvailabilityEndTimeFromPresentationTime:g,calcPresentationTimeFromWallTime:m,calcPresentationTimeFromMediaTime:_,calcPeriodRelativeTimeFromMpdRelativeTime:w,calcMpdRelativeTimeFromPeriodRelativeTime:S,calcMediaTimeFromPresentationTime:b,calcSegmentAvailabilityRange:E,calcWallTimeForSegment:T,calcMSETimeOffset:O,reset:k};return r}f.__dashjs_factory_name="TimelineConverter";t["default"]=l["default"].getSingletonFactory(f);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(){i(this,e);this.id=null;this.index=-1;this.adaptation=null;this.segmentInfoType=null;this.initialization=null;this.codecs=null;this.codecPrivateData=null;this.segmentDuration=NaN;this.timescale=1;this.startNumber=1;this.indexRange=null;this.range=null;this.presentationTimeOffset=0;this.MSETimeOffset=NaN;this.segmentAvailabilityRange=null;this.availableSegmentsNumber=0;this.bandwidth=NaN;this.width=NaN;this.height=NaN;this.maxPlayoutRate=NaN}n(e,null,[{key:"hasInitialization",value:function e(t){return t.initialization!==null||(t.segmentInfoType!=="BaseURL"||t.segmentInfoType!=="SegmentBase")&&t.range!==null}},{key:"hasSegments",value:function e(t){return t.segmentInfoType!=="BaseURL"&&t.segmentInfoType!=="SegmentBase"&&!t.indexRange}}]);return e}();t["default"]=a;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.indexRange=null;this.index=null;this.mediaRange=null;this.media=null;this.duration=NaN;this.replacementTime=null;this.replacementNumber=NaN;this.mediaStartTime=NaN;this.presentationStartTime=NaN;this.availabilityStartTime=NaN;this.availabilityEndTime=NaN;this.availabilityIdx=NaN;this.wallStartTime=NaN;this.representation=null};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(30);var a=n(i);var o=r(230);var s=n(o);var u=r(228);var l=n(u);var f=r(3);var c=n(f);var d=r(2);var p=n(d);var h=r(83);var v=n(h);var y=r(43);var g=n(y);var m=r(10);var _=n(m);var b=r(0);var T=n(b);var E=r(133);var w=r(4);var S=n(w);var C=r(92);var O=n(C);function k(){var e=.1;var t=this.context;var r=(0,S["default"])(t).getInstance().log;var n=(0,c["default"])(t).getInstance();var i=undefined,o=undefined,u=undefined,f=undefined,d=undefined,h=undefined,y=undefined,m=undefined,b=undefined,T=undefined,w=undefined,C=undefined,k=undefined,P=undefined,x=undefined,A=undefined,M=undefined,I=undefined,R=undefined,D=undefined,j=undefined,L=undefined,N=undefined,F=undefined,B=undefined,U=undefined,H=undefined,V=undefined,q=undefined,G=undefined,z=undefined,K=undefined,Y=undefined;function W(){R=null;M=[];q=(0,_["default"])(t).getInstance();j=true;L=false;N=false;G=false;z=true;K=null;F=false;B=false}function X(e,r){j=e;D=r;A.initialize();P=(0,O["default"])(t).getInstance();u=(0,l["default"])(t).getInstance();u.setConfig({manifestModel:d,dashManifestModel:h});u.initialize(f);H=(0,g["default"])(t).getInstance();V=(0,a["default"])(t).getInstance();V.setConfig({streamController:i,timelineConverter:A,metricsModel:m,dashMetrics:b,manifestModel:d,dashManifestModel:h,adapter:y,videoModel:H});n.on(p["default"].TIME_SYNCHRONIZATION_COMPLETED,de,this);n.on(p["default"].PLAYBACK_SEEKING,$,this);n.on(p["default"].PLAYBACK_TIME_UPDATED,Q,this);n.on(p["default"].PLAYBACK_ENDED,ie,this);n.on(p["default"].PLAYBACK_ERROR,me,this);n.on(p["default"].PLAYBACK_STARTED,J,this);n.on(p["default"].PLAYBACK_PAUSED,Z,this);n.on(p["default"].MANIFEST_UPDATED,pe,this);n.on(p["default"].STREAM_BUFFERING_COMPLETED,ee,this)}function Q(t){if(he()){var r=H.getPlaybackQuality();if(r){m.addDroppedFrames("video",r)}}if(V.isSeeking())return;if(t.timeToEnd<=e){ie()}}function $(e){var t=te(e.seekTime);if(t&&t!==I){ye(E.PlayListTrace.END_OF_PERIOD_STOP_REASON);oe(I,t,e.seekTime)}else{ye(E.PlayListTrace.USER_REQUEST_STOP_REASON)}ge(E.PlayList.SEEK_START_REASON)}function J(){if(z){z=false;ge(E.PlayList.INITIAL_PLAYOUT_START_REASON)}else{if(G){G=false;ge(E.PlayList.RESUME_FROM_PAUSE_START_REASON)}}}function Z(e){if(!e.ended){G=true;ye(E.PlayListTrace.USER_REQUEST_STOP_REASON)}}function ee(){var e=be().isLast;if(U&&e){w.signalEndOfStream(U)}}function te(e){var t=0;var r=null;var n=M.length;if(n>0){t+=M[0].getStartTime()}for(var i=0;i<n;i++){r=M[i];t+=r.getDuration();if(e<t){return r}}return null}function re(e,t){var r=null;var n=0;var i=0;var a=null;var o=M.length;for(var s=0;s<o;s++){r=M[s];i=r.getStartTime();a=r.getDuration();if(Number.isFinite(i)){n=i}if(r.getId()===t){return e-n}else{if(Number.isFinite(a)){n+=a}}}return null}function ne(){var e=[];I.getProcessors().forEach(function(t){e.push(t.getIndexHandler().getEarliestTime())});return Math.min.apply(Math,e)}function ie(){var e=ae();if(e){oe(I,e,NaN)}ye(e?E.PlayListTrace.END_OF_PERIOD_STOP_REASON:E.PlayListTrace.END_OF_CONTENT_STOP_REASON)}function ae(){if(I){var e=function(){var e=I.getStreamInfo().start;var t=I.getStreamInfo().duration;return{v:M.filter(function(r){return r.getStreamInfo().start===e+t})[0]}}();if(typeof e==="object")return e.v}}function oe(e,t,r){if(L||!t||e===t)return;L=true;n.trigger(p["default"].PERIOD_SWITCH_STARTED,{fromStreamInfo:e?e.getStreamInfo():null,toStreamInfo:t.getStreamInfo()});if(e)e.deactivate();I=t;V.initialize(I.getStreamInfo());se(r)}function se(e){var t=undefined;function n(){r("MediaSource is open!");window.URL.revokeObjectURL(t);U.removeEventListener("sourceopen",n);U.removeEventListener("webkitsourceopen",n);le();ue(e)}if(!U){U=w.createMediaSource()}else{w.detachMediaSource(H)}U.addEventListener("sourceopen",n,false);U.addEventListener("webkitsourceopen",n,false);t=w.attachMediaSource(U,H);r("MediaSource attached to element.  Waiting on open...")}function ue(e){I.activate(U);if(!z){if(!isNaN(e)){V.seek(e)}else{(function(){var e=V.getStreamStartTime(true);I.getProcessors().forEach(function(t){y.setIndexHandlerTime(t,e)});V.seek(e)})()}}else{Y=ve()}I.startEventController();if(j||!z){V.play()}L=false;n.trigger(p["default"].PERIOD_SWITCH_COMPLETED,{toStreamInfo:I.getStreamInfo()})}function le(){var e=I.getStreamInfo().manifestInfo.duration;var t=w.setDuration(U,e);r("Duration successfully set to: "+t)}function fe(e){for(var t=0,r=M.length;t<r;t++){if(M[t].getId()===e.id){return M[t]}}return null}function ce(e){try{var r=y.getStreamsInfo(e);if(r.length===0){throw new Error("There are no streams")}var i=b.getCurrentManifestUpdate(m.getMetricsFor("stream"));m.updateManifestUpdateInfo(i,{currentTime:V.getTime(),buffered:H.getElement().buffered,presentationStartTime:r[0].start,clientTimeOffset:A.getClientTimeOffset()});for(var a=0,l=r.length;a<l;a++){var f=r[a];var c=fe(f);if(!c){c=(0,s["default"])(t).create({manifestModel:d,manifestUpdater:u,adapter:y,timelineConverter:A,capabilities:o,errHandler:x,baseURLController:k});M.push(c);c.initialize(f,R)}else{c.updateData(f)}m.addManifestUpdateStreamInfo(i,f.id,f.index,f.start,f.duration)}if(!I){oe(null,M[0],NaN)}n.trigger(p["default"].STREAMS_COMPOSED)}catch(t){x.manifestError(t.message,"nostreamscomposed",e);B=true;Oe()}}function de(){var e=d.getValue();if(R){n.trigger(p["default"].PROTECTION_CREATED,{controller:R,manifest:e});R.setMediaElement(H.getElement());if(D){R.setProtectionData(D)}}ce(e)}function pe(e){if(!e.error){var n=e.manifest;var i=y.getStreamsInfo(n)[0];var a=y.getMediaInfoForType(n,i,"video")||y.getMediaInfoForType(n,i,"audio");var o,s;if(a){o=y.getDataForMedia(a);s=h.getRepresentationsForAdaptation(n,o)[0].useCalculatedLiveEdgeTime;if(s){r("SegmentTimeline detected using calculated Live Edge Time");q.setUseManifestDateHeaderTimeSource(false)}}var u=h.getUTCTimingSources(e.manifest);var l=!h.getIsDynamic(n)||s?u:u.concat(q.getUTCTimingSources());var f=(0,v["default"])(t).getInstance().isManifestHTTPS();l.forEach(function(e){if(e.value.replace(/.*?:\/\//g,"")===_["default"].DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")){e.value=e.value.replace(f?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),f?"https://":"http://");r("Matching default timing source protocol to manifest protocol: ",e.value)}});k.initialize(n);C.setConfig({metricsModel:m,dashMetrics:b});C.initialize(l,q.getUseManifestDateHeaderTimeSource())}else{B=true;Oe()}}function he(){if(Y===undefined){Y=ve()}return Y}function ve(){var e=false;I.getProcessors().forEach(function(t){if(t.getMediaInfo().type==="video"){e=true}});return e}function ye(e,t){t=t||new Date;if(K){if(I){I.getProcessors().forEach(function(r){var n=r.getScheduleController();if(n){n.finalisePlayList(t,e)}})}m.addPlayList(K);K=null}}function ge(e){K=new E.PlayList;K.start=new Date;K.mstart=V.getTime()*1e3;K.starttype=e;if(I){I.getProcessors().forEach(function(e){var t=e.getScheduleController();if(t){t.setPlayList(K)}})}}function me(e){if(!e.error)return;var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN";break}F=true;if(e.error.message){t+=" ("+e.error.message+")"}if(e.error.msExtendedCode){t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"}r("Video Element Error: "+t);if(e.error){r(e.error)}x.mediaSourceError(t);Oe()}function _e(){return j}function be(){return I?I.getStreamInfo():null}function Te(e){return I.getId()===e.id}function Ee(e){return M.filter(function(t){return t.getId()===e})[0]}function we(e){f.load(e)}function Se(e){u.setManifest(e)}function Ce(e){if(!e)return;if(e.capabilities){o=e.capabilities}if(e.manifestLoader){f=e.manifestLoader}if(e.manifestModel){d=e.manifestModel}if(e.dashManifestModel){h=e.dashManifestModel}if(e.protectionController){R=e.protectionController}if(e.adapter){y=e.adapter}if(e.metricsModel){m=e.metricsModel}if(e.dashMetrics){b=e.dashMetrics}if(e.liveEdgeFinder){T=e.liveEdgeFinder}if(e.mediaSourceController){w=e.mediaSourceController}if(e.timeSyncController){C=e.timeSyncController}if(e.baseURLController){k=e.baseURLController}if(e.errHandler){x=e.errHandler}if(e.timelineConverter){A=e.timelineConverter}}function Oe(){C.reset();ye(F||B?E.PlayListTrace.FAILURE_STOP_REASON:E.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,t=M.length;e<t;e++){var r=M[e];r.reset(F)}M=[];n.off(p["default"].PLAYBACK_TIME_UPDATED,Q,this);n.off(p["default"].PLAYBACK_SEEKING,$,this);n.off(p["default"].PLAYBACK_ERROR,me,this);n.off(p["default"].PLAYBACK_STARTED,J,this);n.off(p["default"].PLAYBACK_PAUSED,Z,this);n.off(p["default"].PLAYBACK_ENDED,ie,this);n.off(p["default"].MANIFEST_UPDATED,pe,this);n.off(p["default"].STREAM_BUFFERING_COMPLETED,ee,this);k.reset();u.reset();m.clearAllCurrentMetrics();d.setValue(null);f.reset();A.reset();T.reset();y.reset();P.reset();L=false;N=false;I=null;F=false;B=false;Y=undefined;z=true;G=false;if(U){w.detachMediaSource(H);U=null}H=null;if(R){R.setMediaElement(null);R=null;D=null;if(d.getValue()){n.trigger(p["default"].PROTECTION_DESTROYED,{data:d.getValue().url})}}n.trigger(p["default"].STREAM_TEARDOWN_COMPLETE)}i={initialize:X,getAutoPlay:_e,getActiveStreamInfo:be,isStreamActive:Te,isVideoTrackPresent:he,getStreamById:Ee,getTimeRelativeToStreamId:re,load:we,loadWithManifest:Se,getActiveStreamCommonEarliestTime:ne,setConfig:Ce,reset:Oe};W();return i}k.__dashjs_factory_name="StreamController";t["default"]=T["default"].getSingletonFactory(k);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(309);var a=n(i);var o=r(0);var s=n(o);function u(){var e=undefined,t=undefined,r=undefined,n=undefined;function i(){t=new a["default"];r=[];n=false}function o(){return t}function s(){return r}function u(){return n}function l(e){if(!e)return null;var i=[];var a;var o=new RegExp(/[?]/);var s=new RegExp(/[#]/);var u=new RegExp(/^(https:)?\/\//i);var l=o.test(e);var f=s.test(e);n=u.test(e);function c(e,t,r,n){var i=n[0].split(/[=]/);n.push({key:i[0],value:i[1]});n.shift();return n}function d(e,t,n){if(t>0){if(l&&r.length===0){r=n[t].split(/[&]/)}else if(f){i=n[t].split(/[&]/)}}return n}a=e.split(/[?#]/).map(d);if(r.length>0){r=r.reduce(c,null)}if(i.length>0){i=i.reduce(c,null);i.forEach(function(e){t[e.key]=e.value})}return e}e={initialize:i,parseURI:l,getURIFragmentData:o,getURIQueryData:s,isManifestHTTPS:u};return e}u.__dashjs_factory_name="URIQueryAndFragmentModel";t["default"]=s["default"].getSingletonFactory(u);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(t,r){n(this,e);this.sessionToken=t;this.error=r};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(t,r,i,a){n(this,e);this.sessionToken=t;this.message=r;this.defaultURL=i;this.messageType=a?a:"license-request"};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(t,r){n(this,e);this.keySystem=t;this.ksConfiguration=r};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(t,r,i,a,o){n(this,e);this.initDataTypes=["cenc"];if(t&&t.length){this.audioCapabilities=t}if(r&&r.length){this.videoCapabilities=r}this.distinctiveIdentifier=i;this.persistentState=a;this.sessionTypes=o};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(t,r){n(this,e);this.initData=t;this.initDataType=r};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(3);var a=n(i);var o=r(2);var s=n(o);var u=r(0);var l=n(u);var f=r(4);var c=n(f);function d(){var e=this.context;var t=(0,a["default"])(e).getInstance();var r=(0,c["default"])(e).getInstance().log;var n=undefined,i=undefined,o=undefined,u=undefined,l=undefined,f=undefined,d=undefined,p=undefined,h=undefined,v=undefined,y=undefined,g=undefined,m=undefined,_=undefined,b=undefined,T=undefined,E=undefined;function w(){if(typeof window==="undefined"||typeof navigator==="undefined"){return}i=window.VTTCue||window.TextTrackCue;l=[];f=[];d=-1;p=0;h=0;v=0;y=0;g=null;m=null;T=false;E=2147483647;_=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/);if(document.fullscreenElement!==undefined){b="fullscreenElement"}else if(document.webkitIsFullScreen!==undefined){b="webkitIsFullScreen"}else if(document.msFullscreenElement){b="msFullscreenElement"}else if(document.mozFullScreen){b="mozFullScreen"}}function S(e){var t=l[e].kind;var r=l[e].label!==undefined?l[e].label:l[e].lang;var n=l[e].lang;var i=_?document.createElement("track"):u.addTextTrack(t,r,n);if(_){i.kind=t;i.label=r;i.srclang=n}return i}function C(e){T=e;if(!g||document[b]){return}g.style.zIndex=e?E:null}function O(e,n){if(l.length===n){r("Trying to add too many tracks.");return}l.push(e);if(u===undefined){u=e.video}if(l.length===n){l.sort(function(e,t){return e.index-t.index});g=o.getTTMLRenderingDiv();var i=-1;for(var a=0;a<l.length;a++){var c=S.call(this,a);f.push(c);if(l[a].defaultTrack){c["default"]=true;i=a}if(_){u.appendChild(c)}var p=u.textTracks[a];p.nonAddedCues=[];if(g&&(l[a].isTTML||l[a].isEmbedded)){p.renderingType="html"}else{p.renderingType="default"}this.addCaptions(a,0,l[a].captionData);t.trigger(s["default"].TEXT_TRACK_ADDED)}L.call(this,i);if(i>=0){for(var h=0;h<u.textTracks.length;h++){u.textTracks[h].mode=h===i?"showing":"hidden"}this.addCaptions(i,0,null)}t.trigger(s["default"].TEXT_TRACKS_ADDED,{index:d,tracks:l})}}function k(e,t,r,n,i,a){var o=e/t;var s=r/n;var u=0;var l=0;if(o>s){l=t;u=l/n*r}else{u=e;l=u/r*n}var f=0;var c=0;var d=0;var p=0;var h=u/l;if(h>i){p=l;d=l/(1/i);f=(e-d)/2;c=0}else{d=u;p=u/i;f=0;c=(t-p)/2}if(a){return{x:f+d*.1,y:c+p*.1,w:d*.8,h:p*.8}}else{return{x:f,y:c,w:d,h:p}}}function P(){var e=this.getCurrentTextTrack();if(e&&e.renderingType==="html"){var t=u.clientWidth/u.clientHeight;var r=false;if(e.isFromCEA608){t=3.5/3;r=true}var n=k.call(this,u.clientWidth,u.clientHeight,u.videoWidth,u.videoHeight,t,r);var i=n.w;var a=n.h;if(i!=v||a!=y){p=n.x;h=n.y;v=i;y=a;g.style.left=p+"px";g.style.top=h+"px";g.style.width=v+"px";g.style.height=y+"px";for(var o=0;e.activeCues&&o<e.activeCues.length;++o){var s=e.activeCues[o];s.scaleCue(s)}if(b&&document[b]||T){g.style.zIndex=E}else{g.style.zIndex=null}}}}function x(e,t){var r=Math.round(.01*e*t).toString()+"px";return r}function A(e){var t=v;var r=y;if(t*r===0){return}if(e.layout){var n=e.layout;var i=x(n.left,t);var a=x(n.top,r);var o=x(n.width,t);var s=x(n.height,r);g.style.left=i;g.style.top=a;g.style.width=o;g.style.height=s;var u=g.firstChild;if(u&&u.style){u.style.left="0px";u.style.top="0px";u.style.width=o;u.style.height=s;if(b&&document[b]||T){u.style.zIndex=E}else{u.style.zIndex=null}}}}function M(e){var t=v;var r=y;var n,i,a,o,s;var u=[t/e.cellResolution[0],r/e.cellResolution[1]];if(e.linePadding){for(n in e.linePadding){if(e.linePadding.hasOwnProperty(n)){var l=e.linePadding[n];i=(l*u[0]).toString();var f=document.getElementsByClassName("spanPadding");for(var c=0;c<f.length;c++){f[c].style.cssText=f[c].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i);f[c].style.cssText=f[c].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}}}}if(e.fontSize){for(n in e.fontSize){if(e.fontSize.hasOwnProperty(n)){if(e.fontSize[n][0]==="%"){a=e.fontSize[n][1]/100}else if(e.fontSize[n][0]==="c"){a=e.fontSize[n][1]}i=(a*u[1]).toString();if(n!=="defaultFontSize"){s=document.getElementsByClassName(n)}else{s=document.getElementsByClassName("paragraph")}for(var d=0;d<s.length;d++){s[d].style.cssText=s[d].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}}}}if(e.lineHeight){for(n in e.lineHeight){if(e.lineHeight.hasOwnProperty(n)){if(e.lineHeight[n][0]==="%"){o=e.lineHeight[n][1]/100}else if(e.fontSize[n][0]==="c"){o=e.lineHeight[n][1]}i=(o*u[1]).toString();s=document.getElementsByClassName(n);for(var p=0;p<s.length;p++){s[p].style.cssText=s[p].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+i)}}}}}function I(e,t,n){var a=e>=0?u.textTracks[e]:null;var o=this;if(!a){return}if(a.mode!=="showing"){if(n&&n.length>0){a.nonAddedCues=a.nonAddedCues.concat(n)}return}if(!n){n=a.nonAddedCues;a.nonAddedCues=[]}if(!n||n.length===0){return}for(var s in n){var l;var f=n[s];a.cellResolution=f.cellResolution;a.isFromCEA608=f.isFromCEA608;if(!m&&(f.type==="html"||f.type==="image")){m=setInterval(P.bind(this),500)}if(f.type==="image"){l=new i(f.start-t,f.end-t,"");l.image=f.data;l.id=f.id;l.size=0;l.type="image";l.layout=f.layout;l.scaleCue=A.bind(o);l.onenter=function(){if(!g){return}if(a.mode==="showing"){var e=new Image;e.id="ttmlImage_"+this.id;e.src=this.image;e.style.cssText="pointer-events: none; display: block; visibility: visible !important; position: relative !important;";g.appendChild(e);A.call(o,this)}};l.onexit=function(){if(!g){return}var e=g.childNodes;for(var t=0;t<e.length;t++){if(e[t].id==="ttmlImage_"+this.id){g.removeChild(e[t])}}}}else if(f.type==="html"){l=new i(f.start-t,f.end-t,"");l.cueHTMLElement=f.cueHTMLElement;l.regions=f.regions;l.regionID=f.regionID;l.cueID=f.cueID;l.videoWidth=f.videoWidth;l.videoHeight=f.videoHeight;l.cellResolution=f.cellResolution;l.fontSize=f.fontSize;l.lineHeight=f.lineHeight;l.linePadding=f.linePadding;l.scaleCue=M.bind(o);g.style.left=p+"px";g.style.top=h+"px";g.style.width=v+"px";g.style.height=y+"px";l.onenter=function(){if(a.mode==="showing"){r("Cue "+this.startTime+"-"+this.endTime+" : "+this.cueHTMLElement.id+" : "+this.cueHTMLElement.innerText);g.appendChild(this.cueHTMLElement);M.call(o,this)}};l.onexit=function(){var e=g.childNodes;for(var t=0;t<e.length;++t){if(e[t].id===this.cueID){g.removeChild(e[t])}}}}else{l=new i(f.start-t,f.end-t,f.data);if(f.styles){if(f.styles.align!==undefined&&"align"in l){l.align=f.styles.align}if(f.styles.line!==undefined&&"line"in l){l.line=f.styles.line}if(f.styles.position!==undefined&&"position"in l){l.position=f.styles.position}if(f.styles.size!==undefined&&"size"in l){l.size=f.styles.size}}}a.addCue(l)}}function R(){return d>=0?u.textTracks[d]:null}function D(){return d}function j(e){var t=-1;for(var r=0;r<u.textTracks.length;r++){if(u.textTracks[r].label===e){t=r;break}}return t}function L(e){d=e;q.call(this);if(e>=0){var t=u.textTracks[e];if(t.renderingType==="html"){H.call(this)}else{V.call(this)}}else{V.call(this)}}function N(e){return u.textTracks[e]}function F(e){if(e.cues){var t=e.cues;var r=t.length-1;for(var n=r;n>=0;n--){e.removeCue(t[n])}e.mode="disabled"}}function B(){var e=f.length;for(var t=0;t<e;t++){if(_){u.removeChild(f[t])}else{var r=N.call(this,t);r.nonAddedCues=[];F.call(this,r)}}f=[];l=[];if(m){clearInterval(m);m=null}q.call(this)}function U(e){u.removeChild(f[e]);f.splice(e,1)}function H(){if(!_){return}var e=document.getElementById("native-cue-style");if(e){return}e=document.createElement("style");e.id="native-cue-style";document.head.appendChild(e);var t=e.sheet;if(u.id){t.insertRule("#"+u.id+"::cue {background: transparent}",0)}else if(u.classList.length!==0){t.insertRule("."+u.className+"::cue {background: transparent}",0)}else{t.insertRule("video::cue {background: transparent}",0)}}function V(){if(!_){return}var e=document.getElementById("native-cue-style");if(e){document.head.removeChild(e)}}function q(){if(g){while(g.firstChild){g.removeChild(g.firstChild)}}}function G(e){if(!e){return}if(e.videoModel){o=e.videoModel}}n={initialize:w,displayCConTop:C,addTextTrack:O,addCaptions:I,getTextTrack:N,getCurrentTextTrack:R,getCurrentTrackIdx:D,setCurrentTrackIdx:L,getTrackIdxForId:j,deleteTrackCues:F,deleteAllTextTracks:B,deleteTextTrack:U,setConfig:G};return n}d.__dashjs_factory_name="TextTracks";t["default"]=l["default"].getSingletonFactory(d);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(293);var a=n(i);var o=r(0);var s=n(o);var u=r(103);var l=n(u);function f(){var e=undefined;var t=this.context;function r(e){if(!e)return null;if(e.fileStart===undefined){e.fileStart=0}var r=l["default"].parseBuffer(e);var n=(0,a["default"])(t).create();n.setData(r);return n}e={parse:r};return e}f.__dashjs_factory_name="BoxParser";t["default"]=s["default"].getSingletonFactory(f);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(10);var s=n(o);var u=r(4);var l=n(u);var f=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}];var c="dashjs_?_bitrate";var d="dashjs_?_settings";var p="localStorage";var h="sessionStorage";function v(){var e=this.context;var t=(0,l["default"])(e).getInstance().log;var r=undefined,n=undefined,i=undefined;function a(e){if(n!==undefined)return n;n=false;var r="1";var i="1";var a;try{if(typeof window!=="undefined"){a=window[e]}}catch(e){t("Warning: DOMStorage access denied: "+e.message);return n}if(!a||e!==p&&e!==h){return n}try{a.setItem(r,i);a.removeItem(r);n=true}catch(e){t("Warning: DOMStorage is supported, but cannot be used: "+e.message)}return n}function o(){if(a(p)){f.forEach(function(e){var r=localStorage.getItem(e.oldKey);if(r){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,r)}catch(e){t(e.message)}}})}}function u(){i=(0,s["default"])(e).getInstance();o()}function v(){var e=60*1e3*10;return Math.round((new Date).getTime()/e)*e}function y(e,t){return a(e)&&i["get"+t+"CachingInfo"]().enabled}function g(e){if(!y(p,"LastMediaSettings"))return null;var t=d.replace(/\?/,e);var r=JSON.parse(localStorage.getItem(t))||{};var n=(new Date).getTime()-parseInt(r.timestamp,10)>=i.getLastMediaSettingsCachingInfo().ttl||false;var a=r.settings;if(n){localStorage.removeItem(t);a=null}return a}function m(e){var r=NaN;if(y(p,"LastBitrate")){var n=c.replace(/\?/,e);var a=JSON.parse(localStorage.getItem(n))||{};var o=(new Date).getTime()-parseInt(a.timestamp,10)>=i.getLastBitrateCachingInfo().ttl||false;var s=parseInt(a.bitrate,10);if(!isNaN(s)&&!o){r=s;t("Last saved bitrate for "+e+" was "+s)}else if(o){localStorage.removeItem(n)}}return r}function _(e,r){if(y(p,"LastMediaSettings")){var n=d.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({settings:r,timestamp:v()}))}catch(e){t(e.message)}}}function b(e,r){if(y(p,"LastBitrate")&&r){var n=c.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({bitrate:r/1e3,timestamp:v()}))}catch(e){t(e.message)}}}r={getSavedBitrateSettings:m,setSavedBitrateSettings:b,getSavedMediaSettings:g,setSavedMediaSettings:_,isSupported:a};u();return r}v.__dashjs_factory_name="DOMStorage";var y=a["default"].getSingletonFactory(v);t["default"]=y;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e={};function t(t){var r=t.streamId;var n=t.representationId;e[r]=e[r]||{};e[r][n]=t}function r(t,r){if(e&&e[t]&&e[t][r]){return e[t][r]}else{return null}}function n(){e={}}var i={save:t,extract:r,reset:n};return i}o.__dashjs_factory_name="InitCache";t["default"]=a["default"].getSingletonFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e=undefined,t=undefined,r=undefined;function n(e,n){t=e;r=n}function i(){var e=r.getCurrentRepresentationInfo();var n=e.DVRWindow.end;if(e.useCalculatedLiveEdgeTime){n=t.getExpectedLiveEdge();t.setClientTimeOffset(n-e.DVRWindow.end)}return n}function a(){t=null;r=null}e={initialize:n,getLiveEdge:i,reset:a};return e}o.__dashjs_factory_name="LiveEdgeFinder";var s=a["default"].getSingletonFactory(o);t["default"]=s;e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=true;var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=r(65);var a=v(i);var o=r(1);var s=v(o);var u=r(5);var l=h(u);var f=r(8);var c=v(f);var d=r(7);var p=v(d);function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var _=function(e){m(t,e);function t(r,i){y(this,t);var a=i.track;var o=r.textTracks();i.label=a.label||a.language||"Unknown";i.selected=a["default"]||a.mode==="showing";var s=g(this,e.call(this,r,i));s.track=a;if(o){var u=l.bind(s,s.handleTracksChange);r.on(["loadstart","texttrackchange"],u);o.addEventListener("change",u);s.on("dispose",function(){o.removeEventListener("change",u)})}if(o&&o.onchange===undefined){var f=void 0;s.on(["tap","click"],function(){if(n(c["default"].Event)!=="object"){try{f=new c["default"].Event("change")}catch(e){}}if(!f){f=p["default"].createEvent("Event");f.initEvent("change",true,true)}o.dispatchEvent(f)})}return s}t.prototype.handleClick=function t(r){var n=this.track.kind;var i=this.player_.textTracks();e.prototype.handleClick.call(this,r);if(!i){return}for(var a=0;a<i.length;a++){var o=i[a];if(o.kind!==n){continue}if(o===this.track){if(o.mode!=="showing"){o.mode="showing"}}else if(o.mode!=="disabled"){o.mode="disabled"}}};t.prototype.handleTracksChange=function e(t){this.selected(this.track.mode==="showing")};return t}(a["default"]);s["default"].registerComponent("TextTrackMenuItem",_);t["default"]=_},function(e,t,r){"use strict";t.__esModule=true;var n=r(376);var i=E(n);var a=r(5);var o=T(a);var s=r(96);var u=r(12);var l=E(u);var f=r(8);var c=E(f);var d=r(98);var p=E(d);var h=r(66);var v=r(150);var y=E(v);var g=r(20);var m=E(g);var _=r(9);var b=T(_);function T(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function E(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function S(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function C(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var O=function e(t,r){var n=new c["default"].WebVTT.Parser(c["default"],c["default"].vttjs,c["default"].WebVTT.StringDecoder());var i=[];n.oncue=function(e){r.addCue(e)};n.onparsingerror=function(e){i.push(e)};n.onflush=function(){r.trigger({type:"loadeddata",target:r})};n.parse(t);if(i.length>0){if(c["default"].console&&c["default"].console.groupCollapsed){c["default"].console.groupCollapsed("Text Track parsing errors for "+r.src)}i.forEach(function(e){return l["default"].error(e)});if(c["default"].console&&c["default"].console.groupEnd){c["default"].console.groupEnd()}}n.flush()};var k=function e(t,r){var n={uri:t};var i=(0,h.isCrossOrigin)(t);if(i){n.cors=i}(0,y["default"])(n,o.bind(this,function(e,t,n){if(e){return l["default"].error(e,t)}r.loaded_=true;if(typeof c["default"].WebVTT!=="function"){if(r.tech_){var i=function e(){return O(n,r)};r.tech_.on("vttjsloaded",i);r.tech_.on("vttjserror",function(){l["default"].error("vttjs failed to load, stopping trying to process "+r.src);r.tech_.off("vttjsloaded",i)})}}else{O(n,r)}}))};var P=function(e){C(t,e);function t(){var r,n;var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};w(this,t);if(!a.tech){throw new Error("A tech was not provided.")}var u=(0,m["default"])(a,{kind:s.TextTrackKind[a.kind]||"subtitles",language:a.language||a.srclang||""});var l=s.TextTrackMode[u.mode]||"disabled";var f=u["default"];if(u.kind==="metadata"||u.kind==="chapters"){l="hidden"}var c=(r=S(this,e.call(this,u)),r);c.tech_=u.tech;if(b.IS_IE8){for(var d in t.prototype){if(d!=="constructor"){c[d]=t.prototype[d]}}}c.cues_=[];c.activeCues_=[];var p=new i["default"](c.cues_);var h=new i["default"](c.activeCues_);var v=false;var y=o.bind(c,function(){this.activeCues;if(v){this.trigger("cuechange");v=false}});if(l!=="disabled"){c.tech_.ready(function(){c.tech_.on("timeupdate",y)},true)}Object.defineProperty(c,"default",{get:function e(){return f},set:function e(){}});Object.defineProperty(c,"mode",{get:function e(){return l},set:function e(t){var r=this;if(!s.TextTrackMode[t]){return}l=t;if(l==="showing"){this.tech_.ready(function(){r.tech_.on("timeupdate",y)},true)}this.trigger("modechange")}});Object.defineProperty(c,"cues",{get:function e(){if(!this.loaded_){return null}return p},set:function e(){}});Object.defineProperty(c,"activeCues",{get:function e(){if(!this.loaded_){return null}if(this.cues.length===0){return h}var t=this.tech_.currentTime();var r=[];for(var n=0,i=this.cues.length;n<i;n++){var a=this.cues[n];if(a.startTime<=t&&a.endTime>=t){r.push(a)}else if(a.startTime===a.endTime&&a.startTime<=t&&a.startTime+.5>=t){r.push(a)}}v=false;if(r.length!==this.activeCues_.length){v=true}else{for(var o=0;o<r.length;o++){if(this.activeCues_.indexOf(r[o])===-1){v=true}}}this.activeCues_=r;h.setCues_(this.activeCues_);return h},set:function e(){}});if(u.src){c.src=u.src;k(u.src,c)}else{c.loaded_=true}return n=c,S(r,n)}t.prototype.addCue=function e(t){var r=t;if(c["default"].vttjs&&!(t instanceof c["default"].vttjs.VTTCue)){r=new c["default"].vttjs.VTTCue(t.startTime,t.endTime,t.text);for(var n in t){if(!(n in r)){r[n]=t[n]}}r.id=t.id;r.originalCue_=t}var i=this.tech_.textTracks();if(i){for(var a=0;a<i.length;a++){if(i[a]!==this){i[a].removeCue(r)}}}this.cues_.push(r);this.cues.setCues_(this.cues_)};t.prototype.removeCue=function e(t){var r=this.cues_.length;while(r--){var n=this.cues_[r];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(r,1);this.cues.setCues_(this.cues_);break}}};return t}(p["default"]);P.prototype.allowedEvents_={cuechange:"cuechange"};t["default"]=P},function(e,t,r){"use strict";t.__esModule=true;var n=t.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"};var i=t.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"};var a=t.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"};var o=t.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},function(e,t,r){"use strict";t.__esModule=true;var n=r(64);var i=f(n);var a=r(9);var o=l(a);var s=r(7);var u=f(s);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){p(t,e);function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var n;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;c(this,t);var a=d(this,e.call(this));if(!i){i=a;if(o.IS_IE8){i=u["default"].createElement("custom");for(var s in t.prototype){if(s!=="constructor"){i[s]=t.prototype[s]}}}}i.tracks_=[];Object.defineProperty(i,"length",{get:function e(){return this.tracks_.length}});for(var l=0;l<r.length;l++){i.addTrack_(r[l])}return n=i,d(a,n)}t.prototype.addTrack_=function e(t){var r=this.tracks_.length;if(!(""+r in this)){Object.defineProperty(this,r,{get:function e(){return this.tracks_[r]}})}if(this.tracks_.indexOf(t)===-1){this.tracks_.push(t);this.trigger({track:t,type:"addtrack"})}};t.prototype.removeTrack_=function e(t){var r=void 0;for(var n=0,i=this.length;n<i;n++){if(this[n]===t){r=this[n];if(r.off){r.off()}this.tracks_.splice(n,1);break}}if(!r){return}this.trigger({track:r,type:"removetrack"})};t.prototype.getTrackById=function e(t){var r=null;for(var n=0,i=this.length;n<i;n++){var a=this[n];if(a.id===t){r=a;break}}return r};return t}(i["default"]);h.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var v in h.prototype.allowedEvents_){h.prototype["on"+v]=null}t["default"]=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(9);var i=d(n);var a=r(7);var o=c(a);var s=r(37);var u=d(s);var l=r(64);var f=c(l);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var y=function(e){v(t,e);function t(){var r;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};p(this,t);var a=h(this,e.call(this));var s=a;if(i.IS_IE8){s=o["default"].createElement("custom");for(var l in t.prototype){if(l!=="constructor"){s[l]=t.prototype[l]}}}var f={id:n.id||"vjs_track_"+u.newGUID(),kind:n.kind||"",label:n.label||"",language:n.language||""};var c=function e(t){Object.defineProperty(s,t,{get:function e(){return f[t]},set:function e(){}})};for(var d in f){c(d)}return r=s,h(a,r)}return t}(f["default"]);t["default"]=y},function(e,t,r){"use strict";t.__esModule=true;t["default"]=o;var n=r(8);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e||!t){return""}if(typeof i["default"].getComputedStyle==="function"){var r=i["default"].getComputedStyle(e);return r?r[t]:""}return e.currentStyle[t]||""}},function(e,t,r){e.exports={default:r(167),__esModule:true}},function(e,t,r){e.exports={default:r(169),__esModule:true}},function(e,t,r){"use strict";var n=r(325);var i=r(321);function a(e){switch(e.arrayFormat){case"index":return function(t,r,n){return r===null?[s(t,e),"[",n,"]"].join(""):[s(t,e),"[",s(n,e),"]=",s(r,e)].join("")};case"bracket":return function(t,r){return r===null?s(t,e):[s(t,e),"[]=",s(r,e)].join("")};default:return function(t,r){return r===null?s(t,e):[s(t,e),"=",s(r,e)].join("")}}}function o(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e);e=e.replace(/\[\d*\]$/,"");if(!t){n[e]=r;return}if(n[e]===undefined){n[e]={}}n[e][t[1]]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e);e=e.replace(/\[\]$/,"");if(!t||n[e]===undefined){n[e]=[r];return}n[e]=[].concat(n[e],r)};default:return function(e,t,r){if(r[e]===undefined){r[e]=t;return}r[e]=[].concat(r[e],t)}}}function s(e,t){if(t.encode){return t.strict?n(e):encodeURIComponent(e)}return e}function u(e){if(Array.isArray(e)){return e.sort()}else if(typeof e==="object"){return u(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]})}return e}t.extract=function(e){return e.split("?")[1]||""};t.parse=function(e,t){t=i({arrayFormat:"none"},t);var r=o(t);var n=Object.create(null);if(typeof e!=="string"){return n}e=e.trim().replace(/^(\?|#|&)/,"");if(!e){return n}e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("=");var i=t.shift();var a=t.length>0?t.join("="):undefined;a=a===undefined?null:decodeURIComponent(a);r(decodeURIComponent(i),a,n)});return Object.keys(n).sort().reduce(function(e,t){var r=n[t];if(Boolean(r)&&typeof r==="object"&&!Array.isArray(r)){e[t]=u(r)}else{e[t]=r}return e},Object.create(null))};t.stringify=function(e,t){var r={encode:true,strict:true,arrayFormat:"none"};t=i(r,t);var n=a(t);return e?Object.keys(e).sort().map(function(r){var i=e[r];if(i===undefined){return""}if(i===null){return s(r,t)}if(Array.isArray(i)){var a=[];i.slice().forEach(function(e){if(e===undefined){return}a.push(n(r,e,a.length))});return a.join("&")}return s(r,t)+"="+s(i,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,r){/*! codem-isoboxer v0.3.4 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
var n={};n.parseBuffer=function(e){return new i(e).parse()};n.addBoxProcessor=function(e,t){if(typeof e!=="string"||typeof t!=="function"){return}a.prototype._boxProcessors[e]=t};n.createFile=function(){return new i};n.createBox=function(e,t,r){var n=a.create(e);if(t){t.append(n,r)}return n};n.createFullBox=function(e,t,r){var i=n.createBox(e,t,r);i.version=0;i.flags=0;return i};n.Utils={};n.Utils.dataViewToString=function(e,t){var r=t||"utf-8";if(typeof TextDecoder!=="undefined"){return new TextDecoder(r).decode(e)}var n=[];var i=0;if(r==="utf-8"){while(i<e.byteLength){var a=e.getUint8(i++);if(a<128){}else if(a<224){a=(a&31)<<6;a|=e.getUint8(i++)&63}else if(a<240){a=(a&15)<<12;a|=(e.getUint8(i++)&63)<<6;a|=e.getUint8(i++)&63}else{a=(a&7)<<18;a|=(e.getUint8(i++)&63)<<12;a|=(e.getUint8(i++)&63)<<6;a|=e.getUint8(i++)&63}n.push(String.fromCharCode(a))}}else{while(i<e.byteLength){n.push(String.fromCharCode(e.getUint8(i++)))}}return n.join("")};n.Utils.utf8ToByteArray=function(e){var t,r;if(typeof TextEncoder!=="undefined"){t=(new TextEncoder).encode(e)}else{t=[];for(r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<128){t.push(n)}else if(n<2048){t.push(192|n>>6);t.push(128|63&n)}else if(n<65536){t.push(224|n>>12);t.push(128|63&n>>6);t.push(128|63&n)}else{t.push(240|n>>18);t.push(128|63&n>>12);t.push(128|63&n>>6);t.push(128|63&n)}}}return t};n.Utils.appendBox=function(e,t,r){t._offset=e._cursor.offset;t._root=e._root?e._root:e;t._raw=e._raw;t._parent=e;if(r===-1){return}if(r===undefined||r===null){e.boxes.push(t);return}var n=-1,i;if(typeof r==="number"){n=r}else{if(typeof r==="string"){i=r}else if(typeof r==="object"&&r.type){i=r.type}else{e.boxes.push(t);return}for(var a=0;a<e.boxes.length;a++){if(i===e.boxes[a].type){n=a+1;break}}}e.boxes.splice(n,0,t)};if(true){t.parseBuffer=n.parseBuffer;t.addBoxProcessor=n.addBoxProcessor;t.createFile=n.createFile;t.createBox=n.createBox;t.createFullBox=n.createFullBox;t.Utils=n.Utils}n.Cursor=function(e){this.offset=typeof e=="undefined"?0:e};var i=function(e){this._cursor=new n.Cursor;this.boxes=[];if(e){this._raw=new DataView(e)}};i.prototype.fetch=function(e){var t=this.fetchAll(e,true);return t.length?t[0]:null};i.prototype.fetchAll=function(e,t){var r=[];i._sweep.call(this,e,r,t);return r};i.prototype.parse=function(){this._cursor.offset=0;this.boxes=[];while(this._cursor.offset<this._raw.byteLength){var e=a.parse(this);if(typeof e.type==="undefined")break;this.boxes.push(e)}return this};i._sweep=function(e,t,r){if(this.type&&this.type==e)t.push(this);for(var n in this.boxes){if(t.length&&r)return;i._sweep.call(this.boxes[n],e,t,r)}};i.prototype.write=function(){var e=0,t;for(t=0;t<this.boxes.length;t++){e+=this.boxes[t].getLength(false)}var r=new Uint8Array(e);this._rawo=new DataView(r.buffer);this.bytes=r;this._cursor.offset=0;for(t=0;t<this.boxes.length;t++){this.boxes[t].write()}return r.buffer};i.prototype.append=function(e,t){n.Utils.appendBox(this,e,t)};var a=function(){this._cursor=new n.Cursor};a.parse=function(e){var t=new a;t._offset=e._cursor.offset;t._root=e._root?e._root:e;t._raw=e._raw;t._parent=e;t._parseBox();e._cursor.offset=t._raw.byteOffset+t._raw.byteLength;return t};a.create=function(e){var t=new a;t.type=e;t.boxes=[];return t};a.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"];a.prototype._boxProcessors={};a.prototype._procField=function(e,t,r){if(this._parsing){this[e]=this._readField(t,r)}else{this._writeField(t,r,this[e])}};a.prototype._procFieldArray=function(e,t,r,n){var i;if(this._parsing){this[e]=[];for(i=0;i<t;i++){this[e][i]=this._readField(r,n)}}else{for(i=0;i<this[e].length;i++){this._writeField(r,n,this[e][i])}}};a.prototype._procFullBox=function(){this._procField("version","uint",8);this._procField("flags","uint",24)};a.prototype._procEntries=function(e,t,r){var n;if(this._parsing){this[e]=[];for(n=0;n<t;n++){this[e].push({});r.call(this,this[e][n])}}else{for(n=0;n<t;n++){r.call(this,this[e][n])}}};a.prototype._procSubEntries=function(e,t,r,n){var i;if(this._parsing){e[t]=[];for(i=0;i<r;i++){e[t].push({});n.call(this,e[t][i])}}else{for(i=0;i<r;i++){n.call(this,e[t][i])}}};a.prototype._procEntryField=function(e,t,r,n){if(this._parsing){e[t]=this._readField(r,n)}else{this._writeField(r,n,e[t])}};a.prototype._procSubBoxes=function(e,t){var r;if(this._parsing){this[e]=[];for(r=0;r<t;r++){this[e].push(a.parse(this))}}else{for(r=0;r<t;r++){if(this._rawo){this[e][r].write()}else{this.size+=this[e][r].getLength()}}}};a.prototype._readField=function(e,t){switch(e){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return t===-1?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();default:return-1}};a.prototype._readInt=function(e){var t=null,r=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:t=this._raw.getInt8(r);break;case 16:t=this._raw.getInt16(r);break;case 32:t=this._raw.getInt32(r);break;case 64:var n=this._raw.getInt32(r);var i=this._raw.getInt32(r+4);t=n*Math.pow(2,32)+i;break}this._cursor.offset+=e>>3;return t};a.prototype._readUint=function(e){var t=null,r=this._cursor.offset-this._raw.byteOffset,n,i;switch(e){case 8:t=this._raw.getUint8(r);break;case 16:t=this._raw.getUint16(r);break;case 24:n=this._raw.getUint16(r);i=this._raw.getUint8(r+2);t=(n<<8)+i;break;case 32:t=this._raw.getUint32(r);break;case 64:n=this._raw.getUint32(r);i=this._raw.getUint32(r+4);t=n*Math.pow(2,32)+i;break}this._cursor.offset+=e>>3;return t};a.prototype._readString=function(e){var t="";for(var r=0;r<e;r++){var n=this._readUint(8);t+=String.fromCharCode(n)}return t};a.prototype._readTemplate=function(e){var t=this._readUint(e/2);var r=this._readUint(e/2);return t+r/Math.pow(2,e/2)};a.prototype._readTerminatedString=function(){var e="";while(this._cursor.offset-this._offset<this._raw.byteLength){var t=this._readUint(8);if(t===0)break;e+=String.fromCharCode(t)}return e};a.prototype._readData=function(e){var t=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset);var r=new DataView(this._raw.buffer,this._cursor.offset,t);this._cursor.offset+=t;return r};a.prototype._readUTF8String=function(){var e=this._readData();return n.Utils.dataViewToString(e)};a.prototype._parseBox=function(){this._parsing=true;this._cursor.offset=this._offset;if(this._offset+8>this._raw.buffer.byteLength){this._root._incomplete=true;return}this._procField("size","uint",32);this._procField("type","string",4);if(this.size===1){this._procField("largesize","uint",64)}if(this.type==="uuid"){this._procFieldArray("usertype",16,"uint",8)}switch(this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:if(this._offset+this.size>this._raw.buffer.byteLength){this._incomplete=true;this._root._incomplete=true}else{this._raw=new DataView(this._raw.buffer,this._offset,this.largesize)}break;default:if(this._offset+this.size>this._raw.buffer.byteLength){this._incomplete=true;this._root._incomplete=true}else{this._raw=new DataView(this._raw.buffer,this._offset,this.size)}}if(!this._incomplete){if(this._boxProcessors[this.type]){this._boxProcessors[this.type].call(this)}if(this._boxContainers.indexOf(this.type)!==-1){this._parseContainerBox()}else{this._data=this._readData()}}};a.prototype._parseFullBox=function(){this.version=this._readUint(8);this.flags=this._readUint(24)};a.prototype._parseContainerBox=function(){this.boxes=[];while(this._cursor.offset-this._raw.byteOffset<this._raw.byteLength){this.boxes.push(a.parse(this))}};a.prototype.append=function(e,t){n.Utils.appendBox(this,e,t)};a.prototype.getLength=function(){this._parsing=false;this._rawo=null;this.size=0;this._procField("size","uint",32);this._procField("type","string",4);if(this.size===1){this._procField("largesize","uint",64)}if(this.type==="uuid"){this._procFieldArray("usertype",16,"uint",8)}if(this._boxProcessors[this.type]){this._boxProcessors[this.type].call(this)}if(this._boxContainers.indexOf(this.type)!==-1){for(var e=0;e<this.boxes.length;e++){this.size+=this.boxes[e].getLength()}}if(this._data){this._writeData(this._data)}return this.size};a.prototype.write=function(){this._parsing=false;this._cursor.offset=this._parent._cursor.offset;switch(this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}this._procField("size","uint",32);this._procField("type","string",4);if(this.size===1){this._procField("largesize","uint",64)}if(this.type==="uuid"){this._procFieldArray("usertype",16,"uint",8)}if(this._boxProcessors[this.type]){this._boxProcessors[this.type].call(this)}if(this._boxContainers.indexOf(this.type)!==-1){for(var e=0;e<this.boxes.length;e++){this.boxes[e].write()}}if(this._data){this._writeData(this._data)}this._parent._cursor.offset+=this.size;return this.size};a.prototype._writeInt=function(e,t){if(this._rawo){var r=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(r,t);break;case 16:this._rawo.setInt16(r,t);break;case 32:this._rawo.setInt32(r,t);break;case 64:var n=Math.floor(t/Math.pow(2,32));var i=t-n*Math.pow(2,32);this._rawo.setUint32(r,n);this._rawo.setUint32(r+4,i);break}this._cursor.offset+=e>>3}else{this.size+=e>>3}};a.prototype._writeUint=function(e,t){if(this._rawo){var r=this._cursor.offset-this._rawo.byteOffset,n,i;switch(e){case 8:this._rawo.setUint8(r,t);break;case 16:this._rawo.setUint16(r,t);break;case 24:n=(t&16776960)>>8;i=t&255;this._rawo.setUint16(r,n);this._rawo.setUint8(r+2,i);break;case 32:this._rawo.setUint32(r,t);break;case 64:n=Math.floor(t/Math.pow(2,32));i=t-n*Math.pow(2,32);this._rawo.setUint32(r,n);this._rawo.setUint32(r+4,i);break}this._cursor.offset+=e>>3}else{this.size+=e>>3}};a.prototype._writeString=function(e,t){for(var r=0;r<e;r++){this._writeUint(8,t.charCodeAt(r))}};a.prototype._writeTerminatedString=function(e){if(e.length===0){return}for(var t=0;t<e.length;t++){this._writeUint(8,e.charCodeAt(t))}this._writeUint(8,0)};a.prototype._writeTemplate=function(e,t){var r=Math.floor(t);var n=(t-r)*Math.pow(2,e/2);this._writeUint(e/2,r);this._writeUint(e/2,n)};a.prototype._writeData=function(e){var t;if(e instanceof Array){if(!Uint8Array.from){var r=new Uint8Array(e.length);for(t=0;t<e.length;t++){r[t]=e[t]}e=new DataView(r.buffer)}else{e=new DataView(Uint8Array.from(e).buffer)}}if(e instanceof Uint8Array){e=new DataView(e.buffer)}if(this._rawo){var n=this._cursor.offset-this._rawo.byteOffset;for(t=0;t<e.byteLength;t++){this._rawo.setUint8(n+t,e.getUint8(t))}this._cursor.offset+=e.byteLength}else{this.size+=e.byteLength}};a.prototype._writeUTF8String=function(e){var t=n.Utils.utf8ToByteArray(e);if(this._rawo){var r=new DataView(this._rawo.buffer,this._cursor.offset,t.length);for(var i=0;i<t.length;i++){r.setUint8(i,t[i])}}else{this.size+=t.length}};a.prototype._writeField=function(e,t,r){switch(e){case"uint":this._writeUint(t,r);break;case"int":this._writeInt(t,r);break;case"template":this._writeTemplate(t,r);break;case"string":if(t==-1){this._writeTerminatedString(r)}else{this._writeString(t,r)}break;case"data":this._writeData(r);break;case"utf8":this._writeUTF8String(r);break;default:break}};a.prototype._boxProcessors["avc1"]=a.prototype._boxProcessors["encv"]=function(){this._procFieldArray("reserved1",6,"uint",8);this._procField("data_reference_index","uint",16);this._procField("pre_defined1","uint",16);this._procField("reserved2","uint",16);this._procFieldArray("pre_defined2",3,"uint",32);this._procField("width","uint",16);this._procField("height","uint",16);this._procField("horizresolution","template",32);this._procField("vertresolution","template",32);this._procField("reserved3","uint",32);this._procField("frame_count","uint",16);this._procFieldArray("compressorname",32,"uint",8);this._procField("depth","uint",16);this._procField("pre_defined3","int",16);this._procField("config","data",-1)};a.prototype._boxProcessors["dref"]=function(){this._procFullBox();this._procField("entry_count","uint",32);this._procSubBoxes("entries",this.entry_count)};a.prototype._boxProcessors["elst"]=function(){this._procFullBox();this._procField("entry_count","uint",32);this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"segment_duration","uint",this.version===1?64:32);this._procEntryField(e,"media_time","int",this.version===1?64:32);this._procEntryField(e,"media_rate_integer","int",16);this._procEntryField(e,"media_rate_fraction","int",16)})};a.prototype._boxProcessors["emsg"]=function(){this._procFullBox();this._procField("scheme_id_uri","string",-1);this._procField("value","string",-1);this._procField("timescale","uint",32);this._procField("presentation_time_delta","uint",32);this._procField("event_duration","uint",32);this._procField("id","uint",32);this._procField("message_data","data",-1)};a.prototype._boxProcessors["free"]=a.prototype._boxProcessors["skip"]=function(){this._procField("data","data",-1)};a.prototype._boxProcessors["frma"]=function(){this._procField("data_format","uint",32)};a.prototype._boxProcessors["ftyp"]=a.prototype._boxProcessors["styp"]=function(){this._procField("major_brand","string",4);this._procField("minor_version","uint",32);var e=-1;if(this._parsing){e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4}this._procFieldArray("compatible_brands",e,"string",4)};a.prototype._boxProcessors["hdlr"]=function(){this._procFullBox();this._procField("pre_defined","uint",32);this._procField("handler_type","string",4);this._procFieldArray("reserved",3,"uint",32);this._procField("name","string",-1)};a.prototype._boxProcessors["mdat"]=function(){this._procField("data","data",-1)};a.prototype._boxProcessors["mdhd"]=function(){this._procFullBox();this._procField("creation_time","uint",this.version==1?64:32);this._procField("modification_time","uint",this.version==1?64:32);this._procField("timescale","uint",32);this._procField("duration","uint",this.version==1?64:32);if(!this._parsing&&typeof this.language==="string"){this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96}this._procField("language","uint",16);if(this._parsing){this.language=String.fromCharCode((this.language>>10&31)+96,(this.language>>5&31)+96,(this.language&31)+96)}this._procField("pre_defined","uint",16)};a.prototype._boxProcessors["mehd"]=function(){this._procFullBox();this._procField("fragment_duration","uint",this.version==1?64:32)};a.prototype._boxProcessors["mfhd"]=function(){this._procFullBox();this._procField("sequence_number","uint",32)};a.prototype._boxProcessors["mfro"]=function(){this._procFullBox();this._procField("mfra_size","uint",32)};a.prototype._boxProcessors["mp4a"]=a.prototype._boxProcessors["enca"]=function(){this._procFieldArray("reserved1",6,"uint",8);this._procField("data_reference_index","uint",16);this._procFieldArray("reserved2",2,"uint",32);this._procField("channelcount","uint",16);this._procField("samplesize","uint",16);this._procField("pre_defined","uint",16);this._procField("reserved3","uint",16);this._procField("samplerate","template",32);this._procField("esds","data",-1)};a.prototype._boxProcessors["mvhd"]=function(){this._procFullBox();this._procField("creation_time","uint",this.version==1?64:32);this._procField("modification_time","uint",this.version==1?64:32);this._procField("timescale","uint",32);this._procField("duration","uint",this.version==1?64:32);this._procField("rate","template",32);this._procField("volume","template",16);this._procField("reserved1","uint",16);this._procFieldArray("reserved2",2,"uint",32);this._procFieldArray("matrix",9,"template",32);this._procFieldArray("pre_defined",6,"uint",32);this._procField("next_track_ID","uint",32)};a.prototype._boxProcessors["payl"]=function(){this._procField("cue_text","utf8")};a.prototype._boxProcessors["pssh"]=function(){this._procFullBox();this._procFieldArray("SystemID",16,"uint",8);this._procField("DataSize","uint",32);this._procFieldArray("Data",this.DataSize,"uint",8)};a.prototype._boxProcessors["schm"]=function(){this._procFullBox();this._procField("scheme_type","uint",32);this._procField("scheme_version","uint",32);if(this.flags&1){this._procField("scheme_uri","string",-1)}};a.prototype._boxProcessors["sdtp"]=function(){this._procFullBox();var e=-1;if(this._parsing){e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)}this._procFieldArray("sample_dependency_table",e,"uint",8)};a.prototype._boxProcessors["sidx"]=function(){this._procFullBox();this._procField("reference_ID","uint",32);this._procField("timescale","uint",32);this._procField("earliest_presentation_time","uint",this.version==1?64:32);this._procField("first_offset","uint",this.version==1?64:32);this._procField("reserved","uint",16);this._procField("reference_count","uint",16);this._procEntries("references",this.reference_count,function(e){if(!this._parsing){e.reference=(e.reference_type&1)<<31;e.reference|=e.referenced_size&2147483647;e.sap=(e.starts_with_SAP&1)<<31;e.sap|=(e.SAP_type&3)<<28;e.sap|=e.SAP_delta_time&268435455}this._procEntryField(e,"reference","uint",32);this._procEntryField(e,"subsegment_duration","uint",32);this._procEntryField(e,"sap","uint",32);if(this._parsing){e.reference_type=e.reference>>31&1;e.referenced_size=e.reference&2147483647;e.starts_with_SAP=e.sap>>31&1;e.SAP_type=e.sap>>28&7;e.SAP_delta_time=e.sap&268435455}})};a.prototype._boxProcessors["smhd"]=function(){this._procFullBox();this._procField("balance","uint",16);this._procField("reserved","uint",16)};a.prototype._boxProcessors["ssix"]=function(){this._procFullBox();this._procField("subsegment_count","uint",32);this._procEntries("subsegments",this.subsegment_count,function(e){this._procEntryField(e,"ranges_count","uint",32);this._procSubEntries(e,"ranges",e.ranges_count,function(e){this._procEntryField(e,"level","uint",8);this._procEntryField(e,"range_size","uint",24)})})};a.prototype._boxProcessors["stsd"]=function(){this._procFullBox();this._procField("entry_count","uint",32);this._procSubBoxes("entries",this.entry_count)};a.prototype._boxProcessors["subs"]=function(){this._procFullBox();this._procField("entry_count","uint",32);this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"sample_delta","uint",32);this._procEntryField(e,"subsample_count","uint",16);this._procSubEntries(e,"subsamples",e.subsample_count,function(e){this._procEntryField(e,"subsample_size","uint",this.version===1?32:16);this._procEntryField(e,"subsample_priority","uint",8);this._procEntryField(e,"discardable","uint",8);this._procEntryField(e,"codec_specific_parameters","uint",32)})})};a.prototype._boxProcessors["tenc"]=function(){this._procFullBox();this._procField("default_IsEncrypted","uint",24);this._procField("default_IV_size","uint",8);this._procFieldArray("default_KID",16,"uint",8)};a.prototype._boxProcessors["tfdt"]=function(){this._procFullBox();this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)};a.prototype._boxProcessors["tfhd"]=function(){this._procFullBox();this._procField("track_ID","uint",32);if(this.flags&1)this._procField("base_data_offset","uint",64);if(this.flags&2)this._procField("sample_description_offset","uint",32);if(this.flags&8)this._procField("default_sample_duration","uint",32);if(this.flags&16)this._procField("default_sample_size","uint",32);if(this.flags&32)this._procField("default_sample_flags","uint",32)};a.prototype._boxProcessors["tfra"]=function(){this._procFullBox();this._procField("track_ID","uint",32);if(!this._parsing){this.reserved=0;this.reserved|=(this.length_size_of_traf_num&48)<<4;this.reserved|=(this.length_size_of_trun_num&12)<<2;this.reserved|=this.length_size_of_sample_num&3}this._procField("reserved","uint",32);if(this._parsing){this.length_size_of_traf_num=(this.reserved&48)>>4;this.length_size_of_trun_num=(this.reserved&12)>>2;this.length_size_of_sample_num=this.reserved&3}this._procField("number_of_entry","uint",32);this._procEntries("entries",this.number_of_entry,function(e){this._procEntryField(e,"time","uint",this.version===1?64:32);this._procEntryField(e,"moof_offset","uint",this.version===1?64:32);this._procEntryField(e,"traf_number","uint",(this.length_size_of_traf_num+1)*8);this._procEntryField(e,"trun_number","uint",(this.length_size_of_trun_num+1)*8);this._procEntryField(e,"sample_number","uint",(this.length_size_of_sample_num+1)*8)})};a.prototype._boxProcessors["tkhd"]=function(){this._procFullBox();this._procField("creation_time","uint",this.version==1?64:32);this._procField("modification_time","uint",this.version==1?64:32);this._procField("track_ID","uint",32);this._procField("reserved1","uint",32);this._procField("duration","uint",this.version==1?64:32);this._procFieldArray("reserved2",2,"uint",32);this._procField("layer","uint",16);this._procField("alternate_group","uint",16);this._procField("volume","template",16);this._procField("reserved3","uint",16);this._procFieldArray("matrix",9,"template",32);this._procField("width","template",32);this._procField("height","template",32)};a.prototype._boxProcessors["trex"]=function(){this._procFullBox();this._procField("track_ID","uint",32);this._procField("default_sample_description_index","uint",32);this._procField("default_sample_duration","uint",32);this._procField("default_sample_size","uint",32);this._procField("default_sample_flags","uint",32)};a.prototype._boxProcessors["trun"]=function(){this._procFullBox();this._procField("sample_count","uint",32);if(this.flags&1)this._procField("data_offset","int",32);if(this.flags&4)this._procField("first_sample_flags","uint",32);this._procEntries("samples",this.sample_count,function(e){if(this.flags&256)this._procEntryField(e,"sample_duration","uint",32);if(this.flags&512)this._procEntryField(e,"sample_size","uint",32);if(this.flags&1024)this._procEntryField(e,"sample_flags","uint",32);if(this.flags&2048)this._procEntryField(e,"sample_composition_time_offset",this.version===1?"int":"uint",32)})};a.prototype._boxProcessors["url "]=a.prototype._boxProcessors["urn "]=function(){this._procFullBox();if(this.type==="urn "){this._procField("name","string",-1)}this._procField("location","string",-1)};a.prototype._boxProcessors["vlab"]=function(){this._procField("source_label","utf8")};a.prototype._boxProcessors["vmhd"]=function(){this._procFullBox();this._procField("graphicsmode","uint",16);this._procFieldArray("opcolor",3,"uint",16)};a.prototype._boxProcessors["vttC"]=function(){this._procField("config","utf8")};a.prototype._boxProcessors["vtte"]=function(){}},function(e,t,r){var n=r(50),i=r(14)("toStringTag"),a=n(function(){return arguments}())=="Arguments";var o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,s;return e===undefined?"Undefined":e===null?"Null":typeof(r=o(t=Object(e),i))=="string"?r:a?n(t):(s=n(t))=="Object"&&typeof t.callee=="function"?"Arguments":s}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t,r){e.exports=r(15).document&&document.documentElement},function(e,t,r){"use strict";var n=r(109),i=r(71),a=r(189),o=r(33),s=r(52),u=r(39),l=r(179),f=r(72),c=r(185),d=r(14)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",y="values";var g=function(){return this};e.exports=function(e,t,r,m,_,b,T){l(r,t,m);var E=function(e){if(!p&&e in O)return O[e];switch(e){case v:return function t(){return new r(this,e)};case y:return function t(){return new r(this,e)}}return function t(){return new r(this,e)}};var w=t+" Iterator",S=_==y,C=false,O=e.prototype,k=O[d]||O[h]||_&&O[_],P=k||E(_),x=_?!S?P:E("entries"):undefined,A=t=="Array"?O.entries||k:k,M,I,R;if(A){R=c(A.call(new e));if(R!==Object.prototype){f(R,w,true);if(!n&&!s(R,d))o(R,d,g)}}if(S&&k&&k.name!==y){C=true;P=function e(){return k.call(this)}}if((!n||T)&&(p||C||!O[d])){o(O,d,P)}u[t]=P;u[w]=g;if(_){M={values:S?P:E(y),keys:b?P:E(v),entries:x};if(T)for(I in M){if(!(I in O))a(O,I,M[I])}else i(i.P+i.F*(p||C),t,M)}return M}},function(e,t){e.exports=true},function(e,t){e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},function(e,t,r){var n=r(15),i="__core-js_shared__",a=n[i]||(n[i]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t,r){var n=r(51),i=r(175),a=r(107),o=r(70),s=r(15),u=s.process,l=s.setImmediate,f=s.clearImmediate,c=s.MessageChannel,d=0,p={},h="onreadystatechange",v,y,g;var m=function(){var e=+this;if(p.hasOwnProperty(e)){var t=p[e];delete p[e];t()}};var _=function(e){m.call(e.data)};if(!l||!f){l=function e(t){var r=[],n=1;while(arguments.length>n)r.push(arguments[n++]);p[++d]=function(){i(typeof t=="function"?t:Function(t),r)};v(d);return d};f=function e(t){delete p[t]};if(r(50)(u)=="process"){v=function(e){u.nextTick(n(m,e,1))}}else if(c){y=new c;g=y.port2;y.port1.onmessage=_;v=n(g.postMessage,g,1)}else if(s.addEventListener&&typeof postMessage=="function"&&!s.importScripts){v=function(e){s.postMessage(e+"","*")};s.addEventListener("message",_,false)}else if(h in o("script")){v=function(e){a.appendChild(o("script"))[h]=function(){a.removeChild(this);m.call(e)}}}else{v=function(e){setTimeout(n(m,e,1),0)}}}e.exports={set:l,clear:f}},function(e,t,r){var n=r(74),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++r+n).toString(36))}},function(e,t,r){"use strict";(function(e){"use strict";var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499};var r=function e(r){var n=r;if(t.hasOwnProperty(r)){n=t[r]}return String.fromCharCode(n)};var n=15,i=32;var a={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14};var o={17:2,18:4,21:6,22:8,23:10,19:13,20:15};var s={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14};var u={25:2,26:4,29:6,30:8,31:10,27:13,28:15};var l=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];var f={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function e(t){this.time=t},log:function e(t,r){var n=this.verboseFilter[t];if(this.verboseLevel>=n){console.log(this.time+" ["+t+"] "+r)}}};var c=function e(t){var r=[];for(var n=0;n<t.length;n++){r.push(t[n].toString(16))}return r};var d=function e(t,r,n,i,a){this.foreground=t||"white";this.underline=r||false;this.italics=n||false;this.background=i||"black";this.flash=a||false};d.prototype={reset:function e(){this.foreground="white";this.underline=false;this.italics=false;this.background="black";this.flash=false},setStyles:function e(t){var r=["foreground","underline","italics","background","flash"];for(var n=0;n<r.length;n++){var i=r[n];if(t.hasOwnProperty(i)){this[i]=t[i]}}},isDefault:function e(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},equals:function e(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},copy:function e(t){this.foreground=t.foreground;this.underline=t.underline;this.italics=t.italics;this.background=t.background;this.flash=t.flash},toString:function e(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var p=function e(t,r,n,i,a,o){this.uchar=t||" ";this.penState=new d(r,n,i,a,o)};p.prototype={reset:function e(){this.uchar=" ";this.penState.reset()},setChar:function e(t,r){this.uchar=t;this.penState.copy(r)},setPenState:function e(t){this.penState.copy(t)},equals:function e(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},copy:function e(t){this.uchar=t.uchar;this.penState.copy(t.penState)},isEmpty:function e(){return this.uchar===" "&&this.penState.isDefault()}};var h=function e(){this.chars=[];for(var t=0;t<i;t++){this.chars.push(new p)}this.pos=0;this.currPenState=new d};h.prototype={equals:function e(t){var r=true;for(var n=0;n<i;n++){if(!this.chars[n].equals(t.chars[n])){r=false;break}}return r},copy:function e(t){for(var r=0;r<i;r++){this.chars[r].copy(t.chars[r])}},isEmpty:function e(){var t=true;for(var r=0;r<i;r++){if(!this.chars[r].isEmpty()){t=false;break}}return t},setCursor:function e(t){if(this.pos!==t){this.pos=t}if(this.pos<0){f.log("ERROR","Negative cursor position "+this.pos);this.pos=0}else if(this.pos>i){f.log("ERROR","Too large cursor position "+this.pos);this.pos=i}},moveCursor:function e(t){var r=this.pos+t;if(t>1){for(var n=this.pos+1;n<r+1;n++){this.chars[n].setPenState(this.currPenState)}}this.setCursor(r)},backSpace:function e(){this.moveCursor(-1);this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function e(t){if(t>=144){this.backSpace()}var n=r(t);if(this.pos>=i){f.log("ERROR","Cannot insert "+t.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState);this.moveCursor(1)},clearFromPos:function e(t){var r;for(r=t;r<i;r++){this.chars[r].reset()}},clear:function e(){this.clearFromPos(0);this.pos=0;this.currPenState.reset()},clearToEndOfRow:function e(){this.clearFromPos(this.pos)},getTextString:function e(){var t=[];var r=true;for(var n=0;n<i;n++){var a=this.chars[n].uchar;if(a!==" "){r=false}t.push(a)}if(r){return""}else{return t.join("")}},setPenStyles:function e(t){this.currPenState.setStyles(t);var r=this.chars[this.pos];r.setPenState(this.currPenState)}};var v=function e(){this.rows=[];for(var t=0;t<n;t++){this.rows.push(new h)}this.currRow=n-1;this.nrRollUpRows=null;this.reset()};v.prototype={reset:function e(){for(var t=0;t<n;t++){this.rows[t].clear()}this.currRow=n-1},equals:function e(t){var r=true;for(var i=0;i<n;i++){if(!this.rows[i].equals(t.rows[i])){r=false;break}}return r},copy:function e(t){for(var r=0;r<n;r++){this.rows[r].copy(t.rows[r])}},isEmpty:function e(){var t=true;for(var r=0;r<n;r++){if(!this.rows[r].isEmpty()){t=false;break}}return t},backSpace:function e(){var t=this.rows[this.currRow];t.backSpace()},clearToEndOfRow:function e(){var t=this.rows[this.currRow];t.clearToEndOfRow()},insertChar:function e(t){var r=this.rows[this.currRow];r.insertChar(t)},setPen:function e(t){var r=this.rows[this.currRow];r.setPenStyles(t)},moveCursor:function e(t){var r=this.rows[this.currRow];r.moveCursor(t)},setCursor:function e(t){f.log("INFO","setCursor: "+t);var r=this.rows[this.currRow];r.setCursor(t)},setPAC:function e(t){f.log("INFO","pacData = "+JSON.stringify(t));var r=t.row-1;if(this.nrRollUpRows&&r<this.nrRollUpRows-1){r=this.nrRollUpRows-1}this.currRow=r;var n=this.rows[this.currRow];if(t.indent!==null){var i=t.indent;var a=Math.max(i-1,0);n.setCursor(t.indent);t.color=n.chars[a].penState.foreground}var o={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:false};this.setPen(o)},setBkgData:function e(t){f.log("INFO","bkgData = "+JSON.stringify(t));this.backSpace();this.setPen(t);this.insertChar(32)},setRollUpRows:function e(t){this.nrRollUpRows=t},rollUp:function e(){if(this.nrRollUpRows===null){f.log("DEBUG","roll_up but nrRollUpRows not set yet");return}f.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows;var r=this.rows.splice(t,1)[0];r.clear();this.rows.splice(this.currRow,0,r);f.log("INFO","Rolling up")},getDisplayText:function e(t){t=t||false;var r=[];var i="";var a=-1;for(var o=0;o<n;o++){var s=this.rows[o].getTextString();if(s){a=o+1;if(t){r.push("Row "+a+': "'+s+'"')}else{r.push(s.trim())}}}if(r.length>0){if(t){i="["+r.join(" | ")+"]"}else{i=r.join("\n")}}return i},getTextAndFormat:function e(){return this.rows}};var y=function e(t,r){this.chNr=t;this.outputFilter=r;this.mode=null;this.verbose=0;this.displayedMemory=new v;this.nonDisplayedMemory=new v;this.lastOutputScreen=new v;this.currRollUpRow=this.displayedMemory.rows[n-1];this.writeScreen=this.displayedMemory;this.mode=null;this.cueStartTime=null};y.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function e(){this.mode=null;this.displayedMemory.reset();this.nonDisplayedMemory.reset();this.lastOutputScreen.reset();this.currRollUpRow=this.displayedMemory.rows[n-1];this.writeScreen=this.displayedMemory;this.mode=null;this.cueStartTime=null;this.lastCueEndTime=null},getHandler:function e(){return this.outputFilter},setHandler:function e(t){this.outputFilter=t},setPAC:function e(t){this.writeScreen.setPAC(t)},setBkgData:function e(t){this.writeScreen.setBkgData(t)},setMode:function e(t){if(t===this.mode){return}this.mode=t;f.log("INFO","MODE="+t);if(this.mode=="MODE_POP-ON"){this.writeScreen=this.nonDisplayedMemory}else{this.writeScreen=this.displayedMemory;this.writeScreen.reset()}if(this.mode!=="MODE_ROLL-UP"){this.displayedMemory.nrRollUpRows=null;this.nonDisplayedMemory.nrRollUpRows=null}this.mode=t},insertChars:function e(t){for(var r=0;r<t.length;r++){this.writeScreen.insertChar(t[r])}var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";f.log("INFO",n+": "+this.writeScreen.getDisplayText(true));if(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP"){f.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(true));this.outputDataUpdate()}},cc_RCL:function e(){f.log("INFO","RCL - Resume Caption Loading");this.setMode("MODE_POP-ON")},cc_BS:function e(){f.log("INFO","BS - BackSpace");if(this.mode==="MODE_TEXT"){return}this.writeScreen.backSpace();if(this.writeScreen===this.displayedMemory){this.outputDataUpdate()}},cc_AOF:function e(){return},cc_AON:function e(){return},cc_DER:function e(){f.log("INFO","DER- Delete to End of Row");this.writeScreen.clearToEndOfRow();this.outputDataUpdate()},cc_RU:function e(t){f.log("INFO","RU("+t+") - Roll Up");this.writeScreen=this.displayedMemory;this.setMode("MODE_ROLL-UP");this.writeScreen.setRollUpRows(t)},cc_FON:function e(){f.log("INFO","FON - Flash On");this.writeScreen.setPen({flash:true})},cc_RDC:function e(){f.log("INFO","RDC - Resume Direct Captioning");this.setMode("MODE_PAINT-ON")},cc_TR:function e(){f.log("INFO","TR");this.setMode("MODE_TEXT")},cc_RTD:function e(){f.log("INFO","RTD");this.setMode("MODE_TEXT")},cc_EDM:function e(){f.log("INFO","EDM - Erase Displayed Memory");this.displayedMemory.reset();this.outputDataUpdate()},cc_CR:function e(){f.log("CR - Carriage Return");this.writeScreen.rollUp();this.outputDataUpdate()},cc_ENM:function e(){f.log("INFO","ENM - Erase Non-displayed Memory");this.nonDisplayedMemory.reset()},cc_EOC:function e(){f.log("INFO","EOC - End Of Caption");if(this.mode==="MODE_POP-ON"){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory;this.nonDisplayedMemory=t;this.writeScreen=this.nonDisplayedMemory;f.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function e(t){f.log("INFO","TO("+t+") - Tab Offset");this.writeScreen.moveCursor(t)},cc_MIDROW:function e(t){var r={flash:false};r.underline=t%2===1;r.italics=t>=46;if(!r.italics){var n=Math.floor(t/2)-16;var i=["white","green","blue","cyan","red","yellow","magenta"];r.foreground=i[n]}else{r.foreground="white"}f.log("INFO","MIDROW: "+JSON.stringify(r));this.writeScreen.setPen(r)},outputDataUpdate:function e(){var t=f.time;if(t===null){return}if(this.outputFilter){if(this.outputFilter.updateData){this.outputFilter.updateData(t,this.displayedMemory)}if(this.cueStartTime===null&&!this.displayedMemory.isEmpty()){this.cueStartTime=t}else{if(!this.displayedMemory.equals(this.lastOutputScreen)){if(this.outputFilter.newCue){this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen)}this.cueStartTime=this.displayedMemory.isEmpty()?null:t}}this.lastOutputScreen.copy(this.displayedMemory)}},cueSplitAtTime:function e(t){if(this.outputFilter){if(!this.displayedMemory.isEmpty()){if(this.outputFilter.newCue){this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory)}this.cueStartTime=t}}}};var g=function e(t,r,n){this.field=t||1;this.outputs=[r,n];this.channels=[new y(1,r),new y(2,n)];this.currChNr=-1;this.lastCmdA=null;this.lastCmdB=null;this.bufferedData=[];this.startTime=null;this.lastTime=null;this.dataCounters={padding:0,char:0,cmd:0,other:0}};g.prototype={getHandler:function e(t){return this.channels[t].getHandler()},setHandler:function e(t,r){this.channels[t].setHandler(r)},addData:function e(t,r){var n,i,a,o=false;this.lastTime=t;f.setTime(t);for(var s=0;s<r.length;s+=2){i=r[s]&127;a=r[s+1]&127;if(i===0&&a===0){this.dataCounters.padding+=2;continue}else{f.log("DATA","["+c([r[s],r[s+1]])+"] -> ("+c([i,a])+")")}n=this.parseCmd(i,a);if(!n){n=this.parseMidrow(i,a)}if(!n){n=this.parsePAC(i,a)}if(!n){n=this.parseBackgroundAttributes(i,a)}if(!n){o=this.parseChars(i,a);if(o){if(this.currChNr&&this.currChNr>=0){var u=this.channels[this.currChNr-1];u.insertChars(o)}else{f.log("WARNING","No channel found yet. TEXT-MODE?")}}}if(n){this.dataCounters.cmd+=2}else if(o){this.dataCounters.char+=2}else{this.dataCounters.other+=2;f.log("WARNING","Couldn't parse cleaned data "+c([i,a])+" orig: "+c([r[s],r[s+1]]))}}},parseCmd:function e(t,r){var n=null;var i=(t===20||t===28)&&32<=r&&r<=47;var a=(t===23||t===31)&&33<=r&&r<=35;if(!(i||a)){return false}if(t===this.lastCmdA&&r===this.lastCmdB){this.lastCmdA=null;this.lastCmdB=null;f.log("DEBUG","Repeated command ("+c([t,r])+") is dropped");return true}if(t===20||t===23){n=1}else{n=2}var o=this.channels[n-1];if(t===20||t===28){if(r===32){o.cc_RCL()}else if(r===33){o.cc_BS()}else if(r===34){o.cc_AOF()}else if(r===35){o.cc_AON()}else if(r===36){o.cc_DER()}else if(r===37){o.cc_RU(2)}else if(r===38){o.cc_RU(3)}else if(r===39){o.cc_RU(4)}else if(r===40){o.cc_FON()}else if(r===41){o.cc_RDC()}else if(r===42){o.cc_TR()}else if(r===43){o.cc_RTD()}else if(r===44){o.cc_EDM()}else if(r===45){o.cc_CR()}else if(r===46){o.cc_ENM()}else if(r===47){o.cc_EOC()}}else{o.cc_TO(r-32)}this.lastCmdA=t;this.lastCmdB=r;this.currChNr=n;return true},parseMidrow:function e(t,r){var n=null;if((t===17||t===25)&&32<=r&&r<=47){if(t===17){n=1}else{n=2}if(n!==this.currChNr){f.log("ERROR","Mismatch channel in midrow parsing");return false}var i=this.channels[n-1];i.cc_MIDROW(r);f.log("DEBUG","MIDROW ("+c([t,r])+")");return true}return false},parsePAC:function e(t,r){var n=null;var i=null;var l=(17<=t&&t<=23||25<=t&&t<=31)&&64<=r&&r<=127;var f=(t===16||t===24)&&64<=r&&r<=95;if(!(l||f)){return false}if(t===this.lastCmdA&&r===this.lastCmdB){this.lastCmdA=null;this.lastCmdB=null;return true}n=t<=23?1:2;if(64<=r&&r<=95){i=n===1?a[t]:s[t]}else{i=n===1?o[t]:u[t]}var c=this.interpretPAC(i,r);var d=this.channels[n-1];d.setPAC(c);this.lastCmdA=t;this.lastCmdB=r;this.currChNr=n;return true},interpretPAC:function e(t,r){var n=r;var i={color:null,italics:false,indent:null,underline:false,row:t};if(r>95){n=r-96}else{n=r-64}i.underline=(n&1)===1;if(n<=13){i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]}else if(n<=15){i.italics=true;i.color="white"}else{i.indent=Math.floor((n-16)/2)*4}return i},parseChars:function e(t,n){var i=null,a=null,o=null,s=null;if(t>=25){i=2;o=t-8}else{i=1;o=t}if(17<=o&&o<=19){var u=n;if(o===17){u=n+80}else if(o===18){u=n+112}else{u=n+144}f.log("INFO","Special char '"+r(u)+"' in channel "+i);a=[u]}else if(32<=t&&t<=127){a=n===0?[t]:[t,n]}if(a){var l=c(a);f.log("DEBUG","Char codes =  "+l.join(","));this.lastCmdA=null;this.lastCmdB=null}return a},parseBackgroundAttributes:function e(t,r){var n,i,a,o;var s=(t===16||t===24)&&32<=r&&r<=47;var u=(t===23||t===31)&&45<=r&&r<=47;if(!(s||u)){return false}n={};if(t===16||t===24){i=Math.floor((r-32)/2);n.background=l[i];if(r%2===1){n.background=n.background+"_semi"}}else if(r===45){n.background="transparent"}else{n.foreground="black";if(r===47){n.underline=true}}a=t<24?1:2;o=this.channels[a-1];o.setBkgData(n);this.lastCmdA=null;this.lastCmdB=null;return true},reset:function e(){for(var t=0;t<this.channels.length;t++){if(this.channels[t]){this.channels[t].reset()}}this.lastCmdA=null;this.lastCmdB=null},cueSplitAtTime:function e(t){for(var r=0;r<this.channels.length;r++){if(this.channels[r]){this.channels[r].cueSplitAtTime(t)}}}};var m=function e(t,r,n){var i=0,a=r,o=0,s=[],u=function e(t,r,n,i){if(t!==4||r<8){return null}var a=n.getUint8(i);var o=n.getUint16(i+1);var s=n.getUint32(i+3);var u=n.getUint8(i+7);return a==181&&o==49&&s==1195456820&&u==3};while(a<r+n){i=t.getUint32(a);o=t.getUint8(a+4)&31;if(o===6){var l=a+5;var f=-1;while(l<a+4+i-1){f=0;var c=255;while(c===255){c=t.getUint8(l);f+=c;l++}var d=0;c=255;while(c===255){c=t.getUint8(l);d+=c;l++}if(u(f,d,t,l)){s.push([l,d])}l+=d}}a+=i+4}return s};var _=function e(t,r){var n=r[0];var i=[[],[]];n+=8;var a=t.getUint8(n)&31;n+=2;for(var o=0;o<a;o++){var s=t.getUint8(n);var u=s&4;var l=s&3;n++;var f=t.getUint8(n);n++;var c=t.getUint8(n);n++;if(u&&(f&127)+(c&127)!==0){if(l===0){i[0].push(f);i[0].push(c)}else if(l===1){i[1].push(f);i[1].push(c)}}}return i};e.logger=f;e.PenState=d;e.CaptionScreen=v;e.Cea608Parser=g;e.findCea608Nalus=m;e.extractCea608DataFromRange=_})(false?undefined.cea608parser={}:t)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(123);var a=n(i);var o=r(127);var s=n(o);var u=r(241);var l=n(u);var f=r(229);var c=n(f);var d=r(117);var p=typeof window!=="undefined"&&window||e;var h=p.dashjs;if(!h){h=p.dashjs={}}h.MediaPlayer=a["default"];h.Protection=s["default"];h.MetricsReporting=l["default"];h.MediaPlayerFactory=c["default"];h.Version=(0,d.getVersionString)();t["default"]=h;t.MediaPlayer=a["default"];t.Protection=s["default"];t.MetricsReporting=l["default"];t.MediaPlayerFactory=c["default"]}).call(t,r(149))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getVersionString=i;var n="2.5.0";function i(){return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n="TcpList";t.TCP_CONNECTION=n;var i="HttpList";t.HTTP_REQUEST=i;var a="RepSwitchList";t.TRACK_SWITCH=a;var o="BufferLevel";t.BUFFER_LEVEL=o;var s="BufferState";t.BUFFER_STATE=s;var u="DVRInfo";t.DVR_INFO=u;var l="DroppedFrames";t.DROPPED_FRAMES=l;var f="SchedulingInfo";t.SCHEDULING_INFO=f;var c="RequestsQueue";t.REQUESTS_QUEUE=c;var d="ManifestUpdate";t.MANIFEST_UPDATE=d;var p="ManifestUpdatePeriodInfo";t.MANIFEST_UPDATE_STREAM_INFO=p;var h="ManifestUpdateRepresentationInfo";t.MANIFEST_UPDATE_TRACK_INFO=h;var v="PlayList";t.PLAY_LIST=v;var y="DVBErrors";t.DVB_ERRORS=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=r(210);var s=i(o);var u=function(){function e(t,r,n,i,o){var u=this;a(this,e);this._name=t||"";this._properties=[];this._children=n||[];this._isRoot=i||false;this._isArray=o||true;if(Array.isArray(r)){r.forEach(function(e){u._properties.push(new s["default"](e))})}}n(e,[{key:"name",get:function e(){return this._name}},{key:"isRoot",get:function e(){return this._isRoot}},{key:"isArray",get:function e(){return this._isArray}},{key:"children",get:function e(){return this._children}},{key:"properties",get:function e(){return this._properties}}]);return e}();t["default"]=u;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=1;var a=1;var o=function e(t,r,o,s){n(this,e);this.url=t||"";this.serviceLocation=r||t||"";this.dvb_priority=o||i;this.dvb_weight=s||a};o.DEFAULT_DVB_PRIORITY=i;o.DEFAULT_DVB_WEIGHT=a;t["default"]=o;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.duration=NaN;this.presentationTime=NaN;this.id=NaN;this.messageData="";this.eventStream=null;this.presentationTimeDelta=NaN};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.schemeIdUri="";this.value=""};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(122);var a=n(i);var o=r(30);var s=n(o);var u=r(82);var l=n(u);var f=r(34);var c=n(f);var d=r(227);var p=n(d);var h=r(93);var v=n(h);var y=r(22);var g=n(y);var m=r(291);var _=n(m);var b=r(89);var T=n(b);var E=r(57);var w=n(E);var S=r(62);var C=n(S);var O=r(35);var k=n(O);var P=r(83);var x=n(P);var A=r(60);var M=n(A);var I=r(10);var R=n(I);var D=r(21);var j=n(D);var L=r(28);var N=n(L);var F=r(239);var B=n(F);var U=r(277);var H=n(U);var V=r(43);var q=n(V);var G=r(237);var z=n(G);var K=r(233);var Y=n(K);var W=r(4);var X=n(W);var Q=r(3);var $=n(Q);var J=r(2);var Z=n(J);var ee=r(41);var te=n(ee);var re=r(0);var ne=n(re);var ie=r(117);var ae=r(78);var oe=n(ae);var se=r(27);var ue=n(se);var le=r(26);var fe=n(le);var ce=r(79);var de=n(ce);function pe(){var e="You must first call play() to init playback before calling this method";var t="You must first call attachView() to set the video element before calling this method";var r="You must first call attachSource() with a valid source before calling this method";var n="MediaPlayer not initialized!";var i=this.context;var o=(0,$["default"])(i).getInstance();var u=(0,X["default"])(i).getInstance();var f=u.log;var d=undefined,h=undefined,y=undefined,m=undefined,b=undefined,E=undefined,S=undefined,O=undefined,P=undefined,A=undefined,I=undefined,D=undefined,L=undefined,F=undefined,U=undefined,V=undefined,G=undefined,K=undefined,W=undefined,Q=undefined,J=undefined,ee=undefined;function re(){m=false;b=false;E=true;P=null;y=null;D=null;Z["default"].extend(te["default"]);F=(0,R["default"])(i).getInstance()}function ae(e,t,r){V=(0,_["default"])(i).getInstance();U=(0,g["default"])(i).getInstance();if(!V.supportsMediaSource()){U.capabilityError("mediasource");return}if(m)return;m=true;S=(0,N["default"])(i).getInstance();K=(0,s["default"])(i).getInstance();O=(0,c["default"])(i).getInstance();O.initialize();Q=(0,ue["default"])(i).getInstance();W=(0,fe["default"])(i).getInstance();L=(0,j["default"])(i).getInstance();L.setConfig({adapter:vr()});Lt();We(r!==undefined?r:true);if(e){or(e)}if(t){fr(t)}f("[dash.js "+Re()+"] "+"MediaPlayer has been initialized")}function se(){return!!J&&!!h}function le(){if(!b){throw e}if(!E||pe()&&b){K.play()}}function ce(){if(!b){throw e}K.pause()}function pe(){if(!b){throw e}return K.isPaused()}function he(){if(!b){throw e}return K.isSeeking()}function ve(){if(!b){throw e}return K.getIsDynamic()}function ye(e){if(!J){throw t}ar().muted=e}function ge(){if(!J){throw t}return ar().muted}function me(e){if(!J){throw t}ar().volume=e}function _e(){if(!J){throw t}return ar().volume}function be(e){var t=["video","audio","fragmentedText"];if(!e){return t.map(function(e){return vt(e).length>0?Je().getCurrentBufferLevel(Ze(e)):Number.MAX_VALUE}).reduce(function(e,t){return Math.min(e,t)})}else{if(t.indexOf(e)!==-1){var r=Je().getCurrentBufferLevel(Ze(e));return r?r:NaN}else{f("Warning  - getBufferLength requested for invalid type");return NaN}}}function Te(){var e=_r();if(!e){return 0}return e.manifestInfo.DVRWindowSize}function Ee(e){var t=_r();if(!t){return 0}var r=t.range.start+e;if(r>t.range.end){r=t.range.end}return r}function we(t){if(!b){throw e}var r=K.getIsDynamic()?Ee(t):t;K.seek(r)}function Se(t){if(!b){throw e}var r=ar().currentTime;if(t!==undefined){r=G.getTimeRelativeToStreamId(r,t)}else if(K.getIsDynamic()){var n=_r();r=n===null?0:Ce()-(n.range.end-n.time)}return r}function Ce(){if(!b){throw e}var t=ar().duration;if(K.getIsDynamic()){var r=_r();var n;if(!r){return 0}n=r.range.end-r.range.start;t=n<r.manifestInfo.DVRWindowSize?n:r.manifestInfo.DVRWindowSize}return t}function Oe(){if(!b){throw e}if(Se()<0){return NaN}return br(Se())}function ke(){if(!b){throw e}return br(Ce())}function Pe(e,t,r){var n=arguments.length<=3||arguments[3]===undefined?false:arguments[3];var i=new Date(e*1e3);var a=i.toLocaleDateString(t);var o=i.toLocaleTimeString(t,{hour12:r});return n?o+" "+a:o}function xe(e){e=Math.max(e,0);var t=Math.floor(e/3600);var r=Math.floor(e%3600/60);var n=Math.floor(e%3600%60);return(t===0?"":t<10?"0"+t.toString()+":":t.toString()+":")+(r<10?"0"+r.toString():r.toString())+":"+(n<10?"0"+n.toString():n.toString())}function Ae(e,t,r){ne["default"].extend(e,t,r,i)}function Me(e,t,r){o.on(e,t,r)}function Ie(e,t,r){o.off(e,t,r)}function Re(){return(0,ie.getVersionString)()}function De(){return u}function je(){if(!J){throw t}return J}function Le(e){F.setLiveDelayFragmentCount(e)}function Ne(e){F.setLiveDelay(e)}function Fe(){return F.getLiveDelay()}function Be(e){F.setUseSuggestedPresentationDelay(e)}function Ue(e,t){F.setLastBitrateCachingInfo(e,t)}function He(e,t){F.setLastMediaSettingsCachingInfo(e,t)}function Ve(e,t){S.setMaxAllowedBitrateFor(e,t)}function qe(e,t){S.setMinAllowedBitrateFor(e,t)}function Ge(e){return S.getMaxAllowedBitrateFor(e)}function ze(e){return S.getMinAllowedBitrateFor(e)}function Ke(e,t){S.setMaxAllowedRepresentationRatioFor(e,t)}function Ye(e){return S.getMaxAllowedRepresentationRatioFor(e)}function We(e){E=e}function Xe(){return E}function Qe(e){F.setScheduleWhilePaused(e)}function $e(){return F.getScheduleWhilePaused()}function Je(){return W}function Ze(e){return L.getReadOnlyMetricsFor(e)}function et(t){if(!b){throw e}return S.getQualityFor(t,G.getActiveStreamInfo())}function tt(t,r){if(!b){throw e}S.setPlaybackQuality(t,G.getActiveStreamInfo(),r)}function rt(){S.setElementSize();S.setWindowResizeEventCalled(true)}function nt(){return S.getLimitBitrateByPortal()}function it(e){S.setLimitBitrateByPortal(e)}function at(){return S.getUsePixelRatioInLimitBitrateByPortal()}function ot(e){S.setUsePixelRatioInLimitBitrateByPortal(e)}function st(t){if(!b){throw e}if(ee===undefined){ee=(0,k["default"])(i).getInstance()}var r=ar().textTracks;var n=r.length;for(var a=0;a<n;a++){var o=r[a];var s=t===a?"showing":"hidden";if(o.mode!==s){o.mode=s}}ee.setTextTrack()}function ut(){var e=NaN;if(ee){e=ee.getCurrentTrackIdx()}return e}function lt(t){if(!b){throw e}var r=Tr();return r?r.getBitrateListFor(t):[]}function ft(e,t){S.setInitialBitrateFor(e,t)}function ct(t){if(!b){throw e}return S.getInitialBitrateFor(t)}function dt(e,t){S.setInitialRepresentationRatioFor(e,t)}function pt(e){return S.getInitialRepresentationRatioFor(e)}function ht(t){if(!b){throw e}return D.getStreamsInfo(t)}function vt(t){if(!b){throw e}var r=G.getActiveStreamInfo();if(!r)return[];return O.getTracksFor(t,r)}function yt(t,r,n){if(!b){throw e}n=n||D.getStreamsInfo(r)[0];return n?D.getAllMediaInfoForType(r,n,t):[]}function gt(t){if(!b){throw e}var r=G.getActiveStreamInfo();if(!r)return null;return O.getCurrentTrackFor(t,r)}function mt(e,t){O.setInitialSettings(e,t)}function _t(e){return O.getInitialSettings(e)}function bt(t){if(!b){throw e}O.setTrack(t)}function Tt(e){return O.getSwitchMode(e)}function Et(e,t){O.setSwitchMode(e,t)}function wt(e){O.setSelectionModeForInitialTrack(e)}function St(){return O.getSelectionModeForInitialTrack()}function Ct(){return S.getAutoSwitchBitrateFor("video")||S.getAutoSwitchBitrateFor("audio")}function Ot(e){S.setAutoSwitchBitrateFor("video",e);S.setAutoSwitchBitrateFor("audio",e)}function kt(e){return S.getAutoSwitchBitrateFor(e)}function Pt(e,t){S.setAutoSwitchBitrateFor(e,t)}function xt(e){F.setFastSwitchEnabled(e)}function At(){return F.getFastSwitchEnabled()}function Mt(e){F.setBufferOccupancyABREnabled(e)}function It(e,t){var r=hr();var n=this;var a=function e(i){if(!i.error){t(i.manifest)}else{t(null,i.error)}o.off(Z["default"].INTERNAL_MANIFEST_LOADED,e,n);r.reset()};o.on(Z["default"].INTERNAL_MANIFEST_LOADED,a,n);var s=(0,x["default"])(i).getInstance();s.initialize();r.load(s.parseURI(e))}function Rt(e,t){Dt(e,t);var r=new a["default"];r.schemeIdUri=e;r.value=t;F.getUTCTimingSources().push(r)}function Dt(e,t){var r=F.getUTCTimingSources();r.forEach(function(n,i){if(n.schemeIdUri===e&&n.value===t){r.splice(i,1)}})}function jt(){F.setUTCTimingSources([])}function Lt(){Rt(R["default"].DEFAULT_UTC_TIMING_SOURCE.scheme,R["default"].DEFAULT_UTC_TIMING_SOURCE.value)}function Nt(e){F.setUseManifestDateHeaderTimeSource(e)}function Ft(e){F.setBufferToKeep(e)}function Bt(e){F.setBufferPruningInterval(e)}function Ut(e){F.setStableBufferTime(e)}function Ht(e){F.setBufferTimeAtTopQuality(e)}function Vt(e){F.setBufferTimeAtTopQualityLongForm(e)}function qt(e){F.setLongFormContentDurationThreshold(e)}function Gt(e){F.setRichBufferThreshold(e)}function zt(e){F.setBandwidthSafetyFactor(e)}function Kt(){return F.getBandwidthSafetyFactor()}function Yt(e){F.setAbandonLoadTimeout(e)}function Wt(e){F.setFragmentRetryAttempts(e)}function Xt(e){F.setFragmentRetryInterval(e)}function Qt(e){$t(undefined,e)}function $t(e,t){F.setXHRWithCredentialsForType(e,t)}function Jt(e){return F.getXHRWithCredentialsForType(e)}function Zt(){return yr()}function er(e){P=e}function tr(e){y=e}function rr(e){var t=(0,T["default"])(i).getInstance();t.setConfig({videoModel:J});t.initialize();t.displayCConTop(e)}function nr(){return J?J.getVideoContainer():null}function ir(e){if(!J){throw t}J.setVideoContainer(e)}function ar(){if(!J){throw t}return J.getElement()}function or(e){if(!m){throw n}J=null;if(e){J=(0,q["default"])(i).getInstance();J.initialize();J.setElement(e);yr();gr();mr()}dr()}function sr(){return J?J.getTTMLRenderingDiv():null}function ur(e){if(!J){throw t}J.setTTMLRenderingDiv(e)}function lr(){if(!h){throw r}return h}function fr(e){if(!m){throw n}if(typeof e==="string"){var t=(0,x["default"])(i).getInstance();t.initialize();h=t.parseURI(e)}else{h=e}dr()}function cr(){fr(null);or(null);y=null;P=null}function dr(){if(b){b=false;D.reset();G.reset();K.reset();S.reset();O.reset();ee.reset();G=null;A=null;if(se()){Er()}}else if(se()){Er()}}function pr(){var e=(0,H["default"])(i).getInstance();e.initialize();var t=(0,w["default"])(i).getInstance();t.setConfig({dashManifestModel:Q});O.initialize();O.setConfig({errHandler:U});G=(0,l["default"])(i).getInstance();G.setConfig({capabilities:V,manifestLoader:hr(),manifestModel:(0,M["default"])(i).getInstance(),dashManifestModel:Q,protectionController:P,adapter:D,metricsModel:L,dashMetrics:W,liveEdgeFinder:(0,v["default"])(i).getInstance(),mediaSourceController:(0,z["default"])(i).getInstance(),timeSyncController:(0,B["default"])(i).getInstance(),baseURLController:(0,Y["default"])(i).getInstance(),errHandler:U,timelineConverter:(0,de["default"])(i).getInstance()});G.initialize(E,y);S.setConfig({abrRulesCollection:e,streamController:G});ee=(0,k["default"])(i).getInstance();ee.setConfig({errHandler:U,dashManifestModel:Q,mediaController:O,streamController:G,videoModel:J})}function hr(){return(0,p["default"])(i).create({errHandler:U,metricsModel:L,requestModifier:(0,C["default"])(i).getInstance(),mssHandler:I})}function vr(){D=(0,oe["default"])(i).getInstance();D.initialize();D.setConfig({dashManifestModel:Q});return D}function yr(){if(P){return P}var e=dashjs.Protection;if(typeof e==="function"){var t=e(i).create();Z["default"].extend(e.events);te["default"].extend(e.events,{publicOnly:true});P=t.createProtectionSystem({log:f,videoModel:J,capabilities:V,eventBus:o,adapter:D});return P}return null}function gr(){if(A){return A}var e=dashjs.MetricsReporting;if(typeof e==="function"){var t=e(i).create();A=t.createMetricsReporting({log:f,eventBus:o,mediaElement:ar(),dashManifestModel:Q,metricsModel:L});return A}return null}function mr(){if(I){return I}var e=dashjs.MssHandler;if(typeof e==="function"){I=e(i).create({eventBus:o,mediaPlayerModel:F});return I}return null}function _r(){var e=L.getReadOnlyMetricsFor("video")||L.getReadOnlyMetricsFor("audio");return W.getCurrentDVRInfo(e)}function br(e){var t=_r();var r,n;if(!t){return 0}r=t.manifestInfo.availableFrom.getTime()/1e3;n=e+(r+t.range.start);return n}function Tr(){if(!b){throw e}var t=G.getActiveStreamInfo();return t?G.getStreamById(t.id):null}function Er(){if(!b){b=true;f("Playback Initialized");pr();if(typeof h==="string"){G.load(h)}else{G.loadWithManifest(h)}}}d={initialize:ae,on:Me,off:Ie,extend:Ae,attachView:or,attachSource:fr,isReady:se,play:le,isPaused:pe,pause:ce,isSeeking:he,isDynamic:ve,seek:we,setMute:ye,isMuted:ge,setVolume:me,getVolume:_e,time:Se,duration:Ce,timeAsUTC:Oe,durationAsUTC:ke,getActiveStream:Tr,getDVRWindowSize:Te,getDVRSeekOffset:Ee,convertToTimeCode:xe,formatUTC:Pe,getVersion:Re,getDebug:De,getBufferLength:be,getVideoModel:je,getVideoContainer:nr,getTTMLRenderingDiv:sr,getVideoElement:ar,getSource:lr,setLiveDelayFragmentCount:Le,setLiveDelay:Ne,getLiveDelay:Fe,useSuggestedPresentationDelay:Be,enableLastBitrateCaching:Ue,enableLastMediaSettingsCaching:He,setMaxAllowedBitrateFor:Ve,getMaxAllowedBitrateFor:Ge,setMinAllowedBitrateFor:qe,getMinAllowedBitrateFor:ze,setMaxAllowedRepresentationRatioFor:Ke,getMaxAllowedRepresentationRatioFor:Ye,setAutoPlay:We,getAutoPlay:Xe,setScheduleWhilePaused:Qe,getScheduleWhilePaused:$e,getDashMetrics:Je,getMetricsFor:Ze,getQualityFor:et,setQualityFor:tt,updatePortalSize:rt,getLimitBitrateByPortal:nt,setLimitBitrateByPortal:it,getUsePixelRatioInLimitBitrateByPortal:at,setUsePixelRatioInLimitBitrateByPortal:ot,setTextTrack:st,getBitrateInfoListFor:lt,setInitialBitrateFor:ft,getInitialBitrateFor:ct,setInitialRepresentationRatioFor:dt,getInitialRepresentationRatioFor:pt,getStreamsFromManifest:ht,getTracksFor:vt,getTracksForTypeFromManifest:yt,getCurrentTrackFor:gt,setInitialMediaSettingsFor:mt,getInitialMediaSettingsFor:_t,setCurrentTrack:bt,getTrackSwitchModeFor:Tt,setTrackSwitchModeFor:Et,setSelectionModeForInitialTrack:wt,getSelectionModeForInitialTrack:St,getAutoSwitchQuality:Ct,setAutoSwitchQuality:Ot,setFastSwitchEnabled:xt,getFastSwitchEnabled:At,getAutoSwitchQualityFor:kt,setAutoSwitchQualityFor:Pt,enableBufferOccupancyABR:Mt,setBandwidthSafetyFactor:zt,getBandwidthSafetyFactor:Kt,setAbandonLoadTimeout:Yt,retrieveManifest:It,addUTCTimingSource:Rt,removeUTCTimingSource:Dt,clearDefaultUTCTimingSources:jt,restoreDefaultUTCTimingSources:Lt,setBufferToKeep:Ft,setBufferPruningInterval:Bt,setStableBufferTime:Ut,setBufferTimeAtTopQuality:Ht,setFragmentLoaderRetryAttempts:Wt,setFragmentLoaderRetryInterval:Xt,setXHRWithCredentials:Qt,setXHRWithCredentialsForType:$t,getXHRWithCredentialsForType:Jt,setBufferTimeAtTopQualityLongForm:Vt,setLongFormContentDurationThreshold:qt,setRichBufferThreshold:Gt,getProtectionController:Zt,attachProtectionController:er,setProtectionData:tr,enableManifestDateHeaderTimeSource:Nt,displayCaptionsOnTop:rr,attachVideoContainer:ir,attachTTMLRenderingDiv:ur,getCurrentTextTrackIndex:ut,reset:cr};re();return d}pe.__dashjs_factory_name="MediaPlayer";var he=ne["default"].getClassFactory(pe);he.events=te["default"];t["default"]=he;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(247);var s=n(o);var u=r(248);var l=n(u);var f=r(250);var c=n(f);var d=r(249);var p=n(d);function h(e){var t=undefined;var r=e.log;var n=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/;var i=this.context;var a={BufferLevel:s["default"],DVBErrors:l["default"],HttpList:c["default"],PlayList:p["default"],RepSwitchList:p["default"],TcpList:p["default"]};function o(t,o){var s=t.match(n);var u;if(!s){return}try{u=a[s[1]](i).create({eventBus:e.eventBus});u.initialize(s[1],o,s[3],s[5])}catch(e){u=null;r("MetricsHandlerFactory: Could not create handler for type "+s[1]+" with args "+s[3]+", "+s[5]+" ("+e.message+")")}return u}function u(e,t){a[e]=t}function f(e){delete a[e]}t={create:o,register:u,unregister:f};return t}h.__dashjs_factory_name="MetricsHandlerFactory";t["default"]=a["default"].getSingletonFactory(h);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(251);var s=n(o);function u(e){var t={"urn:dvb:dash:reporting:2014":s["default"]};var r=this.context;var n=e.log;var i=undefined;function a(e,i){var a;try{a=t[e.schemeIdUri](r).create();a.initialize(e,i)}catch(t){a=null;n("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+t.message+")")}return a}function o(e,r){t[e]=r}function u(e){delete t[e]}i={create:a,register:o,unregister:u};return i}u.__dashjs_factory_name="ReportingFactory";t["default"]=a["default"].getSingletonFactory(u);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){return{reconstructFullMetricName:function e(t,r,n){var i=t;if(r){i+="("+r;if(n&&n.length){i+=","+n}i+=")"}return i},validateN:function e(t){if(!t){throw new Error("missing n")}if(isNaN(t)){throw new Error("n is NaN")}if(t<0){throw new Error("n must be positive")}return t}}}o.__dashjs_factory_name="HandlerHelpers";t["default"]=a["default"].getSingletonFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(262);var a=n(i);var o=r(61);var s=n(o);var u=r(261);var l=n(u);var f=r(267);var c=n(f);var d=r(268);var p=n(d);var h=r(266);var v=n(h);var y=r(0);var g=n(y);var m=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}];var _=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function b(){var e=undefined;var t=this.context;function r(e){var r=null;var i=(0,s["default"])(t).getInstance();i.setConfig({log:e.log});i.initialize();var o=n(e);if(!r&&o){r=(0,a["default"])(t).create({protectionModel:o,protectionKeyController:i,adapter:e.adapter,eventBus:e.eventBus,log:e.log});e.capabilities.setEncryptedMediaSupported(true)}return r}function n(e){var r=e.log;var n=e.eventBus;var a=e.videoModel.getElement();if(a.onencrypted!==undefined&&a.mediaKeys!==undefined&&navigator.requestMediaKeySystemAccess!==undefined&&typeof navigator.requestMediaKeySystemAccess==="function"){r("EME detected on this user agent! (ProtectionModel_21Jan2015)");return(0,c["default"])(t).create({log:r,eventBus:n})}else if(i(a,_)){r("EME detected on this user agent! (ProtectionModel_3Feb2014)");return(0,p["default"])(t).create({log:r,eventBus:n,api:i(a,_)})}else if(i(a,m)){r("EME detected on this user agent! (ProtectionModel_01b)");return(0,v["default"])(t).create({log:r,eventBus:n,api:i(a,m)})}else{r("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!");return null}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(typeof e[n[Object.keys(n)[0]]]!=="function"){continue}return n}return null}e={createProtectionSystem:r};return e}b.__dashjs_factory_name="Protection";var T=g["default"].getClassFactory(b);T.events=l["default"];t["default"]=T;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(t,r){i(this,e);if(r&&r!=="persistent"&&r!=="temporary")throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=t;this.type=r}n(e,[{key:"toJWK",value:function e(){var t;var r=this.keyPairs.length;var n={keys:[]};for(t=0;t<r;t++){var i={kty:"oct",alg:"A128KW",kid:this.keyPairs[t].keyID,k:this.keyPairs[t].key};n.keys.push(i)}if(this.type){n.type=this.type}var a=JSON.stringify(n);var o=a.length;var s=new ArrayBuffer(o);var u=new Uint8Array(s);for(t=0;t<o;t++)u[t]=a.charCodeAt(t);return s}}]);return e}();t["default"]=a;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(t,r){n(this,e);this.keyID=t;this.key=r};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(19);var a=n(i);var o=r(0);var s=n(o);var u=r(10);var l=n(u);var f=r(13);var c=r(78);var d=n(c);var p=r(3);var h=n(p);var v=r(2);var y=n(v);var g=r(4);var m=n(g);var _=0;var b=1;var T=2;var E=false;var w=10;var S=30;var C=.5;function O(e){var t=2;var r=3;var n=this.context;var i=(0,m["default"])(n).getInstance().log;var o=e.dashMetrics;var s=e.metricsModel;var u=(0,h["default"])(n).getInstance();var c=undefined,p=undefined,v=undefined,g=undefined,k=undefined,P=undefined,x=undefined;function A(){p={};v={};g={};k=[];P=(0,l["default"])(n).getInstance();x=(0,d["default"])(n).getInstance();u.on(y["default"].BUFFER_EMPTY,B,c);u.on(y["default"].PLAYBACK_SEEKING,U,c);u.on(y["default"].PERIOD_SWITCH_STARTED,H,c);u.on(y["default"].MEDIA_FRAGMENT_LOADED,V,c)}function M(e){return e.map(function(e){return Math.log(e)})}function I(e,t,r,n){var i=NaN;if(!n){n=M(r);i=n.length-1}else{i=0;n.forEach(function(e,t){if(e>n[i])i=t})}if(i===0){return null}var a=1-n[0]+(n[i]-n[0])/(t/e-1);var o=e/(n[0]+a-1);return{utilities:n,gp:a,Vp:o}}function R(e){var n={};var a=e.getMediaInfo();var o=e.getStreamProcessor();var s=e.getStreamInfo();var u=e.getTrackInfo();var l=o.isDynamic();var f=s.manifestInfo.duration;var c=u.fragmentDuration;var d=a.bitrateList.map(function(e){return e.bandwidth});var p=I(w,S,d,null);if(p===null){n.state=_;return n}n.state=b;n.bitrates=d;n.utilities=p.utilities;n.Vp=p.Vp;n.gp=p.gp;n.isDynamic=l;n.movieDuration=f;n.fragmentDuration=c;n.bandwidthSafetyFactor=P.getBandwidthSafetyFactor();n.rebufferSafetyFactor=C;n.bufferTarget=P.getStableBufferTime();n.lastQuality=0;n.placeholderBuffer=0;n.throughputCount=l?t:r;if(E){var h="";for(var v=0;v<d.length;++v){var y=p.utilities[v];var g=d[v];var m=0;if(v>0){var T=p.utilities[v-1];var O=d[v-1];m=p.Vp*((T*g-y*O)/(g-O)+p.gp)}var k=p.Vp*(y+p.gp);h+="\n"+v+":"+(1e-6*d[v]).toFixed(3)+"Mbps "+m.toFixed(3)+"/"+k.toFixed(3)}i("BolaDebug "+a.type+" bitrates"+h)}return n}function D(e,t){var r=e.bitrates.length;var n=NaN;var i=NaN;for(var a=0;a<r;++a){var o=(e.Vp*(e.utilities[a]+e.gp)-t)/e.bitrates[a];if(isNaN(i)||o>=i){i=o;n=a}}return n}function j(e,t){var r=o.getHttpRequests(e);var n=[];for(var i=r.length-1;i>=0&&n.length<t;--i){var a=r[i];if(a.type===f.HTTPRequest.MEDIA_SEGMENT_TYPE&&a._tfinish&&a.tresponse&&a.trace){n.push(a)}}return n}function L(e,t,r){var n=j(e,t);if(n.length===0){return 0}var a=0;var o="";for(var s=0;s<n.length;++s){var u=.001*(n[s]._tfinish.getTime()-n[s].trequest.getTime());var l=8*n[s].trace.reduce(function(e,t){return e+t.b[0]},0);if(E)o+=" "+(1e-6*l).toFixed(3)+"/"+u.toFixed(3)+"="+(1e-6*l/u).toFixed(3)+"Mbps";a+=u/l}if(E)i("BolaDebug "+r+" BolaRule recent throughput = "+(n.length/(1e6*a)).toFixed(3)+"Mbps:"+o);return n.length/a}function N(e,t){var r=0;e.bitrates.some(function(e,n){if(e>t){return true}r=n;return false});return r}function F(e,t){var r=Date.now();var n=p[t];var i=g[t];var a=NaN;p[t]=r;g[t]=false;if(!i){var o=j(e,1);if(o.length>0){a=o[0]._tfinish.getTime();if(a>r){a=r}}}var s=0;if(i||n>a){s=r-n}else{s=r-a}if(isNaN(s)||s<=0)return 0;return.001*s}function B(){if(E)i("BolaDebug BUFFER_EMPTY");k.forEach(function(e){var t=s.getReadOnlyMetricsFor(e);if(t.BolaState.length!==0){var r=t.BolaState[0]._s;if(r.state===T){r.placeholderBuffer=0;s.updateBolaState(e,r)}}})}function U(e){if(E)i("BolaDebug PLAYBACK_SEEKING "+e.seekTime.toFixed(3));k.forEach(function(e){var t=s.getReadOnlyMetricsFor(e);if(t.BolaState.length!==0){var r=t.BolaState[0]._s;if(r.state!==_){r.state=b}s.updateBolaState(e,r)}});v={};g={}}function H(){}function V(e){if(e&&e.chunk&&e.chunk.mediaInfo){var t=e.chunk.mediaInfo.type;var r=e.chunk.start;if(t!==undefined&&!isNaN(r)){if(r<=v[t]){g[t]=true}else{g[t]=false;v[t]=r}}}}function q(e){var t=e.getStreamProcessor();t.getScheduleController().setTimeToLoadDelay(0);var r=(0,a["default"])(n).create(a["default"].NO_CHANGE,{name:O.__dashjs_factory_name});var u=e.getMediaInfo();var l=u.type;var f=s.getReadOnlyMetricsFor(l);if(f.BolaState.length===0){if(E)i("BolaDebug "+l+"\nBolaDebug "+l+" BolaRule for state=- fragmentStart="+x.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var c=R(e);s.updateBolaState(l,c);var d=0;if(c.state!==_){k.push(l);var p=L(f,c.throughputCount,l);if(p===0){if(E)i("BolaDebug "+l+" BolaRule quality unchanged for INITIALIZE");return r}d=N(c,p*c.bandwidthSafetyFactor);c.lastQuality=d;r.value=d;r.reason.state=c.state;r.reason.throughput=p}if(E)i("BolaDebug "+l+" BolaRule quality "+d+" for INITIALIZE");return r}var h=f.BolaState[0]._s;if(h.state===_){if(E)i("BolaDebug "+l+" BolaRule quality 0 for ONE_BITRATE");return r}var v=h.bitrates;var y=h.utilities;if(E)i("BolaDebug "+l+"\nBolaDebug "+l+" EXECUTE BolaRule for state="+h.state+" fragmentStart="+x.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var g=o.getCurrentBufferLevel(f)?o.getCurrentBufferLevel(f):0;var m=L(f,h.throughputCount,l);if(g<=.1){h.placeholderBuffer=0}var w=F(f,l);if(w>0){h.placeholderBuffer+=w}if(h.placeholderBuffer<0){h.placeholderBuffer=0}var S=g+h.placeholderBuffer;var P=D(h,S);if(E)i("BolaDebug "+l+" BolaRule bufferLevel="+g.toFixed(3)+"(+"+h.placeholderBuffer.toFixed(3)+"="+S.toFixed(3)+") recentThroughput="+(1e-6*m).toFixed(3)+" tentativeQuality="+P);if(h.state===b){var d=N(h,m*h.bandwidthSafetyFactor);if(g>h.fragmentDuration/C){h.state=T;var A=0;for(var M=0;M<d;++M){var I=h.Vp*(h.gp+(v[d]*y[M]-v[M]*y[d])/(v[d]-v[M]));if(I>A){A=I}}if(A>g){h.placeholderBuffer=A-g}}if(E)i("BolaDebug "+l+" BolaRule quality "+d+" for STARTUP");h.lastQuality=d;s.updateBolaState(l,h);r.value=d;r.reason.state=b;r.reason.throughput=m;return r}if(P>h.lastQuality){var d=N(h,m);if(P>d){if(d<h.lastQuality){d=h.lastQuality}P=d}}if(m>0){var j=C*m*g/h.fragmentDuration;while(P>0&&v[P]>j){--P}}var B=0;var U=h.Vp*(y[P]+h.gp);B=S-U;if(B>0){if(B>h.placeholderBuffer){B-=h.placeholderBuffer;h.placeholderBuffer=0}else{h.placeholderBuffer-=B;B=0}}if(B>0){if(P===v.length-1){B=0}else{t.getScheduleController().setTimeToLoadDelay(1e3*B)}}else{B=0}h.lastQuality=P;s.updateBolaState(l,h);r.value=P;r.reason.state=h.state;r.reason.throughput=m;r.reason.bufferLevel=g;if(E)i("BolaDebug "+l+" BolaRule quality "+P+" delay="+B.toFixed(3)+" for STEADY");return r}function G(){u.off(y["default"].BUFFER_EMPTY,B,c);u.off(y["default"].PLAYBACK_SEEKING,U,c);u.off(y["default"].PERIOD_SWITCH_STARTED,H,c);u.off(y["default"].MEDIA_FRAGMENT_LOADED,V,c);A()}c={getMaxIndex:q,reset:G};A();return c}O.__dashjs_factory_name="BolaRule";var k=s["default"].getClassFactory(O);k.BOLA_STATE_ONE_BITRATE=_;k.BOLA_STATE_STARTUP=b;k.BOLA_STATE_STEADY=T;k.BOLA_DEBUG=E;t["default"]=k;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e=[];var t=0;function r(e,t){var r=0;for(r=0;r<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[r].start;r++);this.customTimeRangeArray.splice(r,0,{start:e,end:t});for(r=0;r<this.customTimeRangeArray.length-1;r++){if(this.mergeRanges(r,r+1)){r--}}this.length=this.customTimeRangeArray.length}function n(){this.customTimeRangeArray=[];this.length=0}function i(e,t){for(var r=0;r<this.customTimeRangeArray.length;r++){if(e<=this.customTimeRangeArray[r].start&&t>=this.customTimeRangeArray[r].end){this.customTimeRangeArray.splice(r,1);r--}else if(e>this.customTimeRangeArray[r].start&&t<this.customTimeRangeArray[r].end){this.customTimeRangeArray.splice(r+1,0,{start:t,end:this.customTimeRangeArray[r].end});this.customTimeRangeArray[r].end=e;break}else if(e>this.customTimeRangeArray[r].start&&e<this.customTimeRangeArray[r].end){this.customTimeRangeArray[r].end=e}else if(t>this.customTimeRangeArray[r].start&&t<this.customTimeRangeArray[r].end){this.customTimeRangeArray[r].start=t}}this.length=this.customTimeRangeArray.length}function a(e,t){var r=this.customTimeRangeArray[e];var n=this.customTimeRangeArray[t];if(r.start<=n.start&&n.start<=r.end&&r.end<=n.end){r.end=n.end;this.customTimeRangeArray.splice(t,1);return true}else if(n.start<=r.start&&r.start<=n.end&&n.end<=r.end){r.start=n.start;this.customTimeRangeArray.splice(t,1);return true}else if(n.start<=r.start&&r.start<=n.end&&r.end<=n.end){this.customTimeRangeArray.splice(e,1);return true}else if(r.start<=n.start&&n.start<=r.end&&n.end<=r.end){this.customTimeRangeArray.splice(t,1);return true}return false}function o(e){return this.customTimeRangeArray[e].start}function s(e){return this.customTimeRangeArray[e].end}return{customTimeRangeArray:e,length:t,add:r,clear:n,remove:i,mergeRanges:a,start:o,end:s}}o.__dashjs_factory_name="CustomTimeRanges";t["default"]=a["default"].getClassFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=r(36);var u=i(s);var l=function(e){o(t,e);function t(e,r){a(this,t);n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.url=e||null;this.type=r||null;this.mediaType="stream";this.responseType="text"}return t}(u["default"]);t["default"]=l;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.start=null;this.mstart=null;this.starttype=null;this.trace=[]};i.INITIAL_PLAYOUT_START_REASON="initial_playout";i.SEEK_START_REASON="seek";i.RESUME_FROM_PAUSE_START_REASON="resume";i.METRICS_COLLECTION_START_REASON="metrics_collection_start";var a=function e(){n(this,e);this.representationid=null;this.subreplevel=null;this.start=null;this.mstart=null;this.duration=null;this.playbackspeed=null;this.stopreason=null};a.REPRESENTATION_SWITCH_STOP_REASON="representation_switch";a.REBUFFERING_REASON="rebuffering";a.USER_REQUEST_STOP_REASON="user_request";a.END_OF_PERIOD_STOP_REASON="end_of_period";a.END_OF_CONTENT_STOP_REASON="end_of_content";a.METRICS_COLLECTION_STOP_REASON="metrics_collection_end";a.FAILURE_STOP_REASON="failure";t.PlayList=i;t.PlayListTrace=a},function(e,t){e.exports=n;var r=Object.prototype.toString;function n(e){var t=r.call(e);return t==="[object Function]"||typeof e==="function"&&t!=="[object RegExp]"||typeof window!=="undefined"&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}},function(e,t){function r(e){return e.replace(/\n\r?\s*/g,"")}e.exports=function e(t){var n="",i=0;for(;i<arguments.length;i++)n+=r(t[i])+(arguments[i+1]||"");return n}},function(e,t,r){"use strict";t.__esModule=true;var n=r(46);var i=f(n);var a=r(1);var o=f(a);var s=r(6);var u=l(s);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){p(t,e);function t(r,n){c(this,t);var i=d(this,e.call(this,r,n));i.on(r,"volumechange",i.update);if(r.tech_&&r.tech_.featuresVolumeControl===false){i.addClass("vjs-hidden")}i.on(r,"loadstart",function(){this.update();if(r.tech_.featuresVolumeControl===false){this.addClass("vjs-hidden")}else{this.removeClass("vjs-hidden")}});return i}t.prototype.buildCSSClass=function t(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)};t.prototype.handleClick=function e(t){this.player_.muted(this.player_.muted()?false:true)};t.prototype.update=function e(t){var r=this.player_.volume();var n=3;if(this.player_.muted()){n=0}else if(r<.33){n=1}else if(r<.67){n=2}var i=this.player_.muted()?"Unmute":"Mute";if(this.controlText()!==i){this.controlText(i)}for(var a=0;a<4;a++){u.removeElClass(this.el_,"vjs-vol-"+a)}u.addElClass(this.el_,"vjs-vol-"+n)};return t}(i["default"]);h.prototype.controlText_="Mute";o["default"].registerComponent("MuteToggle",h);t["default"]=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(140);var i=f(n);var a=r(1);var o=f(a);var s=r(5);var u=l(s);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){p(t,e);function t(r,n){c(this,t);var i=n.tracks;var a=d(this,e.call(this,r,n));if(a.items.length<=1){a.hide()}if(!i){return d(a)}var o=u.bind(a,a.update);i.addEventListener("removetrack",o);i.addEventListener("addtrack",o);a.player_.on("dispose",function(){i.removeEventListener("removetrack",o);i.removeEventListener("addtrack",o)});return a}return t}(i["default"]);o["default"].registerComponent("TrackButton",h);t["default"]=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(144);var i=f(n);var a=r(1);var o=f(a);var s=r(5);var u=l(s);r(358);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){p(t,e);function t(r,n){c(this,t);var i=d(this,e.call(this,r,n));i.on(r,"volumechange",i.updateARIAAttributes);r.ready(u.bind(i,i.updateARIAAttributes));return i}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})};t.prototype.handleMouseMove=function e(t){this.checkMuted();this.player_.volume(this.calculateDistance(t))};t.prototype.checkMuted=function e(){if(this.player_.muted()){this.player_.muted(false)}};t.prototype.getPercent=function e(){if(this.player_.muted()){return 0}return this.player_.volume()};t.prototype.stepForward=function e(){this.checkMuted();this.player_.volume(this.player_.volume()+.1)};t.prototype.stepBack=function e(){this.checkMuted();this.player_.volume(this.player_.volume()-.1)};t.prototype.updateARIAAttributes=function e(t){var r=(this.player_.volume()*100).toFixed(2);this.el_.setAttribute("aria-valuenow",r);this.el_.setAttribute("aria-valuetext",r+"%")};return t}(i["default"]);h.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};h.prototype.playerEvent="volumechange";o["default"].registerComponent("VolumeBar",h);t["default"]=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(11);function i(e){if(e instanceof i){return e}if(typeof e==="number"){this.code=e}else if(typeof e==="string"){this.message=e}else if((0,n.isObject)(e)){if(typeof e.code==="number"){this.code=e.code}(0,n.assign)(this,e)}if(!this.message){this.message=i.defaultMessages[this.code]||""}}i.prototype.code=0;i.prototype.message="";i.prototype.status=null;i.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];i.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var a=0;a<i.errorTypes.length;a++){i[i.errorTypes[a]]=a;i.prototype[i.errorTypes[a]]=a}t["default"]=i},function(e,t,r){"use strict";t.__esModule=true;var n=r(47);var i=y(n);var a=r(1);var o=y(a);var s=r(141);var u=y(s);var l=r(6);var f=v(l);var c=r(5);var d=v(c);var p=r(38);var h=y(p);function v(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function _(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var b=function(e){_(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};g(this,t);var i=m(this,e.call(this,r,n));i.update();i.enabled_=true;i.el_.setAttribute("aria-haspopup","true");i.el_.setAttribute("role","menuitem");i.on("keydown",i.handleSubmenuKeyPress);return i}t.prototype.update=function e(){var t=this.createMenu();if(this.menu){this.removeChild(this.menu)}this.menu=t;this.addChild(t);this.buttonPressed_=false;this.el_.setAttribute("aria-expanded","false");if(this.items&&this.items.length<=this.hideThreshold_){this.hide()}else{this.show()}};t.prototype.createMenu=function e(){var t=new u["default"](this.player_);this.hideThreshold_=0;if(this.options_.title){var r=f.createEl("li",{className:"vjs-menu-title",innerHTML:(0,h["default"])(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;t.children_.unshift(r);f.insertElFirst(r,t.contentEl())}this.items=this.createItems();if(this.items){for(var n=0;n<this.items.length;n++){t.addItem(this.items[n])}}return t};t.prototype.createItems=function e(){};t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})};t.prototype.buildCSSClass=function t(){var r="vjs-menu-button";if(this.options_.inline===true){r+="-inline"}else{r+="-popup"}return"vjs-menu-button "+r+" "+e.prototype.buildCSSClass.call(this)};t.prototype.handleClick=function e(t){this.one(this.menu.contentEl(),"mouseleave",d.bind(this,function(e){this.unpressButton();this.el_.blur()}));if(this.buttonPressed_){this.unpressButton()}else{this.pressButton()}};t.prototype.handleKeyPress=function t(r){if(r.which===27||r.which===9){if(this.buttonPressed_){this.unpressButton()}if(r.which!==9){r.preventDefault()}}else if(r.which===38||r.which===40){if(!this.buttonPressed_){this.pressButton();r.preventDefault()}}else{e.prototype.handleKeyPress.call(this,r)}};t.prototype.handleSubmenuKeyPress=function e(t){if(t.which===27||t.which===9){if(this.buttonPressed_){this.unpressButton()}if(t.which!==9){t.preventDefault()}}};t.prototype.pressButton=function e(){if(this.enabled_){this.buttonPressed_=true;this.menu.lockShowing();this.el_.setAttribute("aria-expanded","true");this.menu.focus()}};t.prototype.unpressButton=function e(){if(this.enabled_){this.buttonPressed_=false;this.menu.unlockShowing();this.el_.setAttribute("aria-expanded","false");this.el_.focus()}};t.prototype.disable=function t(){this.buttonPressed_=false;this.menu.unlockShowing();this.el_.setAttribute("aria-expanded","false");this.enabled_=false;return e.prototype.disable.call(this)};t.prototype.enable=function t(){this.enabled_=true;return e.prototype.enable.call(this)};return t}(i["default"]);o["default"].registerComponent("MenuButton",b);t["default"]=b},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=d(n);var a=r(6);var o=c(a);var s=r(5);var u=c(s);var l=r(23);var f=c(l);function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var y=function(e){v(t,e);function t(r,n){p(this,t);var i=h(this,e.call(this,r,n));i.focusedChild_=-1;i.on("keydown",i.handleKeyPress);return i}t.prototype.addItem=function e(t){this.addChild(t);t.on("click",u.bind(this,function(e){this.unlockShowing()}))};t.prototype.createEl=function t(){var r=this.options_.contentElType||"ul";this.contentEl_=o.createEl(r,{className:"vjs-menu-content"});this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});n.setAttribute("role","presentation");n.appendChild(this.contentEl_);f.on(n,"click",function(e){e.preventDefault();e.stopImmediatePropagation()});return n};t.prototype.handleKeyPress=function e(t){if(t.which===37||t.which===40){t.preventDefault();this.stepForward()}else if(t.which===38||t.which===39){t.preventDefault();this.stepBack()}};t.prototype.stepForward=function e(){var t=0;if(this.focusedChild_!==undefined){t=this.focusedChild_+1}this.focus(t)};t.prototype.stepBack=function e(){var t=0;if(this.focusedChild_!==undefined){t=this.focusedChild_-1}this.focus(t)};t.prototype.focus=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=this.children().slice();var n=r.length&&r[0].className&&/vjs-menu-title/.test(r[0].className);if(n){r.shift()}if(r.length>0){if(t<0){t=0}else if(t>=r.length){t=r.length-1}this.focusedChild_=t;r[t].el_.focus()}};return t}(i["default"]);i["default"].registerComponent("Menu",y);t["default"]=y},function(e,t,r){"use strict";t.__esModule=true;var n=r(6);var i=f(n);var a=r(5);var o=f(a);var s=r(1);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h="vjs-modal-dialog";var v=27;var y=function(e){p(t,e);function t(r,n){c(this,t);var a=d(this,e.call(this,r,n));a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=false;a.closeable(!a.options_.uncloseable);a.content(a.options_.content);a.contentEl_=i.createEl("div",{className:h+"-content"},{role:"document"});a.descEl_=i.createEl("p",{className:h+"-description vjs-offscreen",id:a.el().getAttribute("aria-describedby")});i.textContent(a.descEl_,a.description());a.el_.appendChild(a.descEl_);a.el_.appendChild(a.contentEl_);return a}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})};t.prototype.buildCSSClass=function t(){return h+" vjs-hidden "+e.prototype.buildCSSClass.call(this)};t.prototype.handleKeyPress=function e(t){if(t.which===v&&this.closeable()){this.close()}};t.prototype.label=function e(){return this.options_.label||this.localize("Modal Window")};t.prototype.description=function e(){var t=this.options_.description||this.localize("This is a modal window.");if(this.closeable()){t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")}return t};t.prototype.open=function e(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen");this.opened_=true;if(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_){this.fill()}this.wasPlaying_=!t.paused();if(this.options_.pauseOnOpen&&this.wasPlaying_){t.pause()}if(this.closeable()){this.on(this.el_.ownerDocument,"keydown",o.bind(this,this.handleKeyPress))}t.controls(false);this.show();this.el().setAttribute("aria-hidden","false");this.trigger("modalopen");this.hasBeenOpened_=true}return this};t.prototype.opened=function e(t){if(typeof t==="boolean"){this[t?"open":"close"]()}return this.opened_};t.prototype.close=function e(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose");this.opened_=false;if(this.wasPlaying_&&this.options_.pauseOnOpen){t.play()}if(this.closeable()){this.off(this.el_.ownerDocument,"keydown",o.bind(this,this.handleKeyPress))}t.controls(true);this.hide();this.el().setAttribute("aria-hidden","true");this.trigger("modalclose");if(this.options_.temporary){this.dispose()}}return this};t.prototype.closeable=function e(t){if(typeof t==="boolean"){var e=this.closeable_=!!t;var r=this.getChild("closeButton");if(e&&!r){var n=this.contentEl_;this.contentEl_=this.el_;r=this.addChild("closeButton",{controlText:"Close Modal Dialog"});this.contentEl_=n;this.on(r,"close",this.close)}if(!e&&r){this.off(r,"close",this.close);this.removeChild(r);r.dispose()}}return this.closeable_};t.prototype.fill=function e(){return this.fillWith(this.content())};t.prototype.fillWith=function e(t){var r=this.contentEl();var n=r.parentNode;var a=r.nextSibling;this.trigger("beforemodalfill");this.hasBeenFilled_=true;n.removeChild(r);this.empty();i.insertContent(r,t);this.trigger("modalfill");if(a){n.insertBefore(r,a)}else{n.appendChild(r)}return this};t.prototype.empty=function e(){this.trigger("beforemodalempty");i.emptyEl(this.contentEl());this.trigger("modalempty");return this};t.prototype.content=function e(t){if(typeof t!=="undefined"){this.content_=t}return this.content_};return t}(u["default"]);y.prototype.options_={pauseOnOpen:true,temporary:true};u["default"].registerComponent("ModalDialog",y);t["default"]=y},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=Y(n);var a=r(7);var o=Y(a);var s=r(8);var u=Y(s);var l=r(23);var f=K(l);var c=r(6);var d=K(c);var p=r(5);var h=K(p);var v=r(37);var y=K(v);var g=r(9);var m=K(g);var _=r(12);var b=Y(_);var T=r(38);var E=Y(T);var w=r(49);var S=r(147);var C=r(148);var O=K(C);var k=r(362);var P=Y(k);var x=r(139);var A=Y(x);var M=r(324);var I=Y(M);var R=r(11);var D=r(20);var j=Y(D);var L=r(378);var N=Y(L);var F=r(142);var B=Y(F);var U=r(48);var H=Y(U);var V=r(145);var q=Y(V);var G=r(146);var z=Y(G);r(372);r(370);r(367);r(377);r(363);r(328);r(329);r(332);r(360);r(380);r(371);function K(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function Y(e){return e&&e.__esModule?e:{default:e}}function W(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function X(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function Q(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var $=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"];var J=function(e){Q(t,e);function t(r,n,i){W(this,t);r.id=r.id||"vjs_video_"+y.newGUID();n=(0,R.assign)(t.getTagSettings(r),n);n.initChildren=false;n.createEl=false;n.reportTouchActivity=false;if(!n.language){if(typeof r.closest==="function"){var a=r.closest("[lang]");if(a){n.language=a.getAttribute("lang")}}else{var o=r;while(o&&o.nodeType===1){if(d.getElAttributes(o).hasOwnProperty("lang")){n.language=o.getAttribute("lang");break}o=o.parentNode}}}var s=X(this,e.call(this,null,n,i));if(!s.options_||!s.options_.techOrder||!s.options_.techOrder.length){throw new Error("No techOrder specified. Did you overwrite "+"videojs.options instead of just changing the "+"properties you want to override?")}s.tag=r;s.tagAttributes=r&&d.getElAttributes(r);s.language(s.options_.language);if(n.languages){var u={};Object.getOwnPropertyNames(n.languages).forEach(function(e){u[e.toLowerCase()]=n.languages[e]});s.languages_=u}else{s.languages_=t.prototype.options_.languages}s.cache_={};s.poster_=n.poster||"";s.controls_=!!n.controls;r.controls=false;s.scrubbing_=false;s.el_=s.createEl();var l=(0,j["default"])(s.options_);if(n.plugins){var f=n.plugins;Object.getOwnPropertyNames(f).forEach(function(e){if(typeof this[e]==="function"){this[e](f[e])}else{b["default"].error("Unable to find plugin:",e)}},s)}s.options_.playerOptions=l;s.initChildren();s.isAudio(r.nodeName.toLowerCase()==="audio");if(s.controls()){s.addClass("vjs-controls-enabled")}else{s.addClass("vjs-controls-disabled")}s.el_.setAttribute("role","region");if(s.isAudio()){s.el_.setAttribute("aria-label","audio player")}else{s.el_.setAttribute("aria-label","video player")}if(s.isAudio()){s.addClass("vjs-audio")}if(s.flexNotSupported_()){s.addClass("vjs-no-flex")}if(!m.IS_IOS){s.addClass("vjs-workinghover")}t.players[s.id_]=s;var c="5.20.3".split(".")[0];s.addClass("vjs-v"+c);s.userActive(true);s.reportUserActivity();s.listenForUserActivity_();s.on("fullscreenchange",s.handleFullscreenChange_);s.on("stageclick",s.handleStageClick_);return s}t.prototype.dispose=function r(){this.trigger("dispose");this.off("dispose");if(this.styleEl_&&this.styleEl_.parentNode){this.styleEl_.parentNode.removeChild(this.styleEl_)}t.players[this.id_]=null;if(this.tag&&this.tag.player){this.tag.player=null}if(this.el_&&this.el_.player){this.el_.player=null}if(this.tech_){this.tech_.dispose()}e.prototype.dispose.call(this)};t.prototype.createEl=function t(){var r=this.tag;var n=void 0;var i=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player");if(i){n=this.el_=r.parentNode}else{n=this.el_=e.prototype.createEl.call(this,"div")}r.setAttribute("tabindex","-1");r.removeAttribute("width");r.removeAttribute("height");var a=d.getElAttributes(r);Object.getOwnPropertyNames(a).forEach(function(e){if(e==="class"){n.className+=" "+a[e]}else{n.setAttribute(e,a[e])}});r.playerId=r.id;r.id+="_html5_api";r.className="vjs-tech";r.player=n.player=this;this.addClass("vjs-paused");if(u["default"].VIDEOJS_NO_DYNAMIC_STYLE!==true){this.styleEl_=O.createStyleElement("vjs-styles-dimensions");var o=d.$(".vjs-styles-defaults");var s=d.$("head");s.insertBefore(this.styleEl_,o?o.nextSibling:s.firstChild)}this.width(this.options_.width);this.height(this.options_.height);this.fluid(this.options_.fluid);this.aspectRatio(this.options_.aspectRatio);var l=r.getElementsByTagName("a");for(var f=0;f<l.length;f++){var c=l.item(f);d.addElClass(c,"vjs-hidden");c.setAttribute("hidden","hidden")}r.initNetworkState_=r.networkState;if(r.parentNode&&!i){r.parentNode.insertBefore(n,r)}d.insertElFirst(r,n);this.children_.unshift(r);this.el_=n;return n};t.prototype.width=function e(t){return this.dimension("width",t)};t.prototype.height=function e(t){return this.dimension("height",t)};t.prototype.dimension=function e(t,r){var n=t+"_";if(r===undefined){return this[n]||0}if(r===""){this[n]=undefined}else{var i=parseFloat(r);if(isNaN(i)){b["default"].error('Improper value "'+r+'" supplied for for '+t);return this}this[n]=i}this.updateStyleEl_();return this};t.prototype.fluid=function e(t){if(t===undefined){return!!this.fluid_}this.fluid_=!!t;if(t){this.addClass("vjs-fluid")}else{this.removeClass("vjs-fluid")}this.updateStyleEl_()};t.prototype.aspectRatio=function e(t){if(t===undefined){return this.aspectRatio_}if(!/^\d+\:\d+$/.test(t)){throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.")}this.aspectRatio_=t;this.fluid(true);this.updateStyleEl_()};t.prototype.updateStyleEl_=function e(){if(u["default"].VIDEOJS_NO_DYNAMIC_STYLE===true){var t=typeof this.width_==="number"?this.width_:this.options_.width;var r=typeof this.height_==="number"?this.height_:this.options_.height;var n=this.tech_&&this.tech_.el();if(n){if(t>=0){n.width=t}if(r>=0){n.height=r}}return}var i=void 0;var a=void 0;var o=void 0;var s=void 0;if(this.aspectRatio_!==undefined&&this.aspectRatio_!=="auto"){o=this.aspectRatio_}else if(this.videoWidth()>0){o=this.videoWidth()+":"+this.videoHeight()}else{o="16:9"}var l=o.split(":");var f=l[1]/l[0];if(this.width_!==undefined){i=this.width_}else if(this.height_!==undefined){i=this.height_/f}else{i=this.videoWidth()||300}if(this.height_!==undefined){a=this.height_}else{a=i*f}if(/^[^a-zA-Z]/.test(this.id())){s="dimensions-"+this.id()}else{s=this.id()+"-dimensions"}this.addClass(s);O.setTextContent(this.styleEl_,"\n      ."+s+" {\n        width: "+i+"px;\n        height: "+a+"px;\n      }\n\n      ."+s+".vjs-fluid {\n        padding-top: "+f*100+"%;\n      }\n    ")};t.prototype.loadTech_=function e(t,r){var n=this;if(this.tech_){this.unloadTech_()}if(t!=="Html5"&&this.tag){H["default"].getTech("Html5").disposeMediaElement(this.tag);this.tag.player=null;this.tag=null}this.techName_=t;this.isReady_=false;var a=(0,R.assign)({source:r,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+t+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||false,"vtt.js":this.options_["vtt.js"]},this.options_[t.toLowerCase()]);if(this.tag){a.tag=this.tag}if(r){this.currentType_=r.type;if(r.src===this.cache_.src&&this.cache_.currentTime>0){a.startTime=this.cache_.currentTime}this.cache_.sources=null;this.cache_.source=r;this.cache_.src=r.src}var o=H["default"].getTech(t);if(!o){o=i["default"].getComponent(t)}this.tech_=new o(a);this.tech_.ready(h.bind(this,this.handleTechReady_),true);N["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_);$.forEach(function(e){n.on(n.tech_,e,n["handleTech"+(0,E["default"])(e)+"_"])});this.on(this.tech_,"loadstart",this.handleTechLoadStart_);this.on(this.tech_,"waiting",this.handleTechWaiting_);this.on(this.tech_,"canplay",this.handleTechCanPlay_);this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_);this.on(this.tech_,"playing",this.handleTechPlaying_);this.on(this.tech_,"ended",this.handleTechEnded_);this.on(this.tech_,"seeking",this.handleTechSeeking_);this.on(this.tech_,"seeked",this.handleTechSeeked_);this.on(this.tech_,"play",this.handleTechPlay_);this.on(this.tech_,"firstplay",this.handleTechFirstPlay_);this.on(this.tech_,"pause",this.handleTechPause_);this.on(this.tech_,"durationchange",this.handleTechDurationChange_);this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_);this.on(this.tech_,"error",this.handleTechError_);this.on(this.tech_,"loadedmetadata",this.updateStyleEl_);this.on(this.tech_,"posterchange",this.handleTechPosterChange_);this.on(this.tech_,"textdata",this.handleTechTextData_);this.usingNativeControls(this.techGet_("controls"));if(this.controls()&&!this.usingNativeControls()){this.addTechControlsListeners_()}if(this.tech_.el().parentNode!==this.el()&&(t!=="Html5"||!this.tag)){d.insertElFirst(this.tech_.el(),this.el())}if(this.tag){this.tag.player=null;this.tag=null}};t.prototype.unloadTech_=function e(){this.videoTracks_=this.videoTracks();this.textTracks_=this.textTracks();this.audioTracks_=this.audioTracks();this.textTracksJson_=N["default"].textTracksToJson(this.tech_);this.isReady_=false;this.tech_.dispose();this.tech_=false};t.prototype.tech=function e(t){if(t&&t.IWillNotUseThisInPlugins){return this.tech_}var r="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";u["default"].alert(r);throw new Error(r)};t.prototype.addTechControlsListeners_=function e(){this.removeTechControlsListeners_();this.on(this.tech_,"mousedown",this.handleTechClick_);this.on(this.tech_,"touchstart",this.handleTechTouchStart_);this.on(this.tech_,"touchmove",this.handleTechTouchMove_);this.on(this.tech_,"touchend",this.handleTechTouchEnd_);this.on(this.tech_,"tap",this.handleTechTap_)};t.prototype.removeTechControlsListeners_=function e(){this.off(this.tech_,"tap",this.handleTechTap_);this.off(this.tech_,"touchstart",this.handleTechTouchStart_);this.off(this.tech_,"touchmove",this.handleTechTouchMove_);this.off(this.tech_,"touchend",this.handleTechTouchEnd_);this.off(this.tech_,"mousedown",this.handleTechClick_)};t.prototype.handleTechReady_=function e(){this.triggerReady();if(this.cache_.volume){this.techCall_("setVolume",this.cache_.volume)}this.handleTechPosterChange_();this.handleTechDurationChange_();if((this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){(0,b["default"])("deleting tag.poster throws in some browsers",e)}this.play()}};t.prototype.handleTechLoadStart_=function e(){this.removeClass("vjs-ended");this.removeClass("vjs-seeking");this.error(null);if(!this.paused()){this.trigger("loadstart");this.trigger("firstplay")}else{this.hasStarted(false);this.trigger("loadstart")}};t.prototype.hasStarted=function e(t){if(t!==undefined){if(this.hasStarted_!==t){this.hasStarted_=t;if(t){this.addClass("vjs-has-started");this.trigger("firstplay")}else{this.removeClass("vjs-has-started")}}return this}return!!this.hasStarted_};t.prototype.handleTechPlay_=function e(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.hasStarted(true);this.trigger("play")};t.prototype.handleTechWaiting_=function e(){var t=this;this.addClass("vjs-waiting");this.trigger("waiting");this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})};t.prototype.handleTechCanPlay_=function e(){this.removeClass("vjs-waiting");this.trigger("canplay")};t.prototype.handleTechCanPlayThrough_=function e(){this.removeClass("vjs-waiting");this.trigger("canplaythrough")};t.prototype.handleTechPlaying_=function e(){this.removeClass("vjs-waiting");this.trigger("playing")};t.prototype.handleTechSeeking_=function e(){this.addClass("vjs-seeking");this.trigger("seeking")};t.prototype.handleTechSeeked_=function e(){this.removeClass("vjs-seeking");this.trigger("seeked")};t.prototype.handleTechFirstPlay_=function e(){if(this.options_.starttime){b["default"].warn("Passing the `starttime` option to the player will be deprecated in 6.0");this.currentTime(this.options_.starttime)}this.addClass("vjs-has-started");this.trigger("firstplay")};t.prototype.handleTechPause_=function e(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.trigger("pause")};t.prototype.handleTechEnded_=function e(){this.addClass("vjs-ended");if(this.options_.loop){this.currentTime(0);this.play()}else if(!this.paused()){this.pause()}this.trigger("ended")};t.prototype.handleTechDurationChange_=function e(){this.duration(this.techGet_("duration"))};t.prototype.handleTechClick_=function e(t){if(t.button!==0){return}if(this.controls()){if(this.paused()){this.play()}else{this.pause()}}};t.prototype.handleTechTap_=function e(){this.userActive(!this.userActive())};t.prototype.handleTechTouchStart_=function e(){this.userWasActive=this.userActive()};t.prototype.handleTechTouchMove_=function e(){if(this.userWasActive){this.reportUserActivity()}};t.prototype.handleTechTouchEnd_=function e(t){t.preventDefault()};t.prototype.handleFullscreenChange_=function e(){if(this.isFullscreen()){this.addClass("vjs-fullscreen")}else{this.removeClass("vjs-fullscreen")}};t.prototype.handleStageClick_=function e(){this.reportUserActivity()};t.prototype.handleTechFullscreenChange_=function e(t,r){if(r){this.isFullscreen(r.isFullscreen)}this.trigger("fullscreenchange")};t.prototype.handleTechError_=function e(){var t=this.tech_.error();this.error(t)};t.prototype.handleTechTextData_=function e(){var t=null;if(arguments.length>1){t=arguments[1]}this.trigger("textdata",t)};t.prototype.getCache=function e(){return this.cache_};t.prototype.techCall_=function e(t,r){if(this.tech_&&!this.tech_.isReady_){this.tech_.ready(function(){this[t](r)},true)}else{try{if(this.tech_){this.tech_[t](r)}}catch(e){(0,b["default"])(e);throw e}}};t.prototype.techGet_=function e(t){if(this.tech_&&this.tech_.isReady_){try{return this.tech_[t]()}catch(e){if(this.tech_[t]===undefined){(0,b["default"])("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e)}else if(e.name==="TypeError"){(0,b["default"])("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e);this.tech_.isReady_=false}else{(0,b["default"])(e)}throw e}}return};t.prototype.play=function e(){if(this.src()||this.currentSrc()){this.techCall_("play")}else{this.tech_.one("loadstart",function(){this.play()})}return this};t.prototype.pause=function e(){this.techCall_("pause");return this};t.prototype.paused=function e(){return this.techGet_("paused")===false?false:true};t.prototype.scrubbing=function e(t){if(t!==undefined){this.scrubbing_=!!t;if(t){this.addClass("vjs-scrubbing")}else{this.removeClass("vjs-scrubbing")}return this}return this.scrubbing_};t.prototype.currentTime=function e(t){if(t!==undefined){this.techCall_("setCurrentTime",t);return this}this.cache_.currentTime=this.techGet_("currentTime")||0;return this.cache_.currentTime};t.prototype.duration=function e(t){if(t===undefined){return this.cache_.duration!==undefined?this.cache_.duration:NaN}t=parseFloat(t);if(t<0){t=Infinity}if(t!==this.cache_.duration){this.cache_.duration=t;if(t===Infinity){this.addClass("vjs-live")}else{this.removeClass("vjs-live")}this.trigger("durationchange")}return this};t.prototype.remainingTime=function e(){return this.duration()-this.currentTime()};t.prototype.buffered=function e(){var e=this.techGet_("buffered");if(!e||!e.length){e=(0,w.createTimeRange)(0,0)}return e};t.prototype.bufferedPercent=function e(){return(0,S.bufferedPercent)(this.buffered(),this.duration())};t.prototype.bufferedEnd=function e(){var t=this.buffered();var r=this.duration();var n=t.end(t.length-1);if(n>r){n=r}return n};t.prototype.volume=function e(t){var r=void 0;if(t!==undefined){r=Math.max(0,Math.min(1,parseFloat(t)));this.cache_.volume=r;this.techCall_("setVolume",r);return this}r=parseFloat(this.techGet_("volume"));return isNaN(r)?1:r};t.prototype.muted=function e(t){if(t!==undefined){this.techCall_("setMuted",t);return this}return this.techGet_("muted")||false};t.prototype.supportsFullScreen=function e(){return this.techGet_("supportsFullScreen")||false};t.prototype.isFullscreen=function e(t){if(t!==undefined){this.isFullscreen_=!!t;return this}return!!this.isFullscreen_};t.prototype.requestFullscreen=function e(){var t=P["default"];this.isFullscreen(true);if(t.requestFullscreen){f.on(o["default"],t.fullscreenchange,h.bind(this,function e(r){this.isFullscreen(o["default"][t.fullscreenElement]);if(this.isFullscreen()===false){f.off(o["default"],t.fullscreenchange,e)}this.trigger("fullscreenchange")}));this.el_[t.requestFullscreen]()}else if(this.tech_.supportsFullScreen()){this.techCall_("enterFullScreen")}else{this.enterFullWindow();this.trigger("fullscreenchange")}return this};t.prototype.exitFullscreen=function e(){var t=P["default"];this.isFullscreen(false);if(t.requestFullscreen){o["default"][t.exitFullscreen]()}else if(this.tech_.supportsFullScreen()){this.techCall_("exitFullScreen")}else{this.exitFullWindow();this.trigger("fullscreenchange")}return this};t.prototype.enterFullWindow=function e(){this.isFullWindow=true;this.docOrigOverflow=o["default"].documentElement.style.overflow;f.on(o["default"],"keydown",h.bind(this,this.fullWindowOnEscKey));o["default"].documentElement.style.overflow="hidden";d.addElClass(o["default"].body,"vjs-full-window");this.trigger("enterFullWindow")};t.prototype.fullWindowOnEscKey=function e(t){if(t.keyCode===27){if(this.isFullscreen()===true){this.exitFullscreen()}else{this.exitFullWindow()}}};t.prototype.exitFullWindow=function e(){this.isFullWindow=false;f.off(o["default"],"keydown",this.fullWindowOnEscKey);o["default"].documentElement.style.overflow=this.docOrigOverflow;d.removeElClass(o["default"].body,"vjs-full-window");this.trigger("exitFullWindow")};t.prototype.canPlayType=function e(t){var r=void 0;for(var n=0,a=this.options_.techOrder;n<a.length;n++){var o=(0,E["default"])(a[n]);var s=H["default"].getTech(o);if(!s){s=i["default"].getComponent(o)}if(!s){b["default"].error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.');continue}if(s.isSupported()){r=s.canPlayType(t);if(r){return r}}}return""};t.prototype.selectSource=function e(t){var r=this;var n=this.options_.techOrder.map(E["default"]).map(function(e){return[e,H["default"].getTech(e)||i["default"].getComponent(e)]}).filter(function(e){var t=e[0],r=e[1];if(r){return r.isSupported()}b["default"].error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.');return false});var a=function e(t,r,n){var i=void 0;t.some(function(e){return r.some(function(t){i=n(e,t);if(i){return true}})});return i};var o=void 0;var s=function e(t){return function(e,r){return t(r,e)}};var u=function e(t,n){var i=t[0],a=t[1];if(a.canPlaySource(n,r.options_[i.toLowerCase()])){return{source:n,tech:i}}};if(this.options_.sourceOrder){o=a(t,n,s(u))}else{o=a(n,t,u)}return o||false};t.prototype.src=function e(t){if(t===undefined){return this.techGet_("src")}var r=H["default"].getTech(this.techName_);if(!r){r=i["default"].getComponent(this.techName_)}if(Array.isArray(t)){this.sourceList_(t)}else if(typeof t==="string"){this.src({src:t})}else if(t instanceof Object){if(t.type&&!r.canPlaySource(t,this.options_[this.techName_.toLowerCase()])){this.sourceList_([t])}else{this.cache_.sources=null;this.cache_.source=t;this.cache_.src=t.src;this.currentType_=t.type||"";this.ready(function(){if(r.prototype.hasOwnProperty("setSource")){this.techCall_("setSource",t)}else{this.techCall_("src",t.src)}if(this.options_.preload==="auto"){this.load()}if(this.options_.autoplay){this.play()}},true)}}return this};t.prototype.sourceList_=function e(t){var r=this.selectSource(t);if(r){if(r.tech===this.techName_){this.src(r.source)}else{this.loadTech_(r.tech,r.source)}this.cache_.sources=t}else{this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);this.triggerReady()}};t.prototype.load=function e(){this.techCall_("load");return this};t.prototype.reset=function e(){this.loadTech_((0,E["default"])(this.options_.techOrder[0]),null);this.techCall_("reset");return this};t.prototype.currentSources=function e(){var t=this.currentSource();var r=[];if(Object.keys(t).length!==0){r.push(t)}return this.cache_.sources||r};t.prototype.currentSource=function e(){var t={};var r=this.currentSrc();if(r){t.src=r}return this.cache_.source||t};t.prototype.currentSrc=function e(){return this.techGet_("currentSrc")||this.cache_.src||""};t.prototype.currentType=function e(){return this.currentType_||""};t.prototype.preload=function e(t){if(t!==undefined){this.techCall_("setPreload",t);this.options_.preload=t;return this}return this.techGet_("preload")};t.prototype.autoplay=function e(t){if(t!==undefined){this.techCall_("setAutoplay",t);this.options_.autoplay=t;return this}return this.techGet_("autoplay",t)};t.prototype.playsinline=function e(t){if(t!==undefined){this.techCall_("setPlaysinline",t);this.options_.playsinline=t;return this}return this.techGet_("playsinline")};t.prototype.loop=function e(t){if(t!==undefined){this.techCall_("setLoop",t);this.options_.loop=t;return this}return this.techGet_("loop")};t.prototype.poster=function e(t){if(t===undefined){return this.poster_}if(!t){t=""}this.poster_=t;this.techCall_("setPoster",t);this.trigger("posterchange");return this};t.prototype.handleTechPosterChange_=function e(){if(!this.poster_&&this.tech_&&this.tech_.poster){this.poster_=this.tech_.poster()||"";this.trigger("posterchange")}};t.prototype.controls=function e(t){if(t!==undefined){t=!!t;if(this.controls_!==t){this.controls_=t;if(this.usingNativeControls()){this.techCall_("setControls",t)}if(t){this.removeClass("vjs-controls-disabled");this.addClass("vjs-controls-enabled");this.trigger("controlsenabled");if(!this.usingNativeControls()){this.addTechControlsListeners_()}}else{this.removeClass("vjs-controls-enabled");this.addClass("vjs-controls-disabled");this.trigger("controlsdisabled");if(!this.usingNativeControls()){this.removeTechControlsListeners_()}}}return this}return!!this.controls_};t.prototype.usingNativeControls=function e(t){if(t!==undefined){t=!!t;if(this.usingNativeControls_!==t){this.usingNativeControls_=t;if(t){this.addClass("vjs-using-native-controls");this.trigger("usingnativecontrols")}else{this.removeClass("vjs-using-native-controls");this.trigger("usingcustomcontrols")}}return this}return!!this.usingNativeControls_};t.prototype.error=function e(t){if(t===undefined){return this.error_||null}if(t===null){this.error_=t;this.removeClass("vjs-error");if(this.errorDisplay){this.errorDisplay.close()}return this}this.error_=new A["default"](t);this.addClass("vjs-error");b["default"].error("(CODE:"+this.error_.code+" "+A["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_);this.trigger("error");return this};t.prototype.reportUserActivity=function e(t){this.userActivity_=true};t.prototype.userActive=function e(t){if(t!==undefined){t=!!t;if(t!==this.userActive_){this.userActive_=t;if(t){this.userActivity_=true;this.removeClass("vjs-user-inactive");this.addClass("vjs-user-active");this.trigger("useractive")}else{this.userActivity_=false;if(this.tech_){this.tech_.one("mousemove",function(e){e.stopPropagation();e.preventDefault()})}this.removeClass("vjs-user-active");this.addClass("vjs-user-inactive");this.trigger("userinactive")}}return this}return this.userActive_};t.prototype.listenForUserActivity_=function e(){var t=void 0;var r=void 0;var n=void 0;var i=h.bind(this,this.reportUserActivity);var a=function e(t){if(t.screenX!==r||t.screenY!==n){r=t.screenX;n=t.screenY;i()}};var o=function e(){i();this.clearInterval(t);t=this.setInterval(i,250)};var s=function e(r){i();this.clearInterval(t)};this.on("mousedown",o);this.on("mousemove",a);this.on("mouseup",s);this.on("keydown",i);this.on("keyup",i);var u=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=false;this.userActive(true);this.clearTimeout(u);var e=this.options_.inactivityTimeout;if(e>0){u=this.setTimeout(function(){if(!this.userActivity_){this.userActive(false)}},e)}}},250)};t.prototype.playbackRate=function e(t){if(t!==undefined){this.techCall_("setPlaybackRate",t);return this}if(this.tech_&&this.tech_.featuresPlaybackRate){return this.techGet_("playbackRate")}return 1};t.prototype.isAudio=function e(t){if(t!==undefined){this.isAudio_=!!t;return this}return!!this.isAudio_};t.prototype.videoTracks=function e(){if(!this.tech_){this.videoTracks_=this.videoTracks_||new z["default"];return this.videoTracks_}return this.tech_.videoTracks()};t.prototype.audioTracks=function e(){if(!this.tech_){this.audioTracks_=this.audioTracks_||new q["default"];return this.audioTracks_}return this.tech_.audioTracks()};t.prototype.textTracks=function e(){if(this.tech_){return this.tech_.textTracks()}};t.prototype.remoteTextTracks=function e(){if(this.tech_){return this.tech_.remoteTextTracks()}};t.prototype.remoteTextTrackEls=function e(){if(this.tech_){return this.tech_.remoteTextTrackEls()}};t.prototype.addTextTrack=function e(t,r,n){if(this.tech_){return this.tech_.addTextTrack(t,r,n)}};t.prototype.addRemoteTextTrack=function e(t,r){if(this.tech_){return this.tech_.addRemoteTextTrack(t,r)}};t.prototype.removeRemoteTextTrack=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.track,n=r===undefined?arguments[0]:r;if(this.tech_){return this.tech_.removeRemoteTextTrack(n)}};t.prototype.getVideoPlaybackQuality=function e(){return this.techGet_("getVideoPlaybackQuality")};t.prototype.videoWidth=function e(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0};t.prototype.videoHeight=function e(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0};t.prototype.language=function e(t){if(t===undefined){return this.language_}this.language_=String(t).toLowerCase();return this};t.prototype.languages=function e(){return(0,j["default"])(t.prototype.options_.languages,this.languages_)};t.prototype.toJSON=function e(){var t=(0,j["default"])(this.options_);var r=t.tracks;t.tracks=[];for(var n=0;n<r.length;n++){var i=r[n];i=(0,j["default"])(i);i.player=undefined;t.tracks[n]=i}return t};t.prototype.createModal=function e(t,r){var n=this;r=r||{};r.content=t||"";var i=new B["default"](this,r);this.addChild(i);i.on("dispose",function(){n.removeChild(i)});return i.open()};t.getTagSettings=function e(t){var r={sources:[],tracks:[]};var n=d.getElAttributes(t);var i=n["data-setup"];if(d.hasElClass(t,"vjs-fluid")){n.fluid=true}if(i!==null){var a=(0,I["default"])(i||"{}"),o=a[0],s=a[1];if(o){b["default"].error(o)}(0,R.assign)(n,s)}(0,R.assign)(r,n);if(t.hasChildNodes()){var u=t.childNodes;for(var l=0,f=u.length;l<f;l++){var c=u[l];var p=c.nodeName.toLowerCase();if(p==="source"){r.sources.push(d.getElAttributes(c))}else if(p==="track"){r.tracks.push(d.getElAttributes(c))}}}return r};t.prototype.flexNotSupported_=function e(){var t=o["default"].createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)};return t}(i["default"]);J.players={};var Z=u["default"].navigator;J.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Z&&(Z.languages&&Z.languages[0]||Z.userLanguage||Z.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."};["ended","seeking","seekable","networkState","readyState"].forEach(function(e){J.prototype[e]=function(){return this.techGet_(e)}});$.forEach(function(e){J.prototype["handleTech"+(0,E["default"])(e)+"_"]=function(){return this.trigger(e)}});i["default"].registerComponent("Player",J);t["default"]=J},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=l(n);var a=r(6);var o=u(a);var s=r(11);function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var p=function(e){d(t,e);function t(r,n){f(this,t);var i=c(this,e.call(this,r,n));i.bar=i.getChild(i.options_.barName);i.vertical(!!i.options_.vertical);i.on("mousedown",i.handleMouseDown);i.on("touchstart",i.handleMouseDown);i.on("focus",i.handleFocus);i.on("blur",i.handleBlur);i.on("click",i.handleClick);i.on(r,"controlsvisible",i.update);i.on(r,i.playerEvent,i.update);return i}t.prototype.createEl=function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};n.className=n.className+" vjs-slider";n=(0,s.assign)({tabIndex:0},n);i=(0,s.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i);return e.prototype.createEl.call(this,r,n,i)};t.prototype.handleMouseDown=function e(t){var r=this.bar.el_.ownerDocument;t.preventDefault();o.blockTextSelection();this.addClass("vjs-sliding");this.trigger("slideractive");this.on(r,"mousemove",this.handleMouseMove);this.on(r,"mouseup",this.handleMouseUp);this.on(r,"touchmove",this.handleMouseMove);this.on(r,"touchend",this.handleMouseUp);this.handleMouseMove(t)};t.prototype.handleMouseMove=function e(t){};t.prototype.handleMouseUp=function e(){var t=this.bar.el_.ownerDocument;o.unblockTextSelection();this.removeClass("vjs-sliding");this.trigger("sliderinactive");this.off(t,"mousemove",this.handleMouseMove);this.off(t,"mouseup",this.handleMouseUp);this.off(t,"touchmove",this.handleMouseMove);this.off(t,"touchend",this.handleMouseUp);this.update()};t.prototype.update=function e(){if(!this.el_){return}var t=this.getPercent();var r=this.bar;if(!r){return}if(typeof t!=="number"||t!==t||t<0||t===Infinity){t=0}var n=(t*100).toFixed(2)+"%";if(this.vertical()){r.el().style.height=n}else{r.el().style.width=n}};t.prototype.calculateDistance=function e(t){var r=o.getPointerPosition(this.el_,t);if(this.vertical()){return r.y}return r.x};t.prototype.handleFocus=function e(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)};t.prototype.handleKeyPress=function e(t){if(t.which===37||t.which===40){t.preventDefault();this.stepBack()}else if(t.which===38||t.which===39){t.preventDefault();this.stepForward()}};t.prototype.handleBlur=function e(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)};t.prototype.handleClick=function e(t){t.stopImmediatePropagation();t.preventDefault()};t.prototype.vertical=function e(t){if(t===undefined){return this.vertical_||false}this.vertical_=!!t;if(this.vertical_){this.addClass("vjs-slider-vertical")}else{this.addClass("vjs-slider-horizontal")}return this};return t}(i["default"]);i["default"].registerComponent("Slider",p);t["default"]=p},function(e,t,r){"use strict";t.__esModule=true;var n=r(97);var i=f(n);var a=r(9);var o=l(a);var s=r(7);var u=f(s);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function e(t,r){for(var n=0;n<t.length;n++){if(r.id===t[n].id){continue}t[n].enabled=false}};var v=function(e){p(t,e);function t(){var r,n;var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];c(this,t);var s=void 0;for(var l=a.length-1;l>=0;l--){if(a[l].enabled){h(a,a[l]);break}}if(o.IS_IE8){s=u["default"].createElement("custom");for(var f in i["default"].prototype){if(f!=="constructor"){s[f]=i["default"].prototype[f]}}for(var p in t.prototype){if(p!=="constructor"){s[p]=t.prototype[p]}}}s=(r=d(this,e.call(this,a,s)),r);s.changing_=false;return n=s,d(r,n)}t.prototype.addTrack_=function t(r){var n=this;if(r.enabled){h(this,r)}e.prototype.addTrack_.call(this,r);if(!r.addEventListener){return}r.addEventListener("enabledchange",function(){if(n.changing_){return}n.changing_=true;h(n,r);n.changing_=false;n.trigger("change")})};t.prototype.addTrack=function e(t){this.addTrack_(t)};t.prototype.removeTrack=function t(r){e.prototype.removeTrack_.call(this,r)};return t}(i["default"]);t["default"]=v},function(e,t,r){"use strict";t.__esModule=true;var n=r(97);var i=f(n);var a=r(9);var o=l(a);var s=r(7);var u=f(s);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function e(t,r){for(var n=0;n<t.length;n++){if(r.id===t[n].id){continue}t[n].selected=false}};var v=function(e){p(t,e);function t(){var r,n;var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];c(this,t);var s=void 0;for(var l=a.length-1;l>=0;l--){if(a[l].selected){h(a,a[l]);break}}if(o.IS_IE8){s=u["default"].createElement("custom");for(var f in i["default"].prototype){if(f!=="constructor"){s[f]=i["default"].prototype[f]}}for(var p in t.prototype){if(p!=="constructor"){s[p]=t.prototype[p]}}}s=(r=d(this,e.call(this,a,s)),r);s.changing_=false;Object.defineProperty(s,"selectedIndex",{get:function e(){for(var t=0;t<this.length;t++){if(this[t].selected){return t}}return-1},set:function e(){}});return n=s,d(r,n)}t.prototype.addTrack_=function t(r){var n=this;if(r.selected){h(this,r)}e.prototype.addTrack_.call(this,r);if(!r.addEventListener){return}r.addEventListener("selectedchange",function(){if(n.changing_){return}n.changing_=true;h(n,r);n.changing_=false;n.trigger("change")})};t.prototype.addTrack=function e(t){this.addTrack_(t)};t.prototype.removeTrack=function t(r){e.prototype.removeTrack_.call(this,r)};return t}(i["default"]);t["default"]=v},function(e,t,r){"use strict";t.__esModule=true;t.bufferedPercent=i;var n=r(49);function i(e,t){var r=0;var i=void 0;var a=void 0;if(!t){return 0}if(!e||!e.length){e=(0,n.createTimeRange)(0,0)}for(var o=0;o<e.length;o++){i=e.start(o);a=e.end(o);if(a>t){a=t}r+=a-i}return r/t}},function(e,t,r){"use strict";t.__esModule=true;t.setTextContent=t.createStyleElement=undefined;var n=r(7);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=t.createStyleElement=function e(t){var r=i["default"].createElement("style");r.className=t;return r};var s=t.setTextContent=function e(t,r){if(t.styleSheet){t.styleSheet.cssText=r}else{t.textContent=r}}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(1,eval)("this")}catch(e){if(typeof window==="object")r=window}e.exports=r},function(e,t,r){"use strict";var n=r(390);var i=r(134);var a=r(322);var o=r(391);e.exports=f;f.XMLHttpRequest=n.XMLHttpRequest||p;f.XDomainRequest="withCredentials"in new f.XMLHttpRequest?f.XMLHttpRequest:n.XDomainRequest;s(["get","put","post","patch","head","delete"],function(e){f[e==="delete"?"del":e]=function(t,r,n){r=l(t,r,n);r.method=e.toUpperCase();return c(r)}});function s(e,t){for(var r=0;r<e.length;r++){t(e[r])}}function u(e){for(var t in e){if(e.hasOwnProperty(t))return false}return true}function l(e,t,r){var n=e;if(i(t)){r=t;if(typeof e==="string"){n={uri:e}}}else{n=o(t,{uri:e})}n.callback=r;return n}function f(e,t,r){t=l(e,t,r);return c(t)}function c(e){if(typeof e.callback==="undefined"){throw new Error("callback argument missing")}var t=false;var r=function r(n,i,a){if(!t){t=true;e.callback(n,i,a)}};function n(){if(c.readyState===4){l()}}function i(){var e=undefined;if(c.response){e=c.response}else{e=c.responseText||d(c)}if(b){try{e=JSON.parse(e)}catch(e){}}return e}var o={body:undefined,headers:{},statusCode:0,method:y,url:v,rawRequest:c};function s(e){clearTimeout(T);if(!(e instanceof Error)){e=new Error(""+(e||"Unknown XMLHttpRequest Error"))}e.statusCode=0;return r(e,o)}function l(){if(h)return;var t;clearTimeout(T);if(e.useXDR&&c.status===undefined){t=200}else{t=c.status===1223?204:c.status}var n=o;var s=null;if(t!==0){n={body:i(),statusCode:t,method:y,headers:{},url:v,rawRequest:c};if(c.getAllResponseHeaders){n.headers=a(c.getAllResponseHeaders())}}else{s=new Error("Internal XMLHttpRequest Error")}return r(s,n,n.body)}var c=e.xhr||null;if(!c){if(e.cors||e.useXDR){c=new f.XDomainRequest}else{c=new f.XMLHttpRequest}}var p;var h;var v=c.url=e.uri||e.url;var y=c.method=e.method||"GET";var g=e.body||e.data||null;var m=c.headers=e.headers||{};var _=!!e.sync;var b=false;var T;if("json"in e){b=true;m["accept"]||m["Accept"]||(m["Accept"]="application/json");if(y!=="GET"&&y!=="HEAD"){m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json");g=JSON.stringify(e.json)}}c.onreadystatechange=n;c.onload=l;c.onerror=s;c.onprogress=function(){};c.ontimeout=s;c.open(y,v,!_,e.username,e.password);if(!_){c.withCredentials=!!e.withCredentials}if(!_&&e.timeout>0){T=setTimeout(function(){h=true;c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT";s(e)},e.timeout)}if(c.setRequestHeader){for(p in m){if(m.hasOwnProperty(p)){c.setRequestHeader(p,m[p])}}}else if(e.headers&&!u(e.headers)){throw new Error("Headers cannot be set on an XDomainRequest object")}if("responseType"in e){c.responseType=e.responseType}if("beforeSend"in e&&typeof e.beforeSend==="function"){e.beforeSend(c)}c.send(g);return c}function d(e){if(e.responseType==="document"){return e.responseXML}var t=e.status===204&&e.responseXML&&e.responseXML.documentElement.nodeName==="parsererror";if(e.responseType===""&&!t){return e.responseXML}return null}function p(){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(100);var i=c(n);var a=r(17);var o=c(a);var s=r(18);var u=c(s);r(389);var l=r(102);var f=c(l);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){(0,o.default)(this,e);if(!t.apikey){throw new Error("apikey is missing")}if(!t.token){throw new Error("token is missing")}this.env=t.env?t.env:"production";this.apikey=t.apikey;this.token=t.token;this.apiUrl={beta:{napi:"http://api-beta.napster.com/v2.2/"},production:{napi:"https://api.napster.com/v2.2/"}}}(0,u.default)(e,[{key:"request",value:function t(r,n){if(!r){throw new Error("path is missing")}if(!n){throw new Error("options argument is missing")}if(!n.method){throw new Error("options.method is missing")}var a=""+this.apiUrl[this.env].napi+r;if(n.queryparams){a+="?"+f.default.stringify(n.queryparams)}var o={method:n.method,headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}};if(n.body){o.body=(0,i.default)(n.body)}return window.fetch(a,o).then(e.checkStatus).then(function(e){return e.text()}).then(function(e){return e?JSON.parse(e):{}})}},{key:"playbackSessionPrepare",value:function e(){var t={method:"POST"};return this.request("sessions",t)}},{key:"playbackSessionValidate",value:function e(t){var r={method:"GET",queryparams:{trackId:t.trackId,context:t.context}};return this.request("sessions/"+t.sessionId,r)}},{key:"playbackSessionManage",value:function e(t){var r=this;return this.playbackSessionValidate(t).catch(function(e){var t=JSON.parse(e.message);if(t.status&&t.status===403){throw e}return r.playbackSessionPrepare()})}},{key:"streamsGet",value:function e(t){var r={method:"GET",queryparams:{track:t.trackId,format:t.format,bitrate:t.bitrate,protocol:t.protocol}};return this.request("streams",r)}},{key:"trackGet",value:function e(t){var r={method:"GET"};return this.request("tracks/"+t.trackId,r)}},{key:"eventPost",value:function e(t){var r={method:"POST",body:t.body};return this.request("events",r)}}],[{key:"checkStatus",value:function e(t){if(t.status>=200&&t.status<300){return t}var r={status:t.status,statusText:t.statusText,url:t.url};var n=new Error((0,i.default)(r));n.response=t;throw n}}]);return e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17);var i=s(n);var a=r(18);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){(0,i.default)(this,e);this.reset(t)}(0,o.default)(e,[{key:"reset",value:function e(t){if(!t||!t.apikey){throw new Error("options.apikey is missing")}this.api="https://api.napster.com";this.apiVersion="v2.2";this.apikey=t.apikey;this.currentUser=t.currentUser||{};this.playerId=t.id||"napster-streaming-player";this.format=t.format||"AAC";this.bitrate=t.bitrate||192;this.downgrade=t.downgrade||true;this.volume=t.volume||window.localStorage.getItem("volume")||.65}}]);return e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17);var i=s(n);var a=r(18);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){(0,i.default)(this,e);this.enable=false;if(t&&t.enable){this.enable=t.enable}}(0,o.default)(e,[{key:"log",value:function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}if(!this.enable){return false}if(!r){return true}console.log(r);return true}}]);return e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17);var i=s(n);var a=r(18);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,i.default)(this,e);this.regexes={Artist:/^\s*(Art\.\d+)\s*$/i,Track:/^\s*(Tra\.\d+)\s*$/i,Album:/^\s*(Alb\.\d+)\s*$/i,Review:/^\s*(RevAl\.\d+)\s*$/i,Genre:/^\s*(g\.\d+)\s*$/i,Post:/^\s*(po\.\d+)\s*$/i,SingleArtistStation:/^\s*(sas\.\d+)\s*$/i,Station:/^\s*((p|sa|ma|sma|st|mt|smt)s\.\d+)\s*$/i,Playlist:/^\s*((m|p)p\.\d+)\s*$/i,Tag:/^\s*(tag\.\d+)\s*$/i,Radio:/^\s*(ts\.\d+)\s*$/i,MemberGuid:/^[0-9A-F]{32}$/,MemberPlaylist:/^\s*(mp\.\d+)\s*$/i,PublishedPlaylist:/^\s*(pp\.\d+)\s*$/i};this.validMonikerTypes=["Artist","Track","Album","Review","Genre","Post","SingleArtistStation","Station","Playlist","Tag","Radio","MemberGuid","MemberPlaylist","PublishedPlaylist"]}(0,o.default)(e,[{key:"validate",value:function e(t,r){if(!t||!r||!this.validMonikerTypes.includes(r)){return false}return t.match(this.validMonikerTypes[r])}}]);return e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17);var i=s(n);var a=r(18);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,i.default)(this,e);this.reset()}(0,o.default)(e,[{key:"reset",value:function e(){this.startTime=0;this.playedAt=0;this.pausedAt=0}},{key:"renewStartTime",value:function e(t){this.startTime=this.startTime+(this.pausedAt-this.playedAt)/1e3}}]);return e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17);var i=l(n);var a=r(18);var o=l(a);var s=r(165);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(){(0,i.default)(this,e)}(0,o.default)(e,null,[{key:"hlsOrMpd",value:function e(){return this.isHls()?this.isHls():this.isMpd()}},{key:"isHls",value:function e(){return u.default.isSafari()}},{key:"isMpd",value:function e(){return!this.isHls()}}]);return e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(101);var i=l(n);var a=r(17);var o=l(a);var s=r(18);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(){(0,o.default)(this,e);this.playbackStartTime=null;this.playbackEndTime=null}(0,u.default)(e,[{key:"reset",value:function e(){this.playbackStartTime=null;this.playbackEndTime=null}},{key:"start",value:function e(){this.playbackStartTime=Date.now()}},{key:"end",value:function e(){this.playbackEndTime=Date.now()}},{key:"diff",value:function e(){var t=this;return new i.default(function(e,r){var n=t.playbackEndTime-t.playbackStartTime;if(n<0){return r("Invalid playback time difference")}return e(n)})}}]);return e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17);var i=s(n);var a=r(18);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,i.default)(this,e);this.reset()}(0,o.default)(e,[{key:"reset",value:function e(){this.id=null;this.context=null;this.started=null;this.format=null;this.bitrate=null;this.duration=null}}]);return e}();t.default=u},function(e,t,r){(function(e,r){var n=200;var i="__lodash_hash_undefined__";var a=9007199254740991;var o="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",f="[object Error]",c="[object Function]",d="[object GeneratorFunction]",p="[object Map]",h="[object Number]",v="[object Object]",y="[object Promise]",g="[object RegExp]",m="[object Set]",_="[object String]",b="[object Symbol]",T="[object WeakMap]";var E="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",C="[object Float64Array]",O="[object Int8Array]",k="[object Int16Array]",P="[object Int32Array]",x="[object Uint8Array]",A="[object Uint8ClampedArray]",M="[object Uint16Array]",I="[object Uint32Array]";var R=/[\\^$.*+?()[\]{}|]/g;var D=/\w*$/;var j=/^\[object .+?Constructor\]$/;var L=/^(?:0|[1-9]\d*)$/;var N={};N[o]=N[s]=N[E]=N[w]=N[u]=N[l]=N[S]=N[C]=N[O]=N[k]=N[P]=N[p]=N[h]=N[v]=N[g]=N[m]=N[_]=N[b]=N[x]=N[A]=N[M]=N[I]=true;N[f]=N[c]=N[T]=false;var F="undefined"=="object"&&e&&e.Object===Object&&e;var B=typeof self=="object"&&self&&self.Object===Object&&self;var U=F||B||Function("return this")();var H=typeof t=="object"&&t&&!t.nodeType&&t;var V=H&&typeof r=="object"&&r&&!r.nodeType&&r;var q=V&&V.exports===H;function G(e,t){e.set(t[0],t[1]);return e}function z(e,t){e.add(t);return e}function K(e,t){var r=-1,n=e?e.length:0;while(++r<n){if(t(e[r],r,e)===false){break}}return e}function Y(e,t){var r=-1,n=t.length,i=e.length;while(++r<n){e[i+r]=t[r]}return e}function W(e,t,r,n){var i=-1,a=e?e.length:0;if(n&&a){r=e[++i]}while(++i<a){r=t(r,e[i],i,e)}return r}function X(e,t){var r=-1,n=Array(e);while(++r<e){n[r]=t(r)}return n}function Q(e,t){return e==null?undefined:e[t]}function $(e){var t=false;if(e!=null&&typeof e.toString!="function"){try{t=!!(e+"")}catch(e){}}return t}function J(e){var t=-1,r=Array(e.size);e.forEach(function(e,n){r[++t]=[n,e]});return r}function Z(e,t){return function(r){return e(t(r))}}function ee(e){var t=-1,r=Array(e.size);e.forEach(function(e){r[++t]=e});return r}var te=Array.prototype,re=Function.prototype,ne=Object.prototype;var ie=U["__core-js_shared__"];var ae=function(){var e=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var oe=re.toString;var se=ne.hasOwnProperty;var ue=ne.toString;var le=RegExp("^"+oe.call(se).replace(R,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var fe=q?U.Buffer:undefined,ce=U.Symbol,de=U.Uint8Array,pe=Z(Object.getPrototypeOf,Object),he=Object.create,ve=ne.propertyIsEnumerable,ye=te.splice;var ge=Object.getOwnPropertySymbols,me=fe?fe.isBuffer:undefined,_e=Z(Object.keys,Object);var be=Ot(U,"DataView"),Te=Ot(U,"Map"),Ee=Ot(U,"Promise"),we=Ot(U,"Set"),Se=Ot(U,"WeakMap"),Ce=Ot(Object,"create");var Oe=Lt(be),ke=Lt(Te),Pe=Lt(Ee),xe=Lt(we),Ae=Lt(Se);var Me=ce?ce.prototype:undefined,Ie=Me?Me.valueOf:undefined;function Re(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function De(){this.__data__=Ce?Ce(null):{}}function je(e){return this.has(e)&&delete this.__data__[e]}function Le(e){var t=this.__data__;if(Ce){var r=t[e];return r===i?undefined:r}return se.call(t,e)?t[e]:undefined}function Ne(e){var t=this.__data__;return Ce?t[e]!==undefined:se.call(t,e)}function Fe(e,t){var r=this.__data__;r[e]=Ce&&t===undefined?i:t;return this}Re.prototype.clear=De;Re.prototype["delete"]=je;Re.prototype.get=Le;Re.prototype.has=Ne;Re.prototype.set=Fe;function Be(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Ue(){this.__data__=[]}function He(e){var t=this.__data__,r=at(t,e);if(r<0){return false}var n=t.length-1;if(r==n){t.pop()}else{ye.call(t,r,1)}return true}function Ve(e){var t=this.__data__,r=at(t,e);return r<0?undefined:t[r][1]}function qe(e){return at(this.__data__,e)>-1}function Ge(e,t){var r=this.__data__,n=at(r,e);if(n<0){r.push([e,t])}else{r[n][1]=t}return this}Be.prototype.clear=Ue;Be.prototype["delete"]=He;Be.prototype.get=Ve;Be.prototype.has=qe;Be.prototype.set=Ge;function ze(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Ke(){this.__data__={hash:new Re,map:new(Te||Be),string:new Re}}function Ye(e){return Ct(this,e)["delete"](e)}function We(e){return Ct(this,e).get(e)}function Xe(e){return Ct(this,e).has(e)}function Qe(e,t){Ct(this,e).set(e,t);return this}ze.prototype.clear=Ke;ze.prototype["delete"]=Ye;ze.prototype.get=We;ze.prototype.has=Xe;ze.prototype.set=Qe;function $e(e){this.__data__=new Be(e)}function Je(){this.__data__=new Be}function Ze(e){return this.__data__["delete"](e)}function et(e){return this.__data__.get(e)}function tt(e){return this.__data__.has(e)}function rt(e,t){var r=this.__data__;if(r instanceof Be){var i=r.__data__;if(!Te||i.length<n-1){i.push([e,t]);return this}r=this.__data__=new ze(i)}r.set(e,t);return this}$e.prototype.clear=Je;$e.prototype["delete"]=Ze;$e.prototype.get=et;$e.prototype.has=tt;$e.prototype.set=rt;function nt(e,t){var r=Ut(e)||Bt(e)?X(e.length,String):[];var n=r.length,i=!!n;for(var a in e){if((t||se.call(e,a))&&!(i&&(a=="length"||It(a,n)))){r.push(a)}}return r}function it(e,t,r){var n=e[t];if(!(se.call(e,t)&&Ft(n,r))||r===undefined&&!(t in e)){e[t]=r}}function at(e,t){var r=e.length;while(r--){if(Ft(e[r][0],t)){return r}}return-1}function ot(e,t){return e&&Et(t,Wt(t),e)}function st(e,t,r,n,i,a,s){var u;if(n){u=a?n(e,i,a,s):n(e)}if(u!==undefined){return u}if(!Kt(e)){return e}var l=Ut(e);if(l){u=xt(e);if(!t){return Tt(e,u)}}else{var f=Pt(e),p=f==c||f==d;if(qt(e)){return pt(e,t)}if(f==v||f==o||p&&!a){if($(e)){return a?e:{}}u=At(p?{}:e);if(!t){return wt(e,ot(u,e))}}else{if(!N[f]){return a?e:{}}u=Mt(e,f,st,t)}}s||(s=new $e);var h=s.get(e);if(h){return h}s.set(e,u);if(!l){var y=r?St(e):Wt(e)}K(y||e,function(i,a){if(y){a=i;i=e[a]}it(u,a,st(i,t,r,n,a,e,s))});return u}function ut(e){return Kt(e)?he(e):{}}function lt(e,t,r){var n=t(e);return Ut(e)?n:Y(n,r(e))}function ft(e){return ue.call(e)}function ct(e){if(!Kt(e)||Dt(e)){return false}var t=Gt(e)||$(e)?le:j;return t.test(Lt(e))}function dt(e){if(!jt(e)){return _e(e)}var t=[];for(var r in Object(e)){if(se.call(e,r)&&r!="constructor"){t.push(r)}}return t}function pt(e,t){if(t){return e.slice()}var r=new e.constructor(e.length);e.copy(r);return r}function ht(e){var t=new e.constructor(e.byteLength);new de(t).set(new de(e));return t}function vt(e,t){var r=t?ht(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function yt(e,t,r){var n=t?r(J(e),true):J(e);return W(n,G,new e.constructor)}function gt(e){var t=new e.constructor(e.source,D.exec(e));t.lastIndex=e.lastIndex;return t}function mt(e,t,r){var n=t?r(ee(e),true):ee(e);return W(n,z,new e.constructor)}function _t(e){return Ie?Object(Ie.call(e)):{}}function bt(e,t){var r=t?ht(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Tt(e,t){var r=-1,n=e.length;t||(t=Array(n));while(++r<n){t[r]=e[r]}return t}function Et(e,t,r,n){r||(r={});var i=-1,a=t.length;while(++i<a){var o=t[i];var s=n?n(r[o],e[o],o,r,e):undefined;it(r,o,s===undefined?e[o]:s)}return r}function wt(e,t){return Et(e,kt(e),t)}function St(e){return lt(e,Wt,kt)}function Ct(e,t){var r=e.__data__;return Rt(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Ot(e,t){var r=Q(e,t);return ct(r)?r:undefined}var kt=ge?Z(ge,Object):Xt;var Pt=ft;if(be&&Pt(new be(new ArrayBuffer(1)))!=w||Te&&Pt(new Te)!=p||Ee&&Pt(Ee.resolve())!=y||we&&Pt(new we)!=m||Se&&Pt(new Se)!=T){Pt=function(e){var t=ue.call(e),r=t==v?e.constructor:undefined,n=r?Lt(r):undefined;if(n){switch(n){case Oe:return w;case ke:return p;case Pe:return y;case xe:return m;case Ae:return T}}return t}}function xt(e){var t=e.length,r=e.constructor(t);if(t&&typeof e[0]=="string"&&se.call(e,"index")){r.index=e.index;r.input=e.input}return r}function At(e){return typeof e.constructor=="function"&&!jt(e)?ut(pe(e)):{}}function Mt(e,t,r,n){var i=e.constructor;switch(t){case E:return ht(e);case u:case l:return new i(+e);case w:return vt(e,n);case S:case C:case O:case k:case P:case x:case A:case M:case I:return bt(e,n);case p:return yt(e,n,r);case h:case _:return new i(e);case g:return gt(e);case m:return mt(e,n,r);case b:return _t(e)}}function It(e,t){t=t==null?a:t;return!!t&&(typeof e=="number"||L.test(e))&&(e>-1&&e%1==0&&e<t)}function Rt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Dt(e){return!!ae&&ae in e}function jt(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ne;return e===r}function Lt(e){if(e!=null){try{return oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Nt(e){return st(e,false,true)}function Ft(e,t){return e===t||e!==e&&t!==t}function Bt(e){return Vt(e)&&se.call(e,"callee")&&(!ve.call(e,"callee")||ue.call(e)==o)}var Ut=Array.isArray;function Ht(e){return e!=null&&zt(e.length)&&!Gt(e)}function Vt(e){return Yt(e)&&Ht(e)}var qt=me||Qt;function Gt(e){var t=Kt(e)?ue.call(e):"";return t==c||t==d}function zt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=a}function Kt(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Yt(e){return!!e&&typeof e=="object"}function Wt(e){return Ht(e)?nt(e):dt(e)}function Xt(){return[]}function Qt(){return false}r.exports=Nt}).call(t,r(149),r(388)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(8);var a=d(i);var o=r(67);var s=d(o);var u=r(116);var l=d(u);var f=r(382);var c=d(f);function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++){r[t]=e[t]}return r}else{return Array.from(e)}}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var v=function e(t){return Object.prototype.toString.call(t)==="[object Array]"};var y=function(){function e(t,r,n){var i=this;h(this,e);n=n||r.options_;this.player=(0,s.default)(n.playerId);this.player.dash=this.player.dash||{};this.tech_=r;this.el_=r.el();this.elParent_=this.el_.parentNode;if(!t.src){return}r.isReady_=false;if(e.updateSourceData){s.default.log.warn("updateSourceData has been deprecated."+' Please switch to using hook("updatesource", callback).');t=e.updateSourceData(t)}e.hooks("updatesource").forEach(function(e){t=e(t)});var a=t.src;this.keySystemOptions_=e.buildDashJSProtData(t.keySystemOptions);this.player.dash.mediaPlayer=l.default.MediaPlayer().create();this.mediaPlayer_=this.player.dash.mediaPlayer;if(e.useVideoJSDebug){s.default.log.warn("useVideoJSDebug has been deprecated."+' Please switch to using hook("beforeinitialize", callback).');e.useVideoJSDebug(this.mediaPlayer_)}if(e.beforeInitialize){s.default.log.warn("beforeInitialize has been deprecated."+' Please switch to using hook("beforeinitialize", callback).');e.beforeInitialize(this.player,this.mediaPlayer_)}e.hooks("beforeinitialize").forEach(function(e){e(i.player,i.mediaPlayer_)});this.mediaPlayer_.initialize();if(n.dash){Object.keys(n.dash).forEach(function(e){var t;var r="set"+e.charAt(0).toUpperCase()+e.slice(1);var a=n.dash[e];if(i.mediaPlayer_.hasOwnProperty(r)){s.default.log.warn("Using dash options in videojs-contrib-dash without the set prefix "+("has been deprecated. Change '"+e+"' to '"+r+"'"));e=r}if(!i.mediaPlayer_.hasOwnProperty(e)){s.default.log.warn("Warning: dash configuration option unrecognized: "+e);return}if(!v(a)){a=[a]}(t=i.mediaPlayer_)[e].apply(t,p(a))})}this.mediaPlayer_.attachView(this.el_);this.mediaPlayer_.setAutoPlay(false);c.default.call(null,this.player,r);this.mediaPlayer_.setProtectionData(this.keySystemOptions_);this.mediaPlayer_.attachSource(a);this.tech_.triggerReady()}n(e,[{key:"dispose",value:function e(){if(this.mediaPlayer_){this.mediaPlayer_.reset()}if(this.player.dash){delete this.player.dash}}},{key:"duration",value:function e(){var e=this.el_.duration;if(e===Number.MAX_VALUE){return Infinity}return e}}],[{key:"buildDashJSProtData",value:function e(t){var r={};if(!t||!v(t)){return null}for(var n=0;n<t.length;n++){var i=t[n];var a=s.default.mergeOptions({},i.options);if(a.licenseUrl){a.serverURL=a.licenseUrl;delete a.licenseUrl}r[i.name]=a}return r}},{key:"hooks",value:function t(r,n){e.hooks_[r]=e.hooks_[r]||[];if(n){e.hooks_[r]=e.hooks_[r].concat(n)}return e.hooks_[r]}},{key:"hook",value:function t(r,n){e.hooks(r,n)}},{key:"removeHook",value:function t(r,n){var i=e.hooks(r).indexOf(n);if(i===-1){return false}e.hooks_[r]=e.hooks_[r].slice();e.hooks_[r].splice(i,1);return true}}]);return e}();y.hooks_={};var g=function e(t){t=JSON.parse(JSON.stringify(t));if(y.updateSourceData){s.default.log.warn("updateSourceData has been deprecated."+' Please switch to using hook("updatesource", callback).');t=y.updateSourceData(t)}y.hooks("updatesource").forEach(function(e){t=e(t)});var r=document.createElement("video");if(t.keySystemOptions&&!(navigator.requestMediaKeySystemAccess||r.msSetMediaKeys)){return false}return true};s.default.DashSourceHandler=function(){return{canHandleSource:function e(t){var r=/\.mpd/i;if(!g(t)){return""}if(s.default.DashSourceHandler.canPlayType(t.type)){return"probably"}else if(r.test(t.src)){return"maybe"}else{return""}},handleSource:function e(t,r,n){return new y(t,r,n)},canPlayType:function e(t){return s.default.DashSourceHandler.canPlayType(t)}}};s.default.DashSourceHandler.canPlayType=function(e){var t=/^application\/dash\+xml/i;if(t.test(e)){return"probably"}return""};if(!!a.default.MediaSource){s.default.getTech("Html5").registerSourceHandler(s.default.DashSourceHandler(),0)}s.default.Html5DashJS=y;t.default=y},function(e,t,r){(function(t){var r;var r;/**
 * videojs-contrib-hls
 * @version 5.10.1
 * @copyright 2017 Brightcove, Inc
 * @license Apache-2.0
 */
(function(t){if(true){e.exports=t()}else if(typeof define==="function"&&define.amd){define([],t)}else{var r;if(typeof window!=="undefined"){r=window}else if(typeof global!=="undefined"){r=global}else if(typeof self!=="undefined"){r=self}else{r=this}r.videojsContribHls=t()}})(function(){var e,n,i;return function e(t,n,i){function a(s,u){if(!n[s]){if(!t[s]){var l=typeof r=="function"&&r;if(!u&&l)return r(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return a(r?r:e)},c,c.exports,e,t,n,i)}return n[s].exports}var o=typeof r=="function"&&r;for(var s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=function(){function e(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"])o["return"]()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();function i(e){return e&&e.__esModule?e:{default:e}}var a=e("global/window");var o=i(a);var s=function e(t,r){var n=t.cues;for(var i=0;i<n.length;i++){var a=n[i];if(r>=a.adStartTime&&r<=a.adEndTime){return a}}return null};var u=function e(t,r){var i=arguments.length<=2||arguments[2]===undefined?0:arguments[2];if(!t.segments){return}var a=i;var u=undefined;for(var l=0;l<t.segments.length;l++){var f=t.segments[l];if(!u){u=s(r,a+f.duration/2)}if(u){if("cueIn"in f){u.endTime=a;u.adEndTime=a;a+=f.duration;u=null;continue}if(a<u.endTime){a+=f.duration;continue}u.endTime+=f.duration}else{if("cueOut"in f){u=new o["default"].VTTCue(a,a+f.duration,f.cueOut);u.adStartTime=a;u.adEndTime=a+parseFloat(f.cueOut);r.addCue(u)}if("cueOutCont"in f){var c=undefined;var d=undefined;var p=f.cueOutCont.split("/").map(parseFloat);var h=n(p,2);c=h[0];d=h[1];u=new o["default"].VTTCue(a,a+f.duration,"");u.adStartTime=a-c;u.adEndTime=u.adStartTime+d;r.addCue(u)}}a+=f.duration}};r["default"]={updateAdCues:u,findAdCue:s};t.exports=r["default"]},{"global/window":31}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=function e(t,r){return t.start(r)+"-"+t.end(r)};var i=function e(t,r){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(r%2?" ":"")};var a=function e(t){if(t>=32&&t<126){return String.fromCharCode(t)}return"."};var o=function e(t){var r={};Object.keys(t).forEach(function(e){var n=t[e];if(ArrayBuffer.isView(n)){r[e]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}}else{r[e]=n}});return r};var s=function e(t){var r=t.byterange||{length:Infinity,offset:0};return[r.length,r.offset,t.resolvedUri].join(",")};var u={hexDump:function e(t){var r=Array.prototype.slice.call(t);var n=16;var o="";var s=undefined;var u=undefined;for(var l=0;l<r.length/n;l++){s=r.slice(l*n,l*n+n).map(i).join("");u=r.slice(l*n,l*n+n).map(a).join("");o+=s+" "+u+"\n"}return o},tagDump:function e(t){return u.hexDump(t.bytes)},textRanges:function e(t){var r="";var i=undefined;for(i=0;i<t.length;i++){r+=n(t,i)+" "}return r},createTransferableMessage:o,initSegmentId:s};r["default"]=u;t.exports=r["default"]},{}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r["default"]={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1};t.exports=r["default"]},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=e("global/window");var a=n(i);var o=e("aes-decrypter");var s=e("./bin-utils");var u=function e(t){t.onmessage=function(e){var t=e.data;var r=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength);var n=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4);var i=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new o.Decrypter(r,n,i,function(e,r){a["default"].postMessage((0,s.createTransferableMessage)({source:t.source,decrypted:r}),[r.buffer])})}};r["default"]=function(e){return new u(e)};t.exports=r["default"]},{"./bin-utils":2,"aes-decrypter":24,"global/window":31}],5:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var a=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=e("./playlist-loader");var f=o(l);var c=e("./segment-loader");var d=o(c);var p=e("./vtt-segment-loader");var h=o(p);var v=e("./ranges");var y=o(v);var g=typeof window!=="undefined"?t:typeof r!=="undefined"?r["videojs"]:null;var m=o(g);var _=e("./ad-cue-tags");var b=o(_);var T=e("./sync-controller");var E=o(T);var w=e("videojs-contrib-media-sources/es5/codec-utils");var S=e("webworkify");var C=o(S);var O=e("./decrypter-worker");var k=o(O);var P=e("./config");var x=o(P);var A=e("./util/codecs.js");var M=60*2;var I=undefined;var R={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"};var D=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"];var j=function e(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]};var L=function e(t,r){if(typeof t!==typeof r){return true}if(Object.keys(t).length!==Object.keys(r).length){return true}for(var n in t){if(t[n]!==r[n]){return true}}return false};var N=function e(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return(0,w.translateLegacyCodecs)([e])[0]})};n.mapLegacyAvcCodecs_=N;var F=function e(t,r,n){return t+"/"+r+'; codecs="'+n.filter(function(e){return!!e}).join(", ")+'"'};var B=function e(t){if(t.segments&&t.segments.length&&t.segments[0].map){return"mp4"}return"mp2t"};var U=function e(t){var r=t.attributes||{};if(r.CODECS){return(0,A.parseCodecs)(r.CODECS)}return R};var H=function e(t,r){var n=B(r);var i=U(r);var a=r.attributes||{};var o=true;var s=false;if(!r){return[]}if(t.mediaGroups.AUDIO&&a.AUDIO){var u=t.mediaGroups.AUDIO[a.AUDIO];if(u){s=true;o=false;for(var l in u){if(!u[l].uri){o=true;break}}}}if(s&&!i.audioProfile){m["default"].log.warn("Multiple audio tracks present but no audio codec string is specified. "+"Attempting to use the default audio codec (mp4a.40.2)");i.audioProfile=R.audioProfile}var f={};if(i.videoCodec){f.video=""+i.videoCodec+i.videoObjectTypeIndicator}if(i.audioProfile){f.audio="mp4a.40."+i.audioProfile}var c=F("audio",n,[f.audio]);var d=F("video",n,[f.video]);var p=F("video",n,[f.video,f.audio]);if(s){if(!o&&f.video){return[d,c]}return[p,c]}if(!f.video){return[c]}return[p]};n.mimeTypesForPlaylist_=H;var V=function(e){u(t,e);function t(e){var r=this;s(this,t);a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var n=e.url;var i=e.withCredentials;var o=e.mode;var u=e.tech;var l=e.bandwidth;var c=e.externHls;var p=e.useCueTags;var v=e.blacklistDuration;var y=e.enableLowInitialPlaylist;if(!n){throw new Error("A non-empty playlist URL is required")}I=c;this.withCredentials=i;this.tech_=u;this.hls_=u.hls;this.mode_=o;this.useCueTags_=p;this.blacklistDuration=v;this.enableLowInitialPlaylist=y;if(this.useCueTags_){this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues");this.cueTagsTrack_.inBandMetadataTrackDispatchType=""}this.requestOptions_={withCredentials:this.withCredentials,timeout:null};this.audioGroups_={};this.subtitleGroups_={groups:{},tracks:{}};this.closedCaptionGroups_={groups:{},tracks:{}};this.mediaSource=new m["default"].MediaSource({mode:o});this.audioinfo_=null;this.mediaSource.on("audioinfo",this.handleAudioinfoUpdate_.bind(this));this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this));this.seekable_=m["default"].createTimeRanges();this.hasPlayed_=function(){return false};this.syncController_=new E["default"](e);this.segmentMetadataTrack_=u.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},false).track;this.decrypter_=(0,C["default"])(k["default"]);var g={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function e(){return r.seekable()},seeking:function e(){return r.tech_.seeking()},duration:function e(){return r.mediaSource.duration},hasPlayed:function e(){return r.hasPlayed_()},goalBufferLength:function e(){return r.goalBufferLength()},bandwidth:l,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new f["default"](n,this.hls_,this.withCredentials);this.setupMasterPlaylistLoaderListeners_();this.audioPlaylistLoader_=null;this.subtitlePlaylistLoader_=null;this.mainSegmentLoader_=new d["default"](m["default"].mergeOptions(g,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e);this.audioSegmentLoader_=new d["default"](m["default"].mergeOptions(g,{loaderType:"audio"}),e);this.subtitleSegmentLoader_=new h["default"](m["default"].mergeOptions(g,{loaderType:"vtt"}),e);this.setupSegmentLoaderListeners_();D.forEach(function(e){r[e+"_"]=j.bind(r,e)});this.masterPlaylistLoader_.load()}i(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function e(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=t.masterPlaylistLoader_.media();var r=t.masterPlaylistLoader_.targetDuration*1.5*1e3;if(t.masterPlaylistLoader_.isLowestEnabledRendition_()){t.requestOptions_.timeout=0}else{t.requestOptions_.timeout=r}if(e.endList&&t.tech_.preload()!=="none"){t.mainSegmentLoader_.playlist(e,t.requestOptions_);t.mainSegmentLoader_.load()}t.fillAudioTracks_();t.setupAudio();t.fillSubtitleTracks_();t.setupSubtitles();t.triggerPresenceUsage_(t.master(),e);t.fillClosedCaptionTracks_();try{t.setupSourceBuffers_()}catch(e){m["default"].log.warn("Failed to create SourceBuffers",e);return t.mediaSource.endOfStream("decode")}t.setupFirstPlay();t.trigger("audioupdate");t.trigger("selectedinitialmedia")});this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=t.masterPlaylistLoader_.media();if(!e){var r=undefined;if(t.enableLowInitialPlaylist){r=t.selectInitialPlaylist()}if(!r){r=t.selectPlaylist()}t.initialMedia_=r;t.masterPlaylistLoader_.media(t.initialMedia_);return}if(t.useCueTags_){t.updateAdCues_(e)}t.mainSegmentLoader_.playlist(e,t.requestOptions_);t.updateDuration();if(!t.tech_.paused()){t.mainSegmentLoader_.load()}if(!e.endList){(function(){var e=function e(){var r=t.seekable();if(r.length!==0){t.mediaSource.addSeekableRange_(r.start(0),r.end(0))}};if(t.duration()!==Infinity){(function(){var r=function r(){if(t.duration()===Infinity){e()}else{t.tech_.one("durationchange",r)}};t.tech_.one("durationchange",r)})()}else{e()}})()}});this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)});this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort();t.mainSegmentLoader_.pause()});this.masterPlaylistLoader_.on("mediachange",function(){var e=t.masterPlaylistLoader_.media();var r=t.masterPlaylistLoader_.targetDuration*1.5*1e3;var n=undefined;var i=undefined;if(t.masterPlaylistLoader_.isLowestEnabledRendition_()){t.requestOptions_.timeout=0}else{t.requestOptions_.timeout=r}t.mainSegmentLoader_.playlist(e,t.requestOptions_);t.mainSegmentLoader_.load();n=t.activeAudioGroup();i=n.filter(function(e){return e.enabled})[0];if(!i){t.mediaGroupChanged();t.trigger("audioupdate")}t.setupSubtitles();t.tech_.trigger({type:"mediachange",bubbles:true})});this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=t.masterPlaylistLoader_.media();var r=t.stuckAtPlaylistEnd_(e);if(r){t.blacklistCurrentPlaylist({message:"Playlist no longer updating."});t.tech_.trigger("playliststuck")}});this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})});this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function e(t,r){var n=t.mediaGroups||{};var i=true;var a=Object.keys(n.AUDIO);for(var o in n.AUDIO){for(var s in n.AUDIO[o]){var u=n.AUDIO[o][s];if(!u.uri){i=false}}}if(i){this.tech_.trigger({type:"usage",name:"hls-demuxed"})}if(Object.keys(n.SUBTITLES).length){this.tech_.trigger({type:"usage",name:"hls-webvtt"})}if(I.Playlist.isAes(r)){this.tech_.trigger({type:"usage",name:"hls-aes"})}if(I.Playlist.isFmp4(r)){this.tech_.trigger({type:"usage",name:"hls-fmp4"})}if(a.length&&Object.keys(n.AUDIO[a[0]]).length>1){this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})}if(this.useCueTags_){this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}}},{key:"setupSegmentLoaderListeners_",value:function e(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=t.selectPlaylist();var r=t.masterPlaylistLoader_.media();var n=t.tech_.buffered();var i=n.length?n.end(n.length-1)-t.tech_.currentTime():0;var a=t.bufferLowWaterLine();if(!r.endList||t.duration()<x["default"].MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<r.attributes.BANDWIDTH||i>=a){t.masterPlaylistLoader_.media(e)}t.tech_.trigger("bandwidthupdate")});this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")});this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())});this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()});this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})});this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()});this.mainSegmentLoader_.on("ended",function(){t.onEndOfStream()});this.mainSegmentLoader_.on("earlyabort",function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the "+"request without rebuffering."},M)});this.mainSegmentLoader_.on("reseteverything",function(){t.tech_.trigger("hls-reset")});this.audioSegmentLoader_.on("ended",function(){t.onEndOfStream()});this.audioSegmentLoader_.on("error",function(){m["default"].log.warn("Problem encountered with the current alternate audio track"+". Switching back to default.");t.audioSegmentLoader_.abort();t.audioPlaylistLoader_=null;t.setupAudio()});this.subtitleSegmentLoader_.on("error",this.handleSubtitleError_.bind(this))}},{key:"handleAudioinfoUpdate_",value:function e(t){if(I.supportsAudioInfoChange_()||!this.audioInfo_||!L(this.audioInfo_,t.info)){this.audioInfo_=t.info;return}var r="had different audio properties (channels, sample rate, etc.) "+"or changed in some other way.  This behavior is currently "+"unsupported in Firefox 48 and below due to an issue: \n\n"+"https://bugzilla.mozilla.org/show_bug.cgi?id=1247138\n\n";var n=this.activeAudioGroup().map(function(e){return e.enabled}).indexOf(true);var i=this.activeAudioGroup()[n];var a=this.activeAudioGroup().filter(function(e){return e.properties_&&e.properties_["default"]})[0];if(!this.audioPlaylistLoader_){r="The rendition that we tried to switch to "+r+"Unfortunately that means we will have to blacklist "+"the current playlist and switch to another. Sorry!";this.blacklistCurrentPlaylist()}else{r="The audio track '"+i.label+"' that we tried to "+("switch to "+r+" Unfortunately this means we will have to ")+("return you to the main track '"+a.label+"'. Sorry!");a.enabled=true;this.activeAudioGroup().splice(n,1);this.trigger("audioupdate")}m["default"].log.warn(r);this.setupAudio()}},{key:"mediaSecondsLoaded_",value:function e(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"fillAudioTracks_",value:function e(){var t=this.master();var r=t.mediaGroups||{};if(!r||!r.AUDIO||Object.keys(r.AUDIO).length===0||this.mode_!=="html5"){r.AUDIO={main:{default:{default:true}}}}for(var n in r.AUDIO){if(!this.audioGroups_[n]){this.audioGroups_[n]=[]}for(var i in r.AUDIO[n]){var a=r.AUDIO[n][i];var o=new m["default"].AudioTrack({id:i,kind:this.audioTrackKind_(a),enabled:false,language:a.language,label:i});o.properties_=a;this.audioGroups_[n].push(o)}}(this.activeAudioGroup().filter(function(e){return e.properties_["default"]})[0]||this.activeAudioGroup()[0]).enabled=true}},{key:"audioTrackKind_",value:function e(t){var r=t["default"]?"main":"alternative";if(t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0){r="main-desc"}return r}},{key:"fillSubtitleTracks_",value:function e(){var t=this.master();var r=t.mediaGroups||{};for(var n in r.SUBTITLES){if(!this.subtitleGroups_.groups[n]){this.subtitleGroups_.groups[n]=[]}for(var i in r.SUBTITLES[n]){var a=r.SUBTITLES[n][i];if(!a.forced){this.subtitleGroups_.groups[n].push(m["default"].mergeOptions({id:i},a));if(typeof this.subtitleGroups_.tracks[i]==="undefined"){var o=this.tech_.addRemoteTextTrack({id:i,kind:"subtitles",enabled:false,language:a.language,label:i},false).track;this.subtitleGroups_.tracks[i]=o}}}}}},{key:"fillClosedCaptionTracks_",value:function e(){var t=this.master();var r=t.mediaGroups||{};for(var n in r["CLOSED-CAPTIONS"]){if(!this.closedCaptionGroups_.groups[n]){this.closedCaptionGroups_.groups[n]=[]}for(var i in r["CLOSED-CAPTIONS"][n]){var a=r["CLOSED-CAPTIONS"][n][i];if(!a.instreamId.match(/CC\d/)){continue}this.closedCaptionGroups_.groups[n].push(m["default"].mergeOptions({id:i},a));if(typeof this.closedCaptionGroups_.tracks[i]==="undefined"){var o=this.tech_.addRemoteTextTrack({id:a.instreamId,kind:"captions",enabled:false,language:a.language,label:i},false).track;this.closedCaptionGroups_.tracks[i]=o}}}}},{key:"load",value:function e(){this.mainSegmentLoader_.load();if(this.audioPlaylistLoader_){this.audioSegmentLoader_.load()}if(this.subtitlePlaylistLoader_){this.subtitleSegmentLoader_.load()}}},{key:"activeAudioGroup",value:function e(){var t=this.masterPlaylistLoader_.media();var r=undefined;if(t.attributes.AUDIO){r=this.audioGroups_[t.attributes.AUDIO]}return r||this.audioGroups_.main}},{key:"activeSubtitleGroup_",value:function e(){var t=this.masterPlaylistLoader_.media();var r=undefined;if(!t){return null}if(t.attributes.SUBTITLES){r=this.subtitleGroups_.groups[t.attributes.SUBTITLES]}return r||this.subtitleGroups_.groups.main}},{key:"activeSubtitleTrack_",value:function e(){for(var t in this.subtitleGroups_.tracks){if(this.subtitleGroups_.tracks[t].mode==="showing"){return this.subtitleGroups_.tracks[t]}}return null}},{key:"handleSubtitleError_",value:function e(){m["default"].log.warn("Problem encountered loading the subtitle track"+". Switching back to default.");this.subtitleSegmentLoader_.abort();var t=this.activeSubtitleTrack_();if(t){t.mode="disabled"}this.setupSubtitles()}},{key:"mediaGroupChanged",value:function e(){var t=this.getActiveAudioTrack_();this.stopAudioLoaders_();this.resyncAudioLoaders_(t)}},{key:"setupAudio",value:function e(){var t=this.getActiveAudioTrack_();this.stopAudioLoaders_();this.resetAudioLoaders_(t)}},{key:"getActiveAudioTrack_",value:function e(){var t=this.activeAudioGroup();var r=t.filter(function(e){return e.enabled})[0];if(!r){r=t.filter(function(e){return e.properties_["default"]})[0]||t[0];r.enabled=true}return r}},{key:"stopAudioLoaders_",value:function e(){if(this.audioPlaylistLoader_){this.audioPlaylistLoader_.dispose();this.audioPlaylistLoader_=null}this.audioSegmentLoader_.pause()}},{key:"resetAudioLoaders_",value:function e(t){if(!t.properties_.resolvedUri){this.mainSegmentLoader_.resetEverything();return}this.audioSegmentLoader_.resetEverything();this.setupAudioPlaylistLoader_(t)}},{key:"resyncAudioLoaders_",value:function e(t){if(!t.properties_.resolvedUri){return}this.audioSegmentLoader_.resyncLoader();this.setupAudioPlaylistLoader_(t)}},{key:"setupAudioPlaylistLoader_",value:function e(t){var r=this;this.audioPlaylistLoader_=new f["default"](t.properties_.resolvedUri,this.hls_,this.withCredentials);this.audioPlaylistLoader_.load();this.audioPlaylistLoader_.on("loadedmetadata",function(){var e=r.audioPlaylistLoader_.media();r.audioSegmentLoader_.playlist(e,r.requestOptions_);if(!r.tech_.paused()||e.endList&&r.tech_.preload()!=="none"){r.audioSegmentLoader_.load()}if(!e.endList){r.audioPlaylistLoader_.trigger("firstplay")}});this.audioPlaylistLoader_.on("loadedplaylist",function(){var e=undefined;if(r.audioPlaylistLoader_){e=r.audioPlaylistLoader_.media()}if(!e){r.audioPlaylistLoader_.media(r.audioPlaylistLoader_.playlists.master.playlists[0]);return}r.audioSegmentLoader_.playlist(e,r.requestOptions_)});this.audioPlaylistLoader_.on("error",function(){m["default"].log.warn("Problem encountered loading the alternate audio track"+". Switching back to default.");r.audioSegmentLoader_.abort();r.setupAudio()})}},{key:"setupSubtitles",value:function e(){var t=this;var r=this.activeSubtitleGroup_();var n=this.activeSubtitleTrack_();this.subtitleSegmentLoader_.pause();if(!n){if(this.subtitlePlaylistLoader_){this.subtitlePlaylistLoader_.dispose();this.subtitlePlaylistLoader_=null}return}var i=r.filter(function(e){return e.id===n.id})[0];if(!this.subtitlePlaylistLoader_||!this.subtitlePlaylistLoader_.media()||this.subtitlePlaylistLoader_.media().resolvedUri!==i.resolvedUri){if(this.subtitlePlaylistLoader_){this.subtitlePlaylistLoader_.dispose()}this.subtitleSegmentLoader_.resetEverything();this.subtitlePlaylistLoader_=new f["default"](i.resolvedUri,this.hls_,this.withCredentials);this.subtitlePlaylistLoader_.on("loadedmetadata",function(){var e=t.subtitlePlaylistLoader_.media();t.subtitleSegmentLoader_.playlist(e,t.requestOptions_);t.subtitleSegmentLoader_.track(t.activeSubtitleTrack_());if(!t.tech_.paused()||e.endList&&t.tech_.preload()!=="none"){t.subtitleSegmentLoader_.load()}});this.subtitlePlaylistLoader_.on("loadedplaylist",function(){var e=undefined;if(t.subtitlePlaylistLoader_){e=t.subtitlePlaylistLoader_.media()}if(!e){return}t.subtitleSegmentLoader_.playlist(e,t.requestOptions_)});this.subtitlePlaylistLoader_.on("error",this.handleSubtitleError_.bind(this))}if(this.subtitlePlaylistLoader_.media()&&this.subtitlePlaylistLoader_.media().resolvedUri===i.resolvedUri){this.subtitleSegmentLoader_.load()}else{this.subtitlePlaylistLoader_.load()}}},{key:"fastQualityChange_",value:function e(){var t=this.selectPlaylist();if(t!==this.masterPlaylistLoader_.media()){this.masterPlaylistLoader_.media(t);this.mainSegmentLoader_.resetLoader()}}},{key:"play",value:function e(){if(this.setupFirstPlay()){return}if(this.tech_.ended()){this.tech_.setCurrentTime(0)}if(this.hasPlayed_()){this.load()}var t=this.tech_.seekable();if(this.tech_.duration()===Infinity){if(this.tech_.currentTime()<t.start(0)){return this.tech_.setCurrentTime(t.end(t.length-1))}}}},{key:"setupFirstPlay",value:function e(){var t=undefined;var r=this.masterPlaylistLoader_.media();if(r&&!this.tech_.paused()&&!this.hasPlayed_()){if(!r.endList){this.trigger("firstplay");t=this.seekable();if(t.length){this.tech_.setCurrentTime(t.end(0))}}this.hasPlayed_=function(){return true};this.load();return true}return false}},{key:"handleSourceOpen_",value:function e(){try{this.setupSourceBuffers_()}catch(e){m["default"].log.warn("Failed to create Source Buffers",e);return this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){this.tech_.play()}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function e(){var t=this.mainSegmentLoader_.ended_;if(this.audioPlaylistLoader_){t=t&&this.audioSegmentLoader_.ended_}if(t){this.mediaSource.endOfStream()}}},{key:"stuckAtPlaylistEnd_",value:function e(t){var r=this.seekable();if(!r.length){return false}var n=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(n===null){return false}var i=I.Playlist.playlistEnd(t,n);var a=this.tech_.currentTime();var o=this.tech_.buffered();if(!o.length){return i-a<=y["default"].TIME_FUDGE_FACTOR}var s=o.end(o.length-1);return s-a<=y["default"].TIME_FUDGE_FACTOR&&i-s<=y["default"].TIME_FUDGE_FACTOR}},{key:"blacklistCurrentPlaylist",value:function e(t,r){if(t===undefined)t={};var n=undefined;var i=undefined;n=t.playlist||this.masterPlaylistLoader_.media();if(!n){this.error=t;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var a=this.masterPlaylistLoader_.isFinalRendition_();if(a){m["default"].log.warn("Problem encountered with the current "+"HLS playlist. Trying again since it is the final playlist.");this.tech_.trigger("retryplaylist");return this.masterPlaylistLoader_.load(a)}n.excludeUntil=Date.now()+(r?r:this.blacklistDuration)*1e3;this.tech_.trigger("blacklistplaylist");this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});i=this.selectPlaylist();m["default"].log.warn("Problem encountered with the current HLS playlist."+(t.message?" "+t.message:"")+" Switching to another playlist.");return this.masterPlaylistLoader_.media(i)}},{key:"pauseLoading",value:function e(){this.mainSegmentLoader_.pause();if(this.audioPlaylistLoader_){this.audioSegmentLoader_.pause()}if(this.subtitlePlaylistLoader_){this.subtitleSegmentLoader_.pause()}}},{key:"setCurrentTime",value:function e(t){var r=y["default"].findRange(this.tech_.buffered(),t);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())){return 0}if(!this.masterPlaylistLoader_.media().segments){return 0}var n=this.mode_==="flash"||this.mode_==="auto"&&!m["default"].MediaSource.supportsNativeMediaSources();if(r&&r.length&&!n){return t}this.mainSegmentLoader_.resetEverything();this.mainSegmentLoader_.abort();if(this.audioPlaylistLoader_){this.audioSegmentLoader_.resetEverything();this.audioSegmentLoader_.abort()}if(this.subtitlePlaylistLoader_){this.subtitleSegmentLoader_.resetEverything();this.subtitleSegmentLoader_.abort()}this.load()}},{key:"duration",value:function e(){if(!this.masterPlaylistLoader_){return 0}if(this.mediaSource){return this.mediaSource.duration}return I.Playlist.duration(this.masterPlaylistLoader_.media())}},{key:"seekable",value:function e(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function e(){var t=undefined;var r=undefined;if(!this.masterPlaylistLoader_){return}var n=this.masterPlaylistLoader_.media();if(!n){return}var i=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(i===null){return}t=I.Playlist.seekable(n,i);if(t.length===0){return}if(this.audioPlaylistLoader_){n=this.audioPlaylistLoader_.media();i=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(i===null){return}r=I.Playlist.seekable(n,i);if(r.length===0){return}}if(!r){this.seekable_=t}else if(r.start(0)>t.end(0)||t.start(0)>r.end(0)){this.seekable_=t}else{this.seekable_=m["default"].createTimeRanges([[r.start(0)>t.start(0)?r.start(0):t.start(0),r.end(0)<t.end(0)?r.end(0):t.end(0)]])}this.tech_.trigger("seekablechanged")}},{key:"updateDuration",value:function e(){var t=this;var r=this.mediaSource.duration;var n=I.Playlist.duration(this.masterPlaylistLoader_.media());var i=this.tech_.buffered();var a=function e(){t.mediaSource.duration=n;t.tech_.trigger("durationchange");t.mediaSource.removeEventListener("sourceopen",e)};if(i.length>0){n=Math.max(n,i.end(i.length-1))}if(r!==n){if(this.mediaSource.readyState!=="open"){this.mediaSource.addEventListener("sourceopen",a)}else{a()}}}},{key:"dispose",value:function e(){this.decrypter_.terminate();this.masterPlaylistLoader_.dispose();this.mainSegmentLoader_.dispose();if(this.audioPlaylistLoader_){this.audioPlaylistLoader_.dispose()}if(this.subtitlePlaylistLoader_){this.subtitlePlaylistLoader_.dispose()}this.audioSegmentLoader_.dispose();this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function e(){return this.masterPlaylistLoader_.master}},{key:"media",value:function e(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function e(){var t=this.masterPlaylistLoader_.media();var r=undefined;if(!t||this.mediaSource.readyState!=="open"){return}r=H(this.masterPlaylistLoader_.master,t);if(r.length<1){this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri;return this.mediaSource.endOfStream("decode")}this.mainSegmentLoader_.mimeType(r[0]);if(r[1]){this.audioSegmentLoader_.mimeType(r[1])}this.excludeIncompatibleVariants_(t)}},{key:"excludeIncompatibleVariants_",value:function e(t){var r=this.masterPlaylistLoader_.master;var n=2;var i=null;var a=undefined;if(t.attributes.CODECS){a=(0,A.parseCodecs)(t.attributes.CODECS);i=a.videoCodec;n=a.codecCount}r.playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};if(e.attributes.CODECS){var r=e.attributes.CODECS;t=(0,A.parseCodecs)(r);if(window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+N(r)+'"')){e.excludeUntil=Infinity}}if(t.codecCount!==n){e.excludeUntil=Infinity}if(t.videoCodec!==i){e.excludeUntil=Infinity}})}},{key:"updateAdCues_",value:function e(t){var r=0;var n=this.seekable();if(n.length){r=n.start(0)}b["default"].updateAdCues(t,this.cueTagsTrack_,r)}},{key:"goalBufferLength",value:function e(){var t=this.tech_.currentTime();var r=x["default"].GOAL_BUFFER_LENGTH;var n=x["default"].GOAL_BUFFER_LENGTH_RATE;var i=Math.max(r,x["default"].MAX_GOAL_BUFFER_LENGTH);return Math.min(r+t*n,i)}},{key:"bufferLowWaterLine",value:function e(){var t=this.tech_.currentTime();var r=x["default"].BUFFER_LOW_WATER_LINE;var n=x["default"].BUFFER_LOW_WATER_LINE_RATE;var i=Math.max(r,x["default"].MAX_BUFFER_LOW_WATER_LINE);return Math.min(r+t*n,i)}}]);return t}(m["default"].EventTarget);n.MasterPlaylistController=V}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./ad-cue-tags":1,"./config":3,"./decrypter-worker":4,"./playlist-loader":8,"./ranges":11,"./segment-loader":15,"./sync-controller":17,"./util/codecs.js":18,"./vtt-segment-loader":19,"videojs-contrib-media-sources/es5/codec-utils":65,webworkify:76}],6:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});function i(e){return e&&e.__esModule?e:{default:e}}var a=typeof window!=="undefined"?t:typeof r!=="undefined"?r["videojs"]:null;var o=i(a);var s=e("./bin-utils");var u={FAILURE:2,TIMEOUT:-101,ABORTED:-102};n.REQUEST_ERRORS=u;var l=function e(t){var r=undefined;var n=undefined;n=t.offset+t.length-1;r=t.offset;return"bytes="+r+"-"+n};var f=function e(t){var r={};if(t.byterange){r.Range=l(t.byterange)}return r};var c=function e(t){t.forEach(function(e){e.abort()})};var d=function e(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}};var p=function e(t){var r=t.target;var n=Date.now()-r.requestTime;var i={bandwidth:Infinity,bytesReceived:0,roundTripTime:n||0};i.bytesReceived=t.loaded;i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3);return i};var h=function e(t,r){if(r.timedout){return{status:r.status,message:"HLS request timed-out at URL: "+r.uri,code:u.TIMEOUT,xhr:r}}if(r.aborted){return{status:r.status,message:"HLS request aborted at URL: "+r.uri,code:u.ABORTED,xhr:r}}if(t){return{status:r.status,message:"HLS request errored at URL: "+r.uri,code:u.FAILURE,xhr:r}}return null};var v=function e(t,r){return function(e,n){var i=n.response;var a=h(e,n);if(a){return r(a,t)}if(i.byteLength!==16){return r({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:u.FAILURE,xhr:n},t)}var o=new DataView(i);t.key.bytes=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]);return r(null,t)}};var y=function e(t,r){return function(e,n){var i=n.response;var a=h(e,n);if(a){return r(a,t)}if(i.byteLength===0){return r({status:n.status,message:"Empty HLS segment content at URL: "+n.uri,code:u.FAILURE,xhr:n},t)}t.map.bytes=new Uint8Array(n.response);return r(null,t)}};var g=function e(t,r){return function(e,n){var i=n.response;var a=h(e,n);if(a){return r(a,t)}if(i.byteLength===0){return r({status:n.status,message:"Empty HLS segment content at URL: "+n.uri,code:u.FAILURE,xhr:n},t)}t.stats=d(n);if(t.key){t.encryptedBytes=new Uint8Array(n.response)}else{t.bytes=new Uint8Array(n.response)}return r(null,t)}};var m=function e(t,r,n){var i=function e(i){if(i.data.source===r.requestId){t.removeEventListener("message",e);var a=i.data.decrypted;r.bytes=new Uint8Array(a.bytes,a.byteOffset,a.byteLength);return n(null,r)}};t.addEventListener("message",i);t.postMessage((0,s.createTransferableMessage)({source:r.requestId,encrypted:r.encryptedBytes,key:r.key.bytes,iv:r.key.iv}),[r.encryptedBytes.buffer,r.key.bytes.buffer])};var _=function e(t){return t.reduce(function(e,t){return t.code>e.code?t:e})};var b=function e(t,r,n){var i=[];var a=0;return function(e,o){if(e){c(t);i.push(e)}a+=1;if(a===t.length){o.endOfAllRequests=Date.now();if(i.length>0){var s=_(i);return n(s,o)}if(o.encryptedBytes){return m(r,o,n)}return n(null,o)}}};var T=function e(t,r){return function(e){t.stats=o["default"].mergeOptions(t.stats,p(e));if(!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived){t.stats.firstBytesReceivedAt=Date.now()}return r(e,t)}};var E=function e(t,r,n,i,a,s){var u=[];var l=b(u,n,s);if(i.key){var d=o["default"].mergeOptions(r,{uri:i.key.resolvedUri,responseType:"arraybuffer"});var p=v(i,l);var h=t(d,p);u.push(h)}if(i.map&&!i.map.bytes){var m=o["default"].mergeOptions(r,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:f(i.map)});var _=y(i,l);var E=t(m,_);u.push(E)}var w=o["default"].mergeOptions(r,{uri:i.resolvedUri,responseType:"arraybuffer",headers:f(i)});var S=g(i,l);var C=t(w,S);C.addEventListener("progress",T(i,a));u.push(C);return function(){return c(u)}};n.mediaSegmentRequest=E}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./bin-utils":2}],7:[function(e,r,n){(function(i){"use strict";Object.defineProperty(n,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=e("global/window");var l=o(u);var f=e("./ranges");var c=o(f);var d=typeof window!=="undefined"?t:typeof i!=="undefined"?i["videojs"]:null;var p=o(d);var h=["seeking","seeked","pause","playing","error"];var v=function(){function e(t){var r=this;s(this,e);this.tech_=t.tech;this.seekable=t.seekable;this.consecutiveUpdates=0;this.lastRecordedTime=null;this.timer_=null;this.checkCurrentTimeTimeout_=null;if(t.debug){this.logger_=p["default"].log.bind(p["default"],"playback-watcher ->")}this.logger_("initialize");var n=function e(){return r.monitorCurrentTime_()};var i=function e(){return r.techWaiting_()};var a=function e(){return r.cancelTimer_()};var o=function e(){return r.fixesBadSeeks_()};this.tech_.on("seekablechanged",o);this.tech_.on("waiting",i);this.tech_.on(h,a);this.tech_.on("canplay",n);this.dispose=function(){r.logger_("dispose");r.tech_.off("seekablechanged",o);r.tech_.off("waiting",i);r.tech_.off(h,a);r.tech_.off("canplay",n);if(r.checkCurrentTimeTimeout_){l["default"].clearTimeout(r.checkCurrentTimeTimeout_)}r.cancelTimer_()}}a(e,[{key:"monitorCurrentTime_",value:function e(){this.checkCurrentTime_();if(this.checkCurrentTimeTimeout_){l["default"].clearTimeout(this.checkCurrentTimeTimeout_)}this.checkCurrentTimeTimeout_=l["default"].setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function e(){if(this.tech_.seeking()&&this.fixesBadSeeks_()){this.consecutiveUpdates=0;this.lastRecordedTime=this.tech_.currentTime();return}if(this.tech_.paused()||this.tech_.seeking()){return}var t=this.tech_.currentTime();var r=this.tech_.buffered();if(this.lastRecordedTime===t&&(!r.length||t+.1>=r.end(r.length-1))){return this.techWaiting_()}if(this.consecutiveUpdates>=5&&t===this.lastRecordedTime){this.consecutiveUpdates++;this.waiting_()}else if(t===this.lastRecordedTime){this.consecutiveUpdates++}else{this.consecutiveUpdates=0;this.lastRecordedTime=t}}},{key:"cancelTimer_",value:function e(){this.consecutiveUpdates=0;if(this.timer_){this.logger_("cancelTimer_");clearTimeout(this.timer_)}this.timer_=null}},{key:"fixesBadSeeks_",value:function e(){var t=this.seekable();var r=this.tech_.currentTime();if(this.tech_.seeking()&&this.outsideOfSeekableWindow_(t,r)){var n=t.end(t.length-1);this.logger_("Trying to seek outside of seekable at time "+r+" with "+("seekable range "+c["default"].printableRange(t)+". Seeking to ")+(n+"."));this.tech_.setCurrentTime(n);return true}return false}},{key:"waiting_",value:function e(){if(this.techWaiting_()){return}var t=this.tech_.currentTime();var r=this.tech_.buffered();var n=c["default"].findRange(r,t);if(n.length&&t+3<=n.end(0)){this.cancelTimer_();this.tech_.setCurrentTime(t);this.logger_("Stopped at "+t+" while inside a buffered region "+("["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time.");this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},{key:"techWaiting_",value:function e(){var t=this.seekable();var r=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_()){return true}if(this.tech_.seeking()||this.timer_!==null){return true}if(this.fellOutOfLiveWindow_(t,r)){var n=t.end(t.length-1);this.logger_("Fell out of live window at time "+r+". Seeking to "+("live point (seekable end) "+n));this.cancelTimer_();this.tech_.setCurrentTime(n);this.tech_.trigger({type:"usage",name:"hls-live-resync"});return true}var i=this.tech_.buffered();var a=c["default"].findNextRange(i,r);if(this.videoUnderflow_(a,i,r)){this.cancelTimer_();this.tech_.setCurrentTime(r);this.tech_.trigger({type:"usage",name:"hls-video-underflow"});return true}if(a.length>0){var o=a.start(0)-r;this.logger_("Stopped at "+r+", setting timer for "+o+", seeking "+("to "+a.start(0)));this.timer_=setTimeout(this.skipTheGap_.bind(this),o*1e3,r);return true}return false}},{key:"outsideOfSeekableWindow_",value:function e(t,r){if(!t.length){return false}if(r<t.start(0)-.1||r>t.end(t.length-1)+.1){return true}return false}},{key:"fellOutOfLiveWindow_",value:function e(t,r){if(t.length&&t.start(0)>0&&r<t.start(0)){return true}return false}},{key:"videoUnderflow_",value:function e(t,r,n){if(t.length===0){var i=this.gapFromVideoUnderflow_(r,n);if(i){this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". "+("Seeking to current time "+n));return true}}return false}},{key:"skipTheGap_",value:function e(t){var r=this.tech_.buffered();var n=this.tech_.currentTime();var i=c["default"].findNextRange(r,n);this.cancelTimer_();if(i.length===0||n!==t){return}this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",i.start(0));this.tech_.setCurrentTime(i.start(0)+c["default"].TIME_FUDGE_FACTOR);this.tech_.trigger({type:"usage",name:"hls-gap-skip"})}},{key:"gapFromVideoUnderflow_",value:function e(t,r){var n=c["default"].findGaps(t);for(var i=0;i<n.length;i++){var a=n.start(i);var o=n.end(i);if(r-a<4&&r-a>2){return{start:a,end:o}}}return null}},{key:"logger_",value:function e(){}}]);return e}();n["default"]=v;r.exports=n["default"]}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./ranges":11,"global/window":31}],8:[function(e,r,n){(function(i){"use strict";Object.defineProperty(n,"__esModule",{value:true});function a(e){return e&&e.__esModule?e:{default:e}}var o=e("./resolve-url");var s=a(o);var u=typeof window!=="undefined"?t:typeof i!=="undefined"?i["videojs"]:null;var l=e("./playlist.js");var f=e("m3u8-parser");var c=a(f);var d=e("global/window");var p=a(d);var h=function e(t,r,n){var i=r.slice();var a=undefined;var o=undefined;n=n||0;a=Math.min(t.length,r.length+n);for(o=n;o<a;o++){i[o-n]=(0,u.mergeOptions)(t[o],i[o-n])}return i};var v=function e(t,r){var n=false;var i=(0,u.mergeOptions)(t,{});var a=t.playlists.length;var o=undefined;var l=undefined;var f=undefined;while(a--){o=i.playlists[a];if(o.uri===r.uri){if(o.segments&&r.segments&&o.segments.length===r.segments.length&&o.mediaSequence===r.mediaSequence){continue}i.playlists[a]=(0,u.mergeOptions)(o,r);i.playlists[r.uri]=i.playlists[a];if(o.segments){i.playlists[a].segments=h(o.segments,r.segments,r.mediaSequence-o.mediaSequence)}f=0;if(i.playlists[a].segments){f=i.playlists[a].segments.length}while(f--){l=i.playlists[a].segments[f];if(!l.resolvedUri){l.resolvedUri=(0,s["default"])(o.resolvedUri,l.uri)}if(l.key&&!l.key.resolvedUri){l.key.resolvedUri=(0,s["default"])(o.resolvedUri,l.key.uri)}if(l.map&&!l.map.resolvedUri){l.map.resolvedUri=(0,s["default"])(o.resolvedUri,l.map.uri)}}n=true}}return n?i:null};var y=function e(t,r,n){var i=this;var a=this;var o=undefined;var f=undefined;var d=undefined;var h=undefined;e.prototype.constructor.call(this);this.hls_=r;if(!t){throw new Error("A non-empty playlist URL is required")}d=function(e,t,r){a.setBandwidth(f||e);f=null;if(r){a.state=r}a.error={playlist:a.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:e.status>=500?4:2};a.trigger("error")};h=function(e,t){var r=undefined;var n=undefined;var i=undefined;a.setBandwidth(f||e);f=null;a.state="HAVE_METADATA";r=new c["default"].Parser;r.push(e.responseText);r.end();r.manifest.uri=t;r.manifest.attributes=r.manifest.attributes||{};i=v(a.master,r.manifest);n=(r.manifest.targetDuration||10)*1e3;a.targetDuration=r.manifest.targetDuration;if(i){a.master=i;a.media_=a.master.playlists[r.manifest.uri]}else{n/=2;a.trigger("playlistunchanged")}if(!a.media().endList){p["default"].clearTimeout(o);o=p["default"].setTimeout(function(){a.trigger("mediaupdatetimeout")},n)}a.trigger("loadedplaylist")};a.state="HAVE_NOTHING";a.dispose=function(){a.stopRequest();p["default"].clearTimeout(o);a.off()};a.stopRequest=function(){if(f){var e=f;f=null;e.onreadystatechange=null;e.abort()}};a.enabledPlaylists_=function(){return a.master.playlists.filter(l.isEnabled).length};a.isLowestEnabledRendition_=function(){if(a.master.playlists.length===1){return true}var e=a.media();var t=e.attributes.BANDWIDTH||Number.MAX_VALUE;return a.master.playlists.filter(function(e){var r=(0,l.isEnabled)(e);if(!r){return false}return(e.attributes.BANDWIDTH||0)<t}).length===0};a.isFinalRendition_=function(){return a.master.playlists.filter(l.isEnabled).length===1};a.media=function(e){var t=a.state;var r=undefined;if(!e){return a.media_}if(a.state==="HAVE_NOTHING"){throw new Error("Cannot switch media playlist from "+a.state)}if(typeof e==="string"){if(!a.master.playlists[e]){throw new Error("Unknown playlist URI: "+e)}e=a.master.playlists[e]}r=!a.media_||e.uri!==a.media_.uri;if(a.master.playlists[e.uri].endList){if(f){f.onreadystatechange=null;f.abort();f=null}a.state="HAVE_METADATA";a.media_=e;if(r){a.trigger("mediachanging");a.trigger("mediachange")}return}if(!r){return}a.state="SWITCHING_MEDIA";if(f){if((0,s["default"])(a.master.uri,e.uri)===f.url){return}f.onreadystatechange=null;f.abort();f=null}if(this.media_){this.trigger("mediachanging")}f=this.hls_.xhr({uri:(0,s["default"])(a.master.uri,e.uri),withCredentials:n},function(r,n){if(!f){return}if(r){return d(f,e.uri,t)}h(n,e.uri);if(t==="HAVE_MASTER"){a.trigger("loadedmetadata")}else{a.trigger("mediachange")}})};a.setBandwidth=function(e){a.bandwidth=e.bandwidth};a.on("mediaupdatetimeout",function(){if(a.state!=="HAVE_METADATA"){return}a.state="HAVE_CURRENT_METADATA";f=this.hls_.xhr({uri:(0,s["default"])(a.master.uri,a.media().uri),withCredentials:n},function(e,t){if(!f){return}if(e){return d(f,a.media().uri,"HAVE_METADATA")}h(f,a.media().uri)})});a.on("firstplay",function(){var e=a.media();if(e){e.syncInfo={mediaSequence:e.mediaSequence,time:0}}});a.pause=function(){a.stopRequest();p["default"].clearTimeout(o);if(a.state==="HAVE_NOTHING"){a.started=false}};a.load=function(e){var t=a.media();p["default"].clearTimeout(o);if(e){var r=t?t.targetDuration/2*1e3:5*1e3;o=p["default"].setTimeout(a.load.bind(null,false),r);return}if(!a.started){a.start();return}if(t&&!t.endList){a.trigger("mediaupdatetimeout")}else{a.trigger("loadedplaylist")}};a.start=function(){a.started=true;f=i.hls_.xhr({uri:t,withCredentials:n},function(e,r){var n=undefined;var i=undefined;var o=undefined;if(!f){return}f=null;if(e){a.error={status:r.status,message:"HLS playlist request error at URL: "+t,responseText:r.responseText,code:2};if(a.state==="HAVE_NOTHING"){a.started=false}return a.trigger("error")}n=new c["default"].Parser;n.push(r.responseText);n.end();a.state="HAVE_MASTER";n.manifest.uri=t;if(n.manifest.playlists){a.master=n.manifest;o=a.master.playlists.length;while(o--){i=a.master.playlists[o];a.master.playlists[i.uri]=i;i.resolvedUri=(0,s["default"])(a.master.uri,i.uri);if(!i.attributes){i.attributes={};u.log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}["AUDIO","SUBTITLES"].forEach(function(e){for(var t in a.master.mediaGroups[e]){for(var r in a.master.mediaGroups[e][t]){var n=a.master.mediaGroups[e][t][r];if(n.uri){n.resolvedUri=(0,s["default"])(a.master.uri,n.uri)}}}});a.trigger("loadedplaylist");if(!f){a.media(n.manifest.playlists[0])}return}a.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:p["default"].location.href,playlists:[{uri:t}]};a.master.playlists[t]=a.master.playlists[0];a.master.playlists[0].resolvedUri=t;a.master.playlists[0].attributes=a.master.playlists[0].attributes||{};h(r,t);return a.trigger("loadedmetadata")})}};y.prototype=new u.EventTarget;n["default"]=y;r.exports=n["default"]}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./playlist.js":10,"./resolve-url":14,"global/window":31,"m3u8-parser":32}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=e("./config");var a=n(i);var o=e("./playlist");var s=n(o);var u=e("./util/codecs.js");var l=function e(t,r){var n=undefined;if(!t){return""}n=window.getComputedStyle(t);if(!n){return""}return n[r]};var f=function e(t,r){var n=t.slice();t.sort(function(e,t){var i=r(e,t);if(i===0){return n.indexOf(e)-n.indexOf(t)}return i})};var c=function e(t,r){var n=undefined;var i=undefined;if(t.attributes.BANDWIDTH){n=t.attributes.BANDWIDTH}n=n||window.Number.MAX_VALUE;if(r.attributes.BANDWIDTH){i=r.attributes.BANDWIDTH}i=i||window.Number.MAX_VALUE;return n-i};r.comparePlaylistBandwidth=c;var d=function e(t,r){var n=undefined;var i=undefined;if(t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width){n=t.attributes.RESOLUTION.width}n=n||window.Number.MAX_VALUE;if(r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width){i=r.attributes.RESOLUTION.width}i=i||window.Number.MAX_VALUE;if(n===i&&t.attributes.BANDWIDTH&&r.attributes.BANDWIDTH){return t.attributes.BANDWIDTH-r.attributes.BANDWIDTH}return n-i};r.comparePlaylistResolution=d;var p=function e(t,r,n,i){var o=t.playlists.map(function(e){var t=undefined;var r=undefined;var n=undefined;t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width;r=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;n=e.attributes.BANDWIDTH;n=n||window.Number.MAX_VALUE;return{bandwidth:n,width:t,height:r,playlist:e}});f(o,function(e,t){return e.bandwidth-t.bandwidth});o=o.filter(function(e){return s["default"].isEnabled(e.playlist)});var u=o.filter(function(e){return e.bandwidth*a["default"].BANDWIDTH_VARIANCE<r});var l=u[u.length-1];var c=u.filter(function(e){return e.bandwidth===l.bandwidth})[0];var d=u.filter(function(e){return e.width&&e.height});f(d,function(e,t){return e.width-t.width});var p=d.filter(function(e){return e.width===n&&e.height===i});l=p[p.length-1];var h=p.filter(function(e){return e.bandwidth===l.bandwidth})[0];var v=undefined;var y=undefined;var g=undefined;if(!h){v=d.filter(function(e){return e.width>n||e.height>i});y=v.filter(function(e){return e.width===v[0].width&&e.height===v[0].height});l=y[y.length-1];g=y.filter(function(e){return e.bandwidth===l.bandwidth})[0]}return(g||h||c||o[0]).playlist};r.simpleSelector=p;var h=function e(){return p(this.playlists.master,this.systemBandwidth,parseInt(l(this.tech_.el(),"width"),10),parseInt(l(this.tech_.el(),"height"),10))};r.lastBandwidthSelector=h;var v=function e(t){var r=-1;if(t<0||t>1){throw new Error("Moving average bandwidth decay must be between 0 and 1.")}return function(){if(r<0){r=this.systemBandwidth}r=t*this.systemBandwidth+(1-t)*r;return p(this.playlists.master,r,parseInt(l(this.tech_.el(),"width"),10),parseInt(l(this.tech_.el(),"height"),10))}};r.movingAverageBandwidthSelector=v;var y=function e(t){var r=t.master;var n=t.currentTime;var i=t.bandwidth;var a=t.duration;var o=t.segmentDuration;var u=t.timeUntilRebuffer;var l=t.currentTimeline;var d=t.syncController;var p=r.playlists.filter(function(e){return s["default"].isEnabled(e)&&s["default"].hasAttribute("BANDWIDTH",e)});var h=p.map(function(e){var t=d.getSyncPoint(e,a,l,n);var r=t?1:2;var f=s["default"].estimateSegmentRequestTime(o,i,e);var c=f*r-u;return{playlist:e,rebufferingImpact:c}});var v=h.filter(function(e){return e.rebufferingImpact<=0});f(v,function(e,t){return c(t.playlist,e.playlist)});if(v.length){return v[0]}f(h,function(e,t){return e.rebufferingImpact-t.rebufferingImpact});return h[0]||null};r.minRebufferMaxBandwidthSelector=y;var g=function e(){var t=this.playlists.master.playlists.filter(s["default"].isEnabled);f(t,function(e,t){return c(e,t)});var r=t.filter(function(e){return(0,u.parseCodecs)(e.attributes.CODECS).videoCodec});return r[0]||null};r.lowestBitrateCompatibleVariantSelector=g},{"./config":3,"./playlist":10,"./util/codecs.js":18}],10:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});function i(e){return e&&e.__esModule?e:{default:e}}var a=typeof window!=="undefined"?t:typeof r!=="undefined"?r["videojs"]:null;var o=e("global/window");var s=i(o);var u={UNSAFE_LIVE_SEGMENTS:3};var l=function e(t,r){var n=0;var i=r-t.mediaSequence;var a=t.segments[i];if(a){if(typeof a.start!=="undefined"){return{result:a.start,precise:true}}if(typeof a.end!=="undefined"){return{result:a.end-a.duration,precise:true}}}while(i--){a=t.segments[i];if(typeof a.end!=="undefined"){return{result:n+a.end,precise:true}}n+=a.duration;if(typeof a.start!=="undefined"){return{result:n+a.start,precise:true}}}return{result:n,precise:false}};var f=function e(t,r){var n=0;var i=undefined;var a=r-t.mediaSequence;for(;a<t.segments.length;a++){i=t.segments[a];if(typeof i.start!=="undefined"){return{result:i.start-n,precise:true}}n+=i.duration;if(typeof i.end!=="undefined"){return{result:i.end-n,precise:true}}}return{result:-1,precise:false}};var c=function e(t,r,n){var i=undefined;var a=undefined;if(typeof r==="undefined"){r=t.mediaSequence+t.segments.length}if(r<t.mediaSequence){return 0}i=l(t,r);if(i.precise){return i.result}a=f(t,r);if(a.precise){return a.result}return i.result+n};var d=function e(t,r,n){if(!t){return 0}if(typeof n!=="number"){n=0}if(typeof r==="undefined"){if(t.totalDuration){return t.totalDuration}if(!t.endList){return s["default"].Infinity}}return c(t,r,n)};n.duration=d;var p=function e(t,r,n){var i=0;if(r>n){var a=[n,r];r=a[0];n=a[1]}if(r<0){for(var o=r;o<Math.min(0,n);o++){i+=t.targetDuration}r=0}for(var o=r;o<n;o++){i+=t.segments[o].duration}return i};n.sumDurations=p;var h=function e(t,r,n){if(!t||!t.segments){return null}if(t.endList){return d(t)}if(r===null){return null}r=r||0;var i=n?Math.max(0,t.segments.length-u.UNSAFE_LIVE_SEGMENTS):Math.max(0,t.segments.length);return c(t,t.mediaSequence+i,r)};n.playlistEnd=h;var v=function e(t,r){var n=true;var i=r||0;var o=h(t,r,n);if(o===null){return(0,a.createTimeRange)()}return(0,a.createTimeRange)(i,o)};n.seekable=v;var y=function e(t){return t-Math.floor(t)===0};var g=function e(t,r){if(y(r)){return r+t*.1}var n=r.toString().split(".")[1].length;for(var i=1;i<=n;i++){var a=Math.pow(10,i);var o=r*a;if(y(o)||i===n){return(o+t)/a}}};var m=g.bind(null,1);var _=g.bind(null,-1);var b=function e(t,r,n,i){var a=undefined;var o=undefined;var s=t.segments.length;var u=r-i;if(u<0){if(n>0){for(a=n-1;a>=0;a--){o=t.segments[a];u+=_(o.duration);if(u>0){return{mediaIndex:a,startTime:i-p(t,n,a)}}}}return{mediaIndex:0,startTime:r}}if(n<0){for(a=n;a<0;a++){u-=t.targetDuration;if(u<0){return{mediaIndex:0,startTime:r}}}n=0}for(a=n;a<s;a++){o=t.segments[a];u-=m(o.duration);if(u<0){return{mediaIndex:a,startTime:i+p(t,n,a)}}}return{mediaIndex:s-1,startTime:r}};n.getMediaInfoForTime=b;var T=function e(t){return t.excludeUntil&&t.excludeUntil>Date.now()};n.isBlacklisted=T;var E=function e(t){var r=T(t);return!t.disabled&&!r};n.isEnabled=E;var w=function e(t){for(var r=0;r<t.segments.length;r++){if(t.segments[r].key){return true}}return false};n.isAes=w;var S=function e(t){for(var r=0;r<t.segments.length;r++){if(t.segments[r].map){return true}}return false};n.isFmp4=S;var C=function e(t,r){return r.attributes&&r.attributes[t]};n.hasAttribute=C;var O=function e(t,r,n){var i=arguments.length<=3||arguments[3]===undefined?0:arguments[3];if(!C("BANDWIDTH",n)){return NaN}var a=t*n.attributes.BANDWIDTH;return(a-i*8)/r};n.estimateSegmentRequestTime=O;u.duration=d;u.seekable=v;u.getMediaInfoForTime=b;u.isEnabled=E;u.isBlacklisted=T;u.playlistEnd=h;u.isAes=w;u.isFmp4=S;u.hasAttribute=C;u.estimateSegmentRequestTime=O;n["default"]=u}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"global/window":31}],11:[function(e,r,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:true});var i=function(){function e(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"])o["return"]()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();function a(e){return e&&e.__esModule?e:{default:e}}var o=typeof window!=="undefined"?t:typeof e!=="undefined"?e["videojs"]:null;var s=a(o);var u=1/30;var l=function e(t,r){var n=i(r,2);var a=n[0];var o=n[1];return Math.min(Math.max(a,t),o)};var f=function e(t,r){var n=[];var i=undefined;if(t&&t.length){for(i=0;i<t.length;i++){if(r(t.start(i),t.end(i))){n.push([t.start(i),t.end(i)])}}}return s["default"].createTimeRanges(n)};var c=function e(t,r){return f(t,function(e,t){return e-u<=r&&t+u>=r})};var d=function e(t,r){return f(t,function(e){return e-u>=r})};var p=function e(t){if(t.length<2){return s["default"].createTimeRanges()}var r=[];for(var n=1;n<t.length;n++){var i=t.end(n-1);var a=t.start(n);r.push([i,a])}return s["default"].createTimeRanges(r)};var h=function e(t,r){var n=undefined;var i=undefined;var a=undefined;var o=[];var s=[];var u=function e(t){return t[0]<=a&&t[1]>=a};if(t){for(n=0;n<t.length;n++){i=t.start(n);a=t.end(n);s.push([i,a])}}if(r){for(n=0;n<r.length;n++){i=r.start(n);a=r.end(n);if(s.some(u)){continue}o.push(a)}}if(o.length!==1){return null}return o[0]};var v=function e(t,r){var n=null;var i=null;var a=0;var o=[];var u=[];if(!t||!t.length||!r||!r.length){return s["default"].createTimeRange()}var l=t.length;while(l--){o.push({time:t.start(l),type:"start"});o.push({time:t.end(l),type:"end"})}l=r.length;while(l--){o.push({time:r.start(l),type:"start"});o.push({time:r.end(l),type:"end"})}o.sort(function(e,t){return e.time-t.time});for(l=0;l<o.length;l++){if(o[l].type==="start"){a++;if(a===2){n=o[l].time}}else if(o[l].type==="end"){a--;if(a===1){i=o[l].time}}if(n!==null&&i!==null){u.push([n,i]);n=null;i=null}}return s["default"].createTimeRanges(u)};var y=function e(t,r,n,i){var a=r.end(0)-r.start(0);var o=t.end(0)-t.start(0);var s=a-o;var u=v(t,i);var l=v(r,i);var f=0;var c=0;var d=u.length;while(d--){f+=u.end(d)-u.start(d);if(u.start(d)===n){f+=s}}d=l.length;while(d--){c+=l.end(d)-l.start(d)}return Math.max(f,c)/a*100};var g=function e(t,r,n,i){var a=t+r;var o=s["default"].createTimeRanges([[t,a]]);var u=s["default"].createTimeRanges([[l(t,[n,a]),a]]);if(u.start(0)===u.end(0)){return 0}var f=y(u,o,n,i);if(isNaN(f)||f===Infinity||f===-Infinity){return 0}return f};var m=function e(t){var r=[];if(!t||!t.length){return""}for(var n=0;n<t.length;n++){r.push(t.start(n)+" => "+t.end(n))}return r.join(", ")};var _=function e(t,r){var n=arguments.length<=2||arguments[2]===undefined?1:arguments[2];var i=t.length?t.end(t.length-1):0;return(i-r)/n};n["default"]={findRange:c,findNextRange:d,findGaps:p,findSoleUncommonTimeRangesEnd:h,getSegmentBufferedPercent:g,TIME_FUDGE_FACTOR:u,printableRange:m,timeUntilRebuffer:_};r.exports=n["default"]}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],12:[function(e,r,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:true});function i(e){return e&&e.__esModule?e:{default:e}}var a=typeof window!=="undefined"?t:typeof e!=="undefined"?e["videojs"]:null;var o=i(a);var s={errorInterval:30,getSource:function e(t){var r=this.tech({IWillNotUseThisInPlugins:true});var n=r.currentSource_;return t(n)}};var u=function e(t,r){var n=0;var i=0;var a=o["default"].mergeOptions(s,r);t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var u=function e(){if(i){t.currentTime(i)}};var l=function e(r){if(r===null||r===undefined){return}i=t.duration()!==Infinity&&t.currentTime()||0;t.one("loadedmetadata",u);t.src(r);t.trigger({type:"usage",name:"hls-error-reload"});t.play()};var f=function e(){if(Date.now()-n<a.errorInterval*1e3){t.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!a.getSource||typeof a.getSource!=="function"){o["default"].log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}n=Date.now();return a.getSource.call(t,l)};var c=function e(){t.off("loadedmetadata",u);t.off("error",f);t.off("dispose",e)};var d=function r(n){c();e(t,n)};t.on("error",f);t.on("dispose",c);t.reloadSourceOnError=d};var l=function e(t){u(this,t)};n["default"]=l;r.exports=n["default"]}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=e("./playlist.js");var a=function e(t,r,n,a){var o=t.master.playlists[r];var s=(0,i.isBlacklisted)(o);var u=(0,i.isEnabled)(o);if(typeof a==="undefined"){return u}if(a){delete o.disabled}else{o.disabled=true}if(a!==u&&!s){n();if(a){t.trigger("renditionenabled")}else{t.trigger("renditiondisabled")}}return a};var o=function e(t,r,i){n(this,e);var o=t.masterPlaylistController_.fastQualityChange_.bind(t.masterPlaylistController_);if(r.attributes.RESOLUTION){var s=r.attributes.RESOLUTION;this.width=s.width;this.height=s.height}this.bandwidth=r.attributes.BANDWIDTH;this.id=i;this.enabled=a.bind(this,t.playlists,r.uri,o)};var s=function e(t){var r=t.playlists;t.representations=function(){return r.master.playlists.filter(function(e){return!(0,i.isBlacklisted)(e)}).map(function(e,r){return new o(t,e,e.uri)})}};r["default"]=s;t.exports=r["default"]},{"./playlist.js":10}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=e("url-toolkit");var a=n(i);var o=e("global/window");var s=n(o);var u=function e(t,r){if(/^[a-z]+:/i.test(r)){return r}if(!/\/\//i.test(t)){t=a["default"].buildAbsoluteURL(s["default"].location.href,t)}return a["default"].buildAbsoluteURL(t,r)};r["default"]=u;t.exports=r["default"]},{"global/window":31,"url-toolkit":62}],15:[function(e,r,n){(function(i){"use strict";Object.defineProperty(n,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var o=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var f=e("./playlist");var c=s(f);var d=typeof window!=="undefined"?t:typeof i!=="undefined"?i["videojs"]:null;var p=s(d);var h=e("./source-updater");var v=s(h);var y=e("./config");var g=s(y);var m=e("global/window");var _=s(m);var b=e("videojs-contrib-media-sources/es5/remove-cues-from-track.js");var T=s(b);var E=e("./bin-utils");var w=e("./media-segment-request");var S=e("./ranges");var C=e("./playlist-selectors");var O=500;var k=function e(t,r,n){if(!t||!r){return false}var i=t.segments;var a=n===i.length;return t.endList&&r.readyState==="open"&&a};var P=function e(t){return typeof t==="number"&&isFinite(t)};var x=function(e){l(t,e);function t(e){var r=this;var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];u(this,t);o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);if(!e){throw new TypeError("Initialization settings are required")}if(typeof e.currentTime!=="function"){throw new TypeError("No currentTime getter specified")}if(!e.mediaSource){throw new TypeError("No MediaSource specified")}this.state="INIT";this.bandwidth=e.bandwidth;this.throughput={rate:0,count:0};this.roundTrip=NaN;this.resetStats_();this.mediaIndex=null;this.hasPlayed_=e.hasPlayed;this.currentTime_=e.currentTime;this.seekable_=e.seekable;this.seeking_=e.seeking;this.duration_=e.duration;this.mediaSource_=e.mediaSource;this.hls_=e.hls;this.loaderType_=e.loaderType;this.segmentMetadataTrack_=e.segmentMetadataTrack;this.goalBufferLength_=e.goalBufferLength;this.checkBufferTimeout_=null;this.error_=void 0;this.currentTimeline_=-1;this.pendingSegment_=null;this.mimeType_=null;this.sourceUpdater_=null;this.xhrOptions_=null;this.activeInitSegmentId_=null;this.initSegments_={};this.decrypter_=e.decrypter;this.syncController_=e.syncController;this.syncPoint_={segmentIndex:0,time:0};this.syncController_.on("syncinfoupdate",function(){return r.trigger("syncinfoupdate")});this.mediaSource_.addEventListener("sourceopen",function(){return r.ended_=false});this.fetchAtBuffer_=false;if(n.debug){this.logger_=p["default"].log.bind(p["default"],"segment-loader",this.loaderType_,"->")}}a(t,[{key:"resetStats_",value:function e(){this.mediaBytesTransferred=0;this.mediaRequests=0;this.mediaRequestsAborted=0;this.mediaRequestsTimedout=0;this.mediaRequestsErrored=0;this.mediaTransferDuration=0;this.mediaSecondsLoaded=0}},{key:"dispose",value:function e(){this.state="DISPOSED";this.pause();this.abort_();if(this.sourceUpdater_){this.sourceUpdater_.dispose()}this.resetStats_()}},{key:"abort",value:function e(){if(this.state!=="WAITING"){if(this.pendingSegment_){this.pendingSegment_=null}return}this.abort_();this.state="READY";if(!this.paused()){this.monitorBuffer_()}}},{key:"abort_",value:function e(){if(this.pendingSegment_){this.pendingSegment_.abortRequests()}this.pendingSegment_=null}},{key:"error",value:function e(t){if(typeof t!=="undefined"){this.error_=t}this.pendingSegment_=null;return this.error_}},{key:"endOfStream",value:function e(){this.ended_=true;this.pause();this.trigger("ended")}},{key:"buffered_",value:function e(){if(!this.sourceUpdater_){return p["default"].createTimeRanges()}return this.sourceUpdater_.buffered()}},{key:"initSegment",value:function e(t){var r=arguments.length<=1||arguments[1]===undefined?false:arguments[1];if(!t){return null}var n=(0,E.initSegmentId)(t);var i=this.initSegments_[n];if(r&&!i&&t.bytes){this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes}}return i||t}},{key:"couldBeginLoading_",value:function e(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&this.state==="INIT")&&!this.paused()}},{key:"load",value:function e(){this.monitorBuffer_();if(!this.playlist_){return}this.syncController_.setDateTimeMapping(this.playlist_);if(this.state==="INIT"&&this.couldBeginLoading_()){return this.init_()}if(!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"){return}this.state="READY"}},{key:"init_",value:function e(){this.state="READY";this.sourceUpdater_=new v["default"](this.mediaSource_,this.mimeType_);this.resetEverything();return this.monitorBuffer_()}},{key:"playlist",value:function e(t){var r=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(!t){return}var n=this.playlist_;var i=this.pendingSegment_;this.playlist_=t;this.xhrOptions_=r;if(!this.hasPlayed_()){t.syncInfo={mediaSequence:t.mediaSequence,time:0}}this.trigger("syncinfoupdate");if(this.state==="INIT"&&this.couldBeginLoading_()){return this.init_()}if(!n||n.uri!==t.uri){if(this.mediaIndex!==null){this.resyncLoader()}return}var a=t.mediaSequence-n.mediaSequence;this.logger_("mediaSequenceDiff",a);if(this.mediaIndex!==null){this.mediaIndex-=a}if(i){i.mediaIndex-=a;if(i.mediaIndex>=0){i.segment=t.segments[i.mediaIndex]}}this.syncController_.saveExpiredSegmentInfo(n,t)}},{key:"pause",value:function e(){if(this.checkBufferTimeout_){_["default"].clearTimeout(this.checkBufferTimeout_);this.checkBufferTimeout_=null}}},{key:"paused",value:function e(){return this.checkBufferTimeout_===null}},{key:"mimeType",value:function e(t){if(this.mimeType_){return}this.mimeType_=t;if(this.state==="INIT"&&this.couldBeginLoading_()){this.init_()}}},{key:"resetEverything",value:function e(){this.ended_=false;this.resetLoader();this.remove(0,this.duration_());this.trigger("reseteverything")}},{key:"resetLoader",value:function e(){this.fetchAtBuffer_=false;this.resyncLoader()}},{key:"resyncLoader",value:function e(){this.mediaIndex=null;this.syncPoint_=null;this.abort()}},{key:"remove",value:function e(t,r){if(this.sourceUpdater_){this.sourceUpdater_.remove(t,r)}(0,T["default"])(t,r,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function e(){if(this.checkBufferTimeout_){_["default"].clearTimeout(this.checkBufferTimeout_)}this.checkBufferTimeout_=_["default"].setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function e(){if(this.state==="READY"){this.fillBuffer_()}if(this.checkBufferTimeout_){_["default"].clearTimeout(this.checkBufferTimeout_)}this.checkBufferTimeout_=_["default"].setTimeout(this.monitorBufferTick_.bind(this),O)}},{key:"fillBuffer_",value:function e(){if(this.sourceUpdater_.updating()){return}if(!this.syncPoint_){this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_())}var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(!t){return}var r=k(this.playlist_,this.mediaSource_,t.mediaIndex);if(r){this.endOfStream();return}if(t.mediaIndex===this.playlist_.segments.length-1&&this.mediaSource_.readyState==="ended"&&!this.seeking_()){return}if(t.timeline!==this.currentTimeline_||t.startOfSegment!==null&&t.startOfSegment<this.sourceUpdater_.timestampOffset()){this.syncController_.reset();t.timestampOffset=t.startOfSegment}this.loadSegment_(t)}},{key:"checkBuffer_",value:function e(t,r,n,i,a,o){var s=0;var u=undefined;if(t.length){s=t.end(t.length-1)}var l=Math.max(0,s-a);if(!r.segments.length){return null}if(l>=this.goalBufferLength_()){return null}if(!i&&l>=1){return null}this.logger_("checkBuffer_","mediaIndex:",n,"hasPlayed:",i,"currentTime:",a,"syncPoint:",o,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",l);if(o===null){n=this.getSyncSegmentCandidate_(r);this.logger_("getSync","mediaIndex:",n);return this.generateSegmentInfo_(r,n,null,true)}if(n!==null){this.logger_("walkForward","mediaIndex:",n+1);var f=r.segments[n];if(f&&f.end){u=f.end}else{u=s}return this.generateSegmentInfo_(r,n+1,u,false)}if(this.fetchAtBuffer_){var d=c["default"].getMediaInfoForTime(r,s,o.segmentIndex,o.time);n=d.mediaIndex;u=d.startTime}else{var d=c["default"].getMediaInfoForTime(r,a,o.segmentIndex,o.time);n=d.mediaIndex;u=d.startTime}this.logger_("getMediaIndexForTime","mediaIndex:",n,"startOfSegment:",u);return this.generateSegmentInfo_(r,n,u,false)}},{key:"getSyncSegmentCandidate_",value:function e(t){var r=this;if(this.currentTimeline_===-1){return 0}var n=t.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===r.currentTimeline_});if(n.length){return n[Math.min(n.length-1,1)].segmentIndex}return Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function e(t,r,n,i){if(r<0||r>=t.segments.length){return null}var a=t.segments[r];return{requestId:"segment-loader-"+Math.random(),uri:a.resolvedUri,mediaIndex:r,isSyncRequest:i,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:a.timeline,duration:a.duration,segment:a}}},{key:"abortRequestEarly_",value:function e(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH){return false}if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3){return false}var r=this.currentTime_();var n=t.bandwidth;var i=this.pendingSegment_.duration;var a=c["default"].estimateSegmentRequestTime(i,n,this.playlist_,t.bytesReceived);var o=(0,S.timeUntilRebuffer)(this.buffered_(),r,this.hls_.tech_.playbackRate())-1;if(a<=o){return false}var s=(0,C.minRebufferMaxBandwidthSelector)({master:this.hls_.playlists.master,currentTime:r,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!s){return}var u=a-o;var l=u-s.rebufferingImpact;var f=.5;if(o<=S.TIME_FUDGE_FACTOR){f=1}if(!s.playlist||s.playlist.uri===this.playlist_.uri||l<f){return false}this.bandwidth=s.playlist.attributes.BANDWIDTH*g["default"].BANDWIDTH_VARIANCE+1;this.abort();this.trigger("earlyabort");return true}},{key:"handleProgress_",value:function e(t,r){if(!this.pendingSegment_||r.requestId!==this.pendingSegment_.requestId||this.abortRequestEarly_(r.stats)){return}this.trigger("progress")}},{key:"loadSegment_",value:function e(t){this.state="WAITING";this.pendingSegment_=t;this.trimBackBuffer_(t);t.abortRequests=(0,w.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function e(t){var r=this.seekable_();var n=this.currentTime_();var i=0;if(r.length&&r.start(0)>0&&r.start(0)<n){i=r.start(0)}else{i=n-30}if(i>0){this.remove(0,i)}}},{key:"createSimplifiedSegmentObj_",value:function e(t){var r=t.segment;var n={resolvedUri:r.resolvedUri,byterange:r.byterange,requestId:t.requestId};if(r.key){var i=r.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key={resolvedUri:r.key.resolvedUri,iv:i}}if(r.map){n.map=this.initSegment(r.map)}return n}},{key:"segmentRequestFinished_",value:function e(t,r){this.mediaRequests+=1;if(r.stats){this.mediaBytesTransferred+=r.stats.bytesReceived;this.mediaTransferDuration+=r.stats.roundTripTime}if(!this.pendingSegment_){this.mediaRequestsAborted+=1;return}if(r.requestId!==this.pendingSegment_.requestId){return}if(t){this.pendingSegment_=null;this.state="READY";if(t.code===w.REQUEST_ERRORS.ABORTED){this.mediaRequestsAborted+=1;return}this.pause();if(t.code===w.REQUEST_ERRORS.TIMEOUT){this.mediaRequestsTimedout+=1;this.bandwidth=1;this.roundTrip=NaN;this.trigger("bandwidthupdate");return}this.mediaRequestsErrored+=1;this.error(t);this.trigger("error");return}this.bandwidth=r.stats.bandwidth;this.roundTrip=r.stats.roundTripTime;if(r.map){r.map=this.initSegment(r.map,true)}this.processSegmentResponse_(r)}},{key:"processSegmentResponse_",value:function e(t){var r=this.pendingSegment_;r.bytes=t.bytes;if(t.map){r.segment.map.bytes=t.map.bytes}r.endOfAllRequests=t.endOfAllRequests;this.handleSegment_()}},{key:"handleSegment_",value:function e(){var t=this;if(!this.pendingSegment_){this.state="READY";return}this.state="APPENDING";var r=this.pendingSegment_;var n=r.segment;this.syncController_.probeSegmentInfo(r);if(r.isSyncRequest){this.trigger("syncinfoupdate");this.pendingSegment_=null;this.state="READY";return}if(r.timestampOffset!==null&&r.timestampOffset!==this.sourceUpdater_.timestampOffset()){this.sourceUpdater_.timestampOffset(r.timestampOffset);this.trigger("timestampoffset")}if(n.map){(function(){var e=(0,E.initSegmentId)(n.map);if(!t.activeInitSegmentId_||t.activeInitSegmentId_!==e){var r=t.initSegment(n.map);t.sourceUpdater_.appendBuffer(r.bytes,function(){t.activeInitSegmentId_=e})}})()}r.byteLength=r.bytes.byteLength;if(typeof n.start==="number"&&typeof n.end==="number"){this.mediaSecondsLoaded+=n.end-n.start}else{this.mediaSecondsLoaded+=n.duration}this.sourceUpdater_.appendBuffer(r.bytes,this.handleUpdateEnd_.bind(this))}},{key:"handleUpdateEnd_",value:function e(){this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_);if(!this.pendingSegment_){this.state="READY";if(!this.paused()){this.monitorBuffer_()}return}var t=this.pendingSegment_;var r=t.segment;var n=this.mediaIndex!==null;this.pendingSegment_=null;this.recordThroughput_(t);this.addSegmentMetadataCue_(t);this.state="READY";this.mediaIndex=t.mediaIndex;this.fetchAtBuffer_=true;this.currentTimeline_=t.timeline;this.trigger("syncinfoupdate");if(r.end&&this.currentTime_()-r.end>t.playlist.targetDuration*3){this.resetEverything();return}if(n){this.trigger("bandwidthupdate")}this.trigger("progress");var i=k(t.playlist,this.mediaSource_,t.mediaIndex+1);if(i){this.endOfStream()}if(!this.paused()){this.monitorBuffer_()}}},{key:"recordThroughput_",value:function e(t){var r=this.throughput.rate;var n=Date.now()-t.endOfAllRequests+1;var i=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(i-r)/++this.throughput.count}},{key:"logger_",value:function e(){}},{key:"addSegmentMetadataCue_",value:function e(t){if(!this.segmentMetadataTrack_){return}var r=t.segment;var n=r.start;var i=r.end;if(!P(n)||!P(i)){return}(0,T["default"])(n,i,this.segmentMetadataTrack_);var a=_["default"].WebKitDataCue||_["default"].VTTCue;var o={uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:n,end:i};var s=JSON.stringify(o);var u=new a(n,i,s);u.value=o;this.segmentMetadataTrack_.addCue(u)}}]);return t}(p["default"].EventTarget);n["default"]=x;r.exports=n["default"]}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./bin-utils":2,"./config":3,"./media-segment-request":6,"./playlist":10,"./playlist-selectors":9,"./ranges":11,"./source-updater":16,"global/window":31,"videojs-contrib-media-sources/es5/remove-cues-from-track.js":72}],16:[function(e,r,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:true});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=typeof window!=="undefined"?t:typeof e!=="undefined"?e["videojs"]:null;var u=a(s);var l=function e(){};var f=function(){function e(t,r){var n=this;o(this,e);var i=function e(){n.sourceBuffer_=t.addSourceBuffer(r);n.onUpdateendCallback_=function(){var e=n.pendingCallback_;n.pendingCallback_=null;if(e){e()}n.runCallback_()};n.sourceBuffer_.addEventListener("updateend",n.onUpdateendCallback_);n.runCallback_()};this.callbacks_=[];this.pendingCallback_=null;this.timestampOffset_=0;this.mediaSource=t;this.processedAppend_=false;if(t.readyState==="closed"){t.addEventListener("sourceopen",i)}else{i()}}i(e,[{key:"abort",value:function e(t){var r=this;if(this.processedAppend_){this.queueCallback_(function(){r.sourceBuffer_.abort()},t)}}},{key:"appendBuffer",value:function e(t,r){var n=this;this.processedAppend_=true;this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(t)},r)}},{key:"buffered",value:function e(){if(!this.sourceBuffer_){return u["default"].createTimeRanges()}return this.sourceBuffer_.buffered}},{key:"remove",value:function e(t,r){var n=this;if(this.processedAppend_){this.queueCallback_(function(){n.sourceBuffer_.remove(t,r)},l)}}},{key:"updating",value:function e(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function e(t){var r=this;if(typeof t!=="undefined"){this.queueCallback_(function(){r.sourceBuffer_.timestampOffset=t});this.timestampOffset_=t}return this.timestampOffset_}},{key:"queueCallback_",value:function e(t,r){this.callbacks_.push([t.bind(this),r]);this.runCallback_()}},{key:"runCallback_",value:function e(){var t=undefined;if(!this.updating()&&this.callbacks_.length){t=this.callbacks_.shift();this.pendingCallback_=t[1];t[0]()}}},{key:"dispose",value:function e(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_);if(this.sourceBuffer_&&this.mediaSource.readyState==="open"){this.sourceBuffer_.abort()}}}]);return e}();n["default"]=f;r.exports=n["default"]}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],17:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var a=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=e("mux.js/lib/mp4/probe");var f=o(l);var c=e("mux.js/lib/tools/ts-inspector.js");var d=e("./playlist");var p=typeof window!=="undefined"?t:typeof r!=="undefined"?r["videojs"]:null;var h=o(p);var v=[{name:"VOD",run:function e(t,r,n,i,a){if(n!==Infinity){var o={time:0,segmentIndex:0};return o}return null}},{name:"ProgramDateTime",run:function e(t,r,n,i,a){if(t.datetimeToDisplayTime&&r.dateTimeObject){var o=r.dateTimeObject.getTime()/1e3;var s=o+t.datetimeToDisplayTime;var u={time:s,segmentIndex:0};return u}return null}},{name:"Segment",run:function e(t,r,n,i,a){var o=r.segments||[];var s=null;var u=null;a=a||0;for(var l=0;l<o.length;l++){var f=o[l];if(f.timeline===i&&typeof f.start!=="undefined"){var c=Math.abs(a-f.start);if(u!==null&&u<c){break}if(!s||u===null||u>=c){u=c;s={time:f.start,segmentIndex:l}}}}return s}},{name:"Discontinuity",run:function e(t,r,n,i,a){var o=null;a=a||0;if(r.discontinuityStarts&&r.discontinuityStarts.length){var s=null;for(var u=0;u<r.discontinuityStarts.length;u++){var l=r.discontinuityStarts[u];var f=r.discontinuitySequence+u+1;var c=t.discontinuities[f];if(c){var d=Math.abs(a-c.time);if(s!==null&&s<d){break}if(!o||s===null||s>=d){s=d;o={time:c.time,segmentIndex:l}}}}}return o}},{name:"Playlist",run:function e(t,r,n,i,a){if(r.syncInfo){var o={time:r.syncInfo.time,segmentIndex:r.syncInfo.mediaSequence-r.mediaSequence};return o}return null}}];n.syncPointStrategies=v;var y=function(e){u(t,e);function t(){var e=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];s(this,t);a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.inspectCache_=undefined;this.timelines=[];this.discontinuities=[];this.datetimeToDisplayTime=null;if(e.debug){this.logger_=h["default"].log.bind(h["default"],"sync-controller ->")}}i(t,[{key:"getSyncPoint",value:function e(t,r,n,i){var a=this.runStrategies_(t,r,n,i);if(!a.length){return null}return this.selectSyncPoint_(a,{key:"time",value:i})}},{key:"getExpiredTime",value:function e(t,r){if(!t||!t.segments){return null}var n=this.runStrategies_(t,r,t.discontinuitySequence,0);if(!n.length){return null}var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});if(i.segmentIndex>0){i.time*=-1}return Math.abs(i.time+(0,d.sumDurations)(t,i.segmentIndex,0))}},{key:"runStrategies_",value:function e(t,r,n,i){var a=[];for(var o=0;o<v.length;o++){var s=v[o];var u=s.run(this,t,r,n,i);if(u){u.strategy=s.name;a.push({strategy:s.name,syncPoint:u});this.logger_("syncPoint found via <"+s.name+">:",u)}}return a}},{key:"selectSyncPoint_",value:function e(t,r){var n=t[0].syncPoint;var i=Math.abs(t[0].syncPoint[r.key]-r.value);var a=t[0].strategy;for(var o=1;o<t.length;o++){var s=Math.abs(t[o].syncPoint[r.key]-r.value);if(s<i){i=s;n=t[o].syncPoint;a=t[o].strategy}}this.logger_("syncPoint with strategy <"+a+"> chosen: ",n);return n}},{key:"saveExpiredSegmentInfo",value:function e(t,r){var n=r.mediaSequence-t.mediaSequence;for(var i=n-1;i>=0;i--){var a=t.segments[i];if(a&&typeof a.start!=="undefined"){r.syncInfo={mediaSequence:t.mediaSequence+i,time:a.start};this.logger_("playlist sync:",r.syncInfo);this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function e(t){if(!this.datetimeToDisplayTime&&t.dateTimeObject){var r=t.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-r}}},{key:"reset",value:function e(){this.inspectCache_=undefined}},{key:"probeSegmentInfo",value:function e(t){var r=t.segment;var n=undefined;if(r.map){n=this.probeMp4Segment_(t)}else{n=this.probeTsSegment_(t)}if(n){if(this.calculateSegmentTimeMapping_(t,n)){this.saveDiscontinuitySyncInfo_(t)}}}},{key:"probeMp4Segment_",value:function e(t){var r=t.segment;var n=f["default"].timescale(r.map.bytes);var i=f["default"].startTime(n,t.bytes);if(t.timestampOffset!==null){t.timestampOffset-=i}return{start:i,end:i+r.duration}}},{key:"probeTsSegment_",value:function e(t){var r=(0,c.inspect)(t.bytes,this.inspectCache_);var n=undefined;var i=undefined;if(!r){return null}if(r.video&&r.video.length===2){this.inspectCache_=r.video[1].dts;n=r.video[0].dtsTime;i=r.video[1].dtsTime}else if(r.audio&&r.audio.length===2){this.inspectCache_=r.audio[1].dts;n=r.audio[0].dtsTime;i=r.audio[1].dtsTime}return{start:n,end:i}}},{key:"timestampOffsetForTimeline",value:function e(t){if(typeof this.timelines[t]==="undefined"){return null}return this.timelines[t].time}},{key:"calculateSegmentTimeMapping_",value:function e(t,r){var n=t.segment;var i=this.timelines[t.timeline];if(t.timestampOffset!==null){this.logger_("tsO:",t.timestampOffset);i={time:t.startOfSegment,mapping:t.startOfSegment-r.start};this.timelines[t.timeline]=i;this.trigger("timestampoffset");n.start=t.startOfSegment;n.end=r.end+i.mapping}else if(i){n.start=r.start+i.mapping;n.end=r.end+i.mapping}else{return false}return true}},{key:"saveDiscontinuitySyncInfo_",value:function e(t){var r=t.playlist;var n=t.segment;if(n.discontinuity){this.discontinuities[n.timeline]={time:n.start,accuracy:0}}else if(r.discontinuityStarts.length){for(var i=0;i<r.discontinuityStarts.length;i++){var a=r.discontinuityStarts[i];var o=r.discontinuitySequence+i+1;var s=a-t.mediaIndex;var u=Math.abs(s);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>u){var l=undefined;if(s<0){l=n.start-(0,d.sumDurations)(r,t.mediaIndex,a)}else{l=n.end+(0,d.sumDurations)(r,t.mediaIndex+1,a)}this.discontinuities[o]={time:l,accuracy:u}}}}}},{key:"logger_",value:function e(){}}]);return t}(h["default"].EventTarget);n["default"]=y}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./playlist":10,"mux.js/lib/mp4/probe":56,"mux.js/lib/tools/ts-inspector.js":58}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=function e(){var t=arguments.length<=0||arguments[0]===undefined?"":arguments[0];var r={codecCount:0};var n=undefined;r.codecCount=t.split(",").length;r.codecCount=r.codecCount||2;n=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(t);if(n){r.videoCodec=n[2];r.videoObjectTypeIndicator=n[3]}r.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t);r.audioProfile=r.audioProfile&&r.audioProfile[2];return r};r.parseCodecs=n},{}],19:[function(e,r,n){(function(i){"use strict";Object.defineProperty(n,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var o=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var f=e("./segment-loader");var c=s(f);var d=typeof window!=="undefined"?t:typeof i!=="undefined"?i["videojs"]:null;var p=s(d);var h=e("global/window");var v=s(h);var y=e("videojs-contrib-media-sources/es5/remove-cues-from-track.js");var g=s(y);var m=e("./bin-utils");var _=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)}));var b=function e(t){return String.fromCharCode.apply(null,t)};var T=function(e){l(t,e);function t(e){var r=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];u(this,t);o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r);this.mediaSource_=null;this.subtitlesTrack_=null}a(t,[{key:"buffered_",value:function e(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length){return p["default"].createTimeRanges()}var t=this.subtitlesTrack_.cues;var r=t[0].startTime;var n=t[t.length-1].startTime;return p["default"].createTimeRanges([[r,n]])}},{key:"initSegment",value:function e(t){var r=arguments.length<=1||arguments[1]===undefined?false:arguments[1];if(!t){return null}var n=(0,m.initSegmentId)(t);var i=this.initSegments_[n];if(r&&!i&&t.bytes){var a=_.byteLength+t.bytes.byteLength;var o=new Uint8Array(a);o.set(t.bytes);o.set(_,t.bytes.byteLength);this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:o}}return i||t}},{key:"couldBeginLoading_",value:function e(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function e(){this.state="READY";this.resetEverything();return this.monitorBuffer_()}},{key:"track",value:function e(t){this.subtitlesTrack_=t;if(this.state==="INIT"&&this.couldBeginLoading_()){this.init_()}}},{key:"remove",value:function e(t,r){(0,g["default"])(t,r,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function e(){var t=this;if(!this.syncPoint_){this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_())}var r=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);r=this.skipEmptySegments_(r);if(!r){return}if(this.syncController_.timestampOffsetForTimeline(r.timeline)===null){var n=function e(){t.state="READY";if(!t.paused()){t.monitorBuffer_()}};this.syncController_.one("timestampoffset",n);this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(r)}},{key:"skipEmptySegments_",value:function e(t){while(t&&t.segment.empty){t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest)}return t}},{key:"handleSegment_",value:function e(){var t=this;if(!this.pendingSegment_){this.state="READY";return}this.state="APPENDING";var r=this.pendingSegment_;var n=r.segment;if(typeof v["default"].WebVTT!=="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var i=function(){var e=function e(){t.handleSegment_()};t.state="WAITING_ON_VTTJS";t.subtitlesTrack_.tech_.one("vttjsloaded",e);t.subtitlesTrack_.tech_.one("vttjserror",function(){t.subtitlesTrack_.tech_.off("vttjsloaded",e);t.error({message:"Error loading vtt.js"});t.state="READY";t.pause();t.trigger("error")});return{v:undefined}}();if(typeof i==="object")return i.v}n.requested=true;try{this.parseVTTCues_(r)}catch(e){this.error({message:e.message});this.state="READY";this.pause();return this.trigger("error")}this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_);if(r.isSyncRequest){this.trigger("syncinfoupdate");this.pendingSegment_=null;this.state="READY";return}r.byteLength=r.bytes.byteLength;this.mediaSecondsLoaded+=n.duration;if(r.cues.length){this.remove(r.cues[0].endTime,r.cues[r.cues.length-1].endTime)}r.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)});this.handleUpdateEnd_()}},{key:"parseVTTCues_",value:function e(t){var r=undefined;var n=false;if(typeof v["default"].TextDecoder==="function"){r=new v["default"].TextDecoder("utf8")}else{r=v["default"].WebVTT.StringDecoder();n=true}var i=new v["default"].WebVTT.Parser(v["default"],v["default"].vttjs,r);t.cues=[];t.timestampmap={MPEGTS:0,LOCAL:0};i.oncue=t.cues.push.bind(t.cues);i.ontimestampmap=function(e){return t.timestampmap=e};i.onparsingerror=function(e){p["default"].log.warn("Error encountered when parsing cues: "+e.message)};if(t.segment.map){var a=t.segment.map.bytes;if(n){a=b(a)}i.parse(a)}var o=t.bytes;if(n){o=b(o)}i.parse(o);i.flush()}},{key:"updateTimeMapping_",value:function e(t,r,n){var i=t.segment;if(!r){return}if(!t.cues.length){i.empty=true;return}var a=t.timestampmap;var o=a.MPEGTS/9e4-a.LOCAL+r.mapping;t.cues.forEach(function(e){e.startTime+=o;e.endTime+=o});if(!n.syncInfo){var s=t.cues[0].startTime;var u=t.cues[t.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(s,u-i.duration)}}}}]);return t}(c["default"]);n["default"]=T;r.exports=n["default"]}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./bin-utils":2,"./segment-loader":15,"global/window":31,"videojs-contrib-media-sources/es5/remove-cues-from-track.js":72}],20:[function(e,r,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:true});function i(e){return e&&e.__esModule?e:{default:e}}var a=typeof window!=="undefined"?t:typeof e!=="undefined"?e["videojs"]:null;var o=i(a);var s=function e(){var t=function e(t,r){t=(0,a.mergeOptions)({timeout:45e3},t);var n=e.beforeRequest||o["default"].Hls.xhr.beforeRequest;if(n&&typeof n==="function"){var i=n(t);if(i){t=i}}var s=(0,a.xhr)(t,function(e,t){var n=s.response;if(!e&&n){s.responseTime=Date.now();s.roundTripTime=s.responseTime-s.requestTime;s.bytesReceived=n.byteLength||n.length;if(!s.bandwidth){s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3)}}if(e&&e.code==="ETIMEDOUT"){s.timedout=true}if(!e&&!s.aborted&&t.statusCode!==200&&t.statusCode!==206&&t.statusCode!==0){e=new Error("XHR Failed with a response of: "+(s&&(n||s.responseText)))}r(e,s)});var u=s.abort;s.abort=function(){s.aborted=true;return u.apply(s,arguments)};s.uri=t.uri;s.requestTime=Date.now();return s};return t};n["default"]=s;r.exports=n["default"]}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function e(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]];var r=t[0];var n=t[1];var i=r[4];var a=n[4];var o=undefined;var s=undefined;var u=undefined;var l=[];var f=[];var c=undefined;var d=undefined;var p=undefined;var h=undefined;var v=undefined;var y=undefined;for(o=0;o<256;o++){f[(l[o]=o<<1^(o>>7)*283)^o]=o}for(s=u=0;!i[s];s^=c||1,u=f[u]||1){h=u^u<<1^u<<2^u<<3^u<<4;h=h>>8^h&255^99;i[s]=h;a[h]=s;p=l[d=l[c=l[s]]];y=p*16843009^d*65537^c*257^s*16843008;v=l[h]*257^h*16843008;for(o=0;o<4;o++){r[o][s]=v=v<<24^v>>>8;n[o][h]=y=y<<24^y>>>8}}for(o=0;o<5;o++){r[o]=r[o].slice(0);n[o]=n[o].slice(0)}return t};var o=null;var s=function(){function e(t){i(this,e);if(!o){o=a()}this._tables=[[o[0][0].slice(),o[0][1].slice(),o[0][2].slice(),o[0][3].slice(),o[0][4].slice()],[o[1][0].slice(),o[1][1].slice(),o[1][2].slice(),o[1][3].slice(),o[1][4].slice()]];var r=undefined;var n=undefined;var s=undefined;var u=undefined;var l=undefined;var f=this._tables[0][4];var c=this._tables[1];var d=t.length;var p=1;if(d!==4&&d!==6&&d!==8){throw new Error("Invalid aes key size")}u=t.slice(0);l=[];this._key=[u,l];for(r=d;r<4*d+28;r++){s=u[r-1];if(r%d===0||d===8&&r%d===4){s=f[s>>>24]<<24^f[s>>16&255]<<16^f[s>>8&255]<<8^f[s&255];if(r%d===0){s=s<<8^s>>>24^p<<24;p=p<<1^(p>>7)*283}}u[r]=u[r-d]^s}for(n=0;r;n++,r--){s=u[n&3?r:r-4];if(r<=4||n<4){l[n]=s}else{l[n]=c[0][f[s>>>24]]^c[1][f[s>>16&255]]^c[2][f[s>>8&255]]^c[3][f[s&255]]}}}n(e,[{key:"decrypt",value:function e(t,r,n,i,a,o){var s=this._key[1];var u=t^s[0];var l=i^s[1];var f=n^s[2];var c=r^s[3];var d=undefined;var p=undefined;var h=undefined;var v=s.length/4-2;var y=undefined;var g=4;var m=this._tables[1];var _=m[0];var b=m[1];var T=m[2];var E=m[3];var w=m[4];for(y=0;y<v;y++){d=_[u>>>24]^b[l>>16&255]^T[f>>8&255]^E[c&255]^s[g];p=_[l>>>24]^b[f>>16&255]^T[c>>8&255]^E[u&255]^s[g+1];h=_[f>>>24]^b[c>>16&255]^T[u>>8&255]^E[l&255]^s[g+2];c=_[c>>>24]^b[u>>16&255]^T[l>>8&255]^E[f&255]^s[g+3];g+=4;u=d;l=p;f=h}for(y=0;y<4;y++){a[(3&-y)+o]=w[u>>>24]<<24^w[l>>16&255]<<16^w[f>>8&255]<<8^w[c&255]^s[g++];d=u;u=l;l=f;f=c;c=d}}}]);return e}();r["default"]=s;t.exports=r["default"]},{}],22:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var u=e("./stream");var l=a(u);var f=function(e){s(t,e);function t(){o(this,t);i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,l["default"]);this.jobs=[];this.delay=1;this.timeout_=null}n(t,[{key:"processJob_",value:function e(){this.jobs.shift()();if(this.jobs.length){this.timeout_=setTimeout(this.processJob_.bind(this),this.delay)}else{this.timeout_=null}}},{key:"push",value:function e(t){this.jobs.push(t);if(!this.timeout_){this.timeout_=setTimeout(this.processJob_.bind(this),this.delay)}}}]);return t}(l["default"]);r["default"]=f;t.exports=r["default"]},{"./stream":25}],23:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=e("./aes");var s=i(o);var u=e("./async-stream");var l=i(u);var f=e("pkcs7");var c=function e(t){return t<<24|(t&65280)<<8|(t&16711680)>>8|t>>>24};var d=function e(t,r,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2);var a=new s["default"](Array.prototype.slice.call(r));var o=new Uint8Array(t.byteLength);var u=new Int32Array(o.buffer);var l=undefined;var f=undefined;var d=undefined;var p=undefined;var h=undefined;var v=undefined;var y=undefined;var g=undefined;var m=undefined;l=n[0];f=n[1];d=n[2];p=n[3];for(m=0;m<i.length;m+=4){h=c(i[m]);v=c(i[m+1]);y=c(i[m+2]);g=c(i[m+3]);a.decrypt(h,v,y,g,u,m);u[m]=c(u[m]^l);u[m+1]=c(u[m+1]^f);u[m+2]=c(u[m+2]^d);u[m+3]=c(u[m+3]^p);l=h;f=v;d=y;p=g}return o};r.decrypt=d;var p=function(){function e(t,r,n,i){a(this,e);var o=e.STEP;var s=new Int32Array(t.buffer);var u=new Uint8Array(t.byteLength);var d=0;this.asyncStream_=new l["default"];this.asyncStream_.push(this.decryptChunk_(s.subarray(d,d+o),r,n,u));for(d=o;d<s.length;d+=o){n=new Uint32Array([c(s[d-4]),c(s[d-3]),c(s[d-2]),c(s[d-1])]);this.asyncStream_.push(this.decryptChunk_(s.subarray(d,d+o),r,n,u))}this.asyncStream_.push(function(){i(null,(0,f.unpad)(u))})}n(e,[{key:"decryptChunk_",value:function e(t,r,n,i){return function(){var e=d(t,r,n);i.set(e,t.byteOffset)}}}],[{key:"STEP",get:function e(){return 32e3}}]);return e}();r.Decrypter=p;r["default"]={Decrypter:p,decrypt:d}},{"./aes":21,"./async-stream":22,pkcs7:27}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=e("./decrypter");var a=e("./async-stream");var o=n(a);r["default"]={decrypt:i.decrypt,Decrypter:i.Decrypter,AsyncStream:o["default"]};t.exports=r["default"]},{"./async-stream":22,"./decrypter":23}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(){i(this,e);this.listeners={}}n(e,[{key:"on",value:function e(t,r){if(!this.listeners[t]){this.listeners[t]=[]}this.listeners[t].push(r)}},{key:"off",value:function e(t,r){var n=undefined;if(!this.listeners[t]){return false}n=this.listeners[t].indexOf(r);this.listeners[t].splice(n,1);return n>-1}},{key:"trigger",value:function e(t){var r=undefined;var n=undefined;var i=undefined;var a=undefined;r=this.listeners[t];if(!r){return}if(arguments.length===2){i=r.length;for(n=0;n<i;++n){r[n].call(this,arguments[1])}}else{a=Array.prototype.slice.call(arguments,1);i=r.length;for(n=0;n<i;++n){r[n].apply(this,a)}}}},{key:"dispose",value:function e(){this.listeners={}}},{key:"pipe",value:function e(t){this.on("data",function(e){t.push(e)})}}]);return e}();r["default"]=a;t.exports=r["default"]},{}],26:[function(e,t,r){"use strict";var n;t.exports=function e(t){var r=n[t.byteLength%16||0],i=new Uint8Array(t.byteLength+r.length);i.set(t);i.set(r,t.byteLength);return i};n=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},{}],27:[function(e,t,r){"use strict";r.pad=e("./pad.js");r.unpad=e("./unpad.js")},{"./pad.js":26,"./unpad.js":28}],28:[function(e,t,r){"use strict";t.exports=function e(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}},{}],29:[function(e,t,r){},{}],30:[function(e,t,r){(function(r){var n=typeof r!=="undefined"?r:typeof window!=="undefined"?window:{};var i=e("min-document");var a;if(typeof document!=="undefined"){a=document}else{a=n["__GLOBAL_DOCUMENT_CACHE@4"];if(!a){a=n["__GLOBAL_DOCUMENT_CACHE@4"]=i}}t.exports=a}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"min-document":29}],31:[function(e,t,r){(function(e){var r;if(typeof window!=="undefined"){r=window}else if(typeof e!=="undefined"){r=e}else if(typeof self!=="undefined"){r=self}else{r={}}t.exports=r}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],32:[function(e,t,r){"use strict";var n=e("./line-stream");var i=l(n);var a=e("./parse-stream");var o=l(a);var s=e("./parser");var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}t.exports={LineStream:i["default"],ParseStream:o["default"],Parser:u["default"]}},{"./line-stream":33,"./parse-stream":34,"./parser":35}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=e("./stream");var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var f=function(e){l(t,e);function t(){s(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.buffer="";return e}n(t,[{key:"push",value:function e(t){var r=void 0;this.buffer+=t;r=this.buffer.indexOf("\n");for(;r>-1;r=this.buffer.indexOf("\n")){this.trigger("data",this.buffer.substring(0,r));this.buffer=this.buffer.substring(r+1)}}}]);return t}(a["default"]);r["default"]=f},{"./stream":36}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=function(){function e(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"])o["return"]()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var a=e("./stream");var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=function e(){var t="[^=]*";var r='"[^"]*"|[^,]*';var n="(?:"+t+")=(?:"+r+")";return new RegExp("(?:^|,)("+n+")")};var d=function e(t){var r=t.split(c());var n={};var i=r.length;var a=void 0;while(i--){if(r[i]===""){continue}a=/([^=]*)=(.*)/.exec(r[i]).slice(1);a[0]=a[0].replace(/^\s+|\s+$/g,"");a[1]=a[1].replace(/^\s+|\s+$/g,"");a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1");n[a[0]]=a[1]}return n};var p=function(e){f(t,e);function t(){u(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}i(t,[{key:"push",value:function e(t){var r=void 0;var i=void 0;t=t.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"");if(t.length===0){return}if(t[0]!=="#"){this.trigger("data",{type:"uri",uri:t});return}if(t.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:t.slice(1)});return}t=t.replace("\r","");r=/^#EXTM3U/.exec(t);if(r){this.trigger("data",{type:"tag",tagType:"m3u"});return}r=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t);if(r){i={type:"tag",tagType:"inf"};if(r[1]){i.duration=parseFloat(r[1])}if(r[2]){i.title=r[2]}this.trigger("data",i);return}r=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t);if(r){i={type:"tag",tagType:"targetduration"};if(r[1]){i.duration=parseInt(r[1],10)}this.trigger("data",i);return}r=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t);if(r){i={type:"tag",tagType:"totalduration"};if(r[1]){i.duration=parseInt(r[1],10)}this.trigger("data",i);return}r=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t);if(r){i={type:"tag",tagType:"version"};if(r[1]){i.version=parseInt(r[1],10)}this.trigger("data",i);return}r=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t);if(r){i={type:"tag",tagType:"media-sequence"};if(r[1]){i.number=parseInt(r[1],10)}this.trigger("data",i);return}r=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t);if(r){i={type:"tag",tagType:"discontinuity-sequence"};if(r[1]){i.number=parseInt(r[1],10)}this.trigger("data",i);return}r=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t);if(r){i={type:"tag",tagType:"playlist-type"};if(r[1]){i.playlistType=r[1]}this.trigger("data",i);return}r=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t);if(r){i={type:"tag",tagType:"byterange"};if(r[1]){i.length=parseInt(r[1],10)}if(r[2]){i.offset=parseInt(r[2],10)}this.trigger("data",i);return}r=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t);if(r){i={type:"tag",tagType:"allow-cache"};if(r[1]){i.allowed=!/NO/.test(r[1])}this.trigger("data",i);return}r=/^#EXT-X-MAP:?(.*)$/.exec(t);if(r){i={type:"tag",tagType:"map"};if(r[1]){var a=d(r[1]);if(a.URI){i.uri=a.URI}if(a.BYTERANGE){var o=a.BYTERANGE.split("@"),s=n(o,2),u=s[0],l=s[1];i.byterange={};if(u){i.byterange.length=parseInt(u,10)}if(l){i.byterange.offset=parseInt(l,10)}}}this.trigger("data",i);return}r=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t);if(r){i={type:"tag",tagType:"stream-inf"};if(r[1]){i.attributes=d(r[1]);if(i.attributes.RESOLUTION){var f=i.attributes.RESOLUTION.split("x");var c={};if(f[0]){c.width=parseInt(f[0],10)}if(f[1]){c.height=parseInt(f[1],10)}i.attributes.RESOLUTION=c}if(i.attributes.BANDWIDTH){i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)}if(i.attributes["PROGRAM-ID"]){i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10)}}this.trigger("data",i);return}r=/^#EXT-X-MEDIA:?(.*)$/.exec(t);if(r){i={type:"tag",tagType:"media"};if(r[1]){i.attributes=d(r[1])}this.trigger("data",i);return}r=/^#EXT-X-ENDLIST/.exec(t);if(r){this.trigger("data",{type:"tag",tagType:"endlist"});return}r=/^#EXT-X-DISCONTINUITY/.exec(t);if(r){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}r=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t);if(r){i={type:"tag",tagType:"program-date-time"};if(r[1]){i.dateTimeString=r[1];i.dateTimeObject=new Date(r[1])}this.trigger("data",i);return}r=/^#EXT-X-KEY:?(.*)$/.exec(t);if(r){i={type:"tag",tagType:"key"};if(r[1]){i.attributes=d(r[1]);if(i.attributes.IV){if(i.attributes.IV.substring(0,2).toLowerCase()==="0x"){i.attributes.IV=i.attributes.IV.substring(2)}i.attributes.IV=i.attributes.IV.match(/.{8}/g);i.attributes.IV[0]=parseInt(i.attributes.IV[0],16);i.attributes.IV[1]=parseInt(i.attributes.IV[1],16);i.attributes.IV[2]=parseInt(i.attributes.IV[2],16);i.attributes.IV[3]=parseInt(i.attributes.IV[3],16);i.attributes.IV=new Uint32Array(i.attributes.IV)}}this.trigger("data",i);return}r=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t);if(r){i={type:"tag",tagType:"cue-out-cont"};if(r[1]){i.data=r[1]}else{i.data=""}this.trigger("data",i);return}r=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t);if(r){i={type:"tag",tagType:"cue-out"};if(r[1]){i.data=r[1]}else{i.data=""}this.trigger("data",i);return}r=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t);if(r){i={type:"tag",tagType:"cue-in"};if(r[1]){i.data=r[1]}else{i.data=""}this.trigger("data",i);return}this.trigger("data",{type:"tag",data:t.slice(4)})}}]);return t}(o["default"]);r["default"]=p},{"./stream":36}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var a=e("./stream");var o=c(a);var s=e("./line-stream");var u=c(s);var l=e("./parse-stream");var f=c(l);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=function(e){h(t,e);function t(){d(this,t);var e=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.lineStream=new u["default"];e.parseStream=new f["default"];e.lineStream.pipe(e.parseStream);var r=e;var i=[];var a={};var o=void 0;var s=void 0;var l=function e(){};var c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}};var h=0;e.manifest={allowCache:true,discontinuityStarts:[],segments:[]};e.parseStream.on("data",function(e){var t=void 0;var u=void 0;({tag:function f(){(({"allow-cache":function t(){this.manifest.allowCache=e.allowed;if(!("allowed"in e)){this.trigger("info",{message:"defaulting allowCache to YES"});this.manifest.allowCache=true}},byterange:function t(){var t={};if("length"in e){a.byterange=t;t.length=e.length;if(!("offset"in e)){this.trigger("info",{message:"defaulting offset to zero"});e.offset=0}}if("offset"in e){a.byterange=t;t.offset=e.offset}},endlist:function e(){this.manifest.endList=true},inf:function t(){if(!("mediaSequence"in this.manifest)){this.manifest.mediaSequence=0;this.trigger("info",{message:"defaulting media sequence to zero"})}if(!("discontinuitySequence"in this.manifest)){this.manifest.discontinuitySequence=0;this.trigger("info",{message:"defaulting discontinuity sequence to zero"})}if(e.duration>0){a.duration=e.duration}if(e.duration===0){a.duration=.01;this.trigger("info",{message:"updating zero segment duration to a small value"})}this.manifest.segments=i},key:function t(){if(!e.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(e.attributes.METHOD==="NONE"){s=null;return}if(!e.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(!e.attributes.METHOD){this.trigger("warn",{message:"defaulting key method to AES-128"})}s={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI};if(typeof e.attributes.IV!=="undefined"){s.iv=e.attributes.IV}},"media-sequence":function t(){if(!isFinite(e.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number});return}this.manifest.mediaSequence=e.number},"discontinuity-sequence":function t(){if(!isFinite(e.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number});return}this.manifest.discontinuitySequence=e.number;h=e.number},"playlist-type":function t(){if(!/VOD|EVENT/.test(e.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist});return}this.manifest.playlistType=e.playlistType},map:function t(){o={};if(e.uri){o.uri=e.uri}if(e.byterange){o.byterange=e.byterange}},"stream-inf":function t(){this.manifest.playlists=i;this.manifest.mediaGroups=this.manifest.mediaGroups||c;if(!e.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}if(!a.attributes){a.attributes={}}n(a.attributes,e.attributes)},media:function r(){this.manifest.mediaGroups=this.manifest.mediaGroups||c;if(!(e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{};t=n[e.attributes["GROUP-ID"]];u={default:/yes/i.test(e.attributes.DEFAULT)};if(u["default"]){u.autoselect=true}else{u.autoselect=/yes/i.test(e.attributes.AUTOSELECT)}if(e.attributes.LANGUAGE){u.language=e.attributes.LANGUAGE}if(e.attributes.URI){u.uri=e.attributes.URI}if(e.attributes["INSTREAM-ID"]){u.instreamId=e.attributes["INSTREAM-ID"]}if(e.attributes.CHARACTERISTICS){u.characteristics=e.attributes.CHARACTERISTICS}if(e.attributes.FORCED){u.forced=/yes/i.test(e.attributes.FORCED)}t[e.attributes.NAME]=u},discontinuity:function e(){h+=1;a.discontinuity=true;this.manifest.discontinuityStarts.push(i.length)},"program-date-time":function t(){this.manifest.dateTimeString=e.dateTimeString;this.manifest.dateTimeObject=e.dateTimeObject},targetduration:function t(){if(!isFinite(e.duration)||e.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration});return}this.manifest.targetDuration=e.duration},totalduration:function t(){if(!isFinite(e.duration)||e.duration<0){this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration});return}this.manifest.totalDuration=e.duration},"cue-out":function t(){a.cueOut=e.data},"cue-out-cont":function t(){a.cueOutCont=e.data},"cue-in":function t(){a.cueIn=e.data}})[e.tagType]||l).call(r)},uri:function t(){a.uri=e.uri;i.push(a);if(this.manifest.targetDuration&&!("duration"in a)){this.trigger("warn",{message:"defaulting segment duration to the target duration"});a.duration=this.manifest.targetDuration}if(s){a.key=s}a.timeline=h;if(o){a.map=o}a={}},comment:function e(){}})[e.type].call(r)});return e}i(t,[{key:"push",value:function e(t){this.lineStream.push(t)}},{key:"end",value:function e(){this.lineStream.push("\n")}}]);return t}(o["default"]);r["default"]=v},{"./line-stream":33,"./parse-stream":34,"./stream":36}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(){i(this,e);this.listeners={}}n(e,[{key:"on",value:function e(t,r){if(!this.listeners[t]){this.listeners[t]=[]}this.listeners[t].push(r)}},{key:"off",value:function e(t,r){if(!this.listeners[t]){return false}var n=this.listeners[t].indexOf(r);this.listeners[t].splice(n,1);return n>-1}},{key:"trigger",value:function e(t){var r=this.listeners[t];var n=void 0;var i=void 0;var a=void 0;if(!r){return}if(arguments.length===2){i=r.length;for(n=0;n<i;++n){r[n].call(this,arguments[1])}}else{a=Array.prototype.slice.call(arguments,1);i=r.length;for(n=0;n<i;++n){r[n].apply(this,a)}}}},{key:"dispose",value:function e(){this.listeners={}}},{key:"pipe",value:function e(t){this.on("data",function(e){t.push(e)})}}]);return e}();r["default"]=a},{}],37:[function(e,t,r){"use strict";var n=e("../utils/stream.js");var i;i=function(){var e=new Uint8Array,t=0;i.prototype.init.call(this);this.setTimestamp=function(e){t=e};this.parseId3TagSize=function(e,t){var r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],n=e[t+5],i=(n&16)>>4;if(i){return r+20}return r+10};this.parseAdtsSize=function(e,t){var r=(e[t+5]&224)>>5,n=e[t+4]<<3,i=e[t+3]&3<<11;return i|n|r};this.push=function(r){var n=0,i=0,a,o,s,u;if(e.length){u=e.length;e=new Uint8Array(r.byteLength+u);e.set(e.subarray(0,u));e.set(r,u)}else{e=r}while(e.length-i>=3){if(e[i]==="I".charCodeAt(0)&&e[i+1]==="D".charCodeAt(0)&&e[i+2]==="3".charCodeAt(0)){if(e.length-i<10){break}n=this.parseId3TagSize(e,i);if(n>e.length){break}o={type:"timed-metadata",data:e.subarray(i,i+n)};this.trigger("data",o);i+=n;continue}else if(e[i]&255===255&&(e[i+1]&240)===240){if(e.length-i<7){break}n=this.parseAdtsSize(e,i);if(n>e.length){break}s={type:"audio",data:e.subarray(i,i+n),pts:t,dts:t};this.trigger("data",s);i+=n;continue}i++}a=e.length-i;if(a>0){e=e.subarray(i)}else{e=new Uint8Array}}};i.prototype=new n;t.exports=i},{"../utils/stream.js":61}],38:[function(e,t,r){"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];var i=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};var a=function(e,t,r){var n,i="";for(n=t;n<r;n++){i+="%"+("00"+e[n].toString(16)).slice(-2)}return i};var o=function(e,t,r){return unescape(a(e,t,r))};var s=function(e,t){var r=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],n=e[t+5],i=(n&16)>>4;if(i){return r+20}return r+10};var u=function(e,t){var r=(e[t+5]&224)>>5,n=e[t+4]<<3,i=e[t+3]&3<<11;return i|n|r};var l=function(e,t){if(e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)){return"timed-metadata"}else if(e[t]&255===255&&(e[t+1]&240)===240){return"audio"}return null};var f=function(e){var t=0;while(t+5<e.length){if(e[t]!==255||(e[t+1]&246)!==240){t++;continue}return n[(e[t+2]&60)>>>2]}return null};var c=function(e){var t,r,n,a;t=10;if(e[5]&64){t+=4;t+=i(e.subarray(10,14))}do{r=i(e.subarray(t+4,t+8));if(r<1){return null}a=String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3]);if(a==="PRIV"){n=e.subarray(t+10,t+r+10);for(var s=0;s<n.byteLength;s++){if(n[s]===0){var u=o(n,0,s);if(u==="com.apple.streaming.transportStreamTimestamp"){var l=n.subarray(s+1);var f=(l[3]&1)<<30|l[4]<<22|l[5]<<14|l[6]<<6|l[7]>>>2;f*=4;f+=l[7]&3;return f}break}}}t+=10;t+=r}while(t<e.byteLength);return null};t.exports={parseId3TagSize:s,parseAdtsSize:u,parseType:l,parseSampleRate:f,parseAacTimestamp:c}},{}],39:[function(e,t,r){"use strict";var n=e("../utils/stream.js");var i;var a=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=function(){var e;i.prototype.init.call(this);this.push=function(t){var r=0,n=0,i,o,s,u,l,f;if(t.type!=="audio"){return}if(e){u=e;e=new Uint8Array(u.byteLength+t.data.byteLength);e.set(u);e.set(t.data,u.byteLength)}else{e=t.data}while(r+5<e.length){if(e[r]!==255||(e[r+1]&246)!==240){r++;continue}o=(~e[r+1]&1)*2;i=(e[r+3]&3)<<11|e[r+4]<<3|(e[r+5]&224)>>5;l=((e[r+6]&3)+1)*1024;f=l*9e4/a[(e[r+2]&60)>>>2];s=r+i;if(e.byteLength<s){return}this.trigger("data",{pts:t.pts+n*f,dts:t.dts+n*f,sampleCount:l,audioobjecttype:(e[r+2]>>>6&3)+1,channelcount:(e[r+2]&1)<<2|(e[r+3]&192)>>>6,samplerate:a[(e[r+2]&60)>>>2],samplingfrequencyindex:(e[r+2]&60)>>>2,samplesize:16,data:e.subarray(r+7+o,s)});if(e.byteLength===s){e=undefined;return}n++;e=e.subarray(s)}};this.flush=function(){this.trigger("done")}};i.prototype=new n;t.exports=i},{"../utils/stream.js":61}],40:[function(e,t,r){"use strict";var n=e("../utils/stream.js");var i=e("../utils/exp-golomb.js");var a,o;var s;o=function(){var e=0,t,r;o.prototype.init.call(this);this.push=function(n){var i;if(!r){r=n.data}else{i=new Uint8Array(r.byteLength+n.data.byteLength);i.set(r);i.set(n.data,r.byteLength);r=i}for(;e<r.byteLength-3;e++){if(r[e+2]===1){t=e+5;break}}while(t<r.byteLength){switch(r[t]){case 0:if(r[t-1]!==0){t+=2;break}else if(r[t-2]!==0){t++;break}if(e+3!==t-2){this.trigger("data",r.subarray(e+3,t-2))}do{t++}while(r[t]!==1&&t<r.length);e=t-2;t+=3;break;case 1:if(r[t-1]!==0||r[t-2]!==0){t+=3;break}this.trigger("data",r.subarray(e+3,t-2));e=t-2;t+=3;break;default:t+=3;break}}r=r.subarray(e);t-=e;e=0};this.flush=function(){if(r&&r.byteLength>3){this.trigger("data",r.subarray(e+3))}r=null;e=0;this.trigger("done")}};o.prototype=new n;s={100:true,110:true,122:true,244:true,44:true,83:true,86:true,118:true,128:true,138:true,139:true,134:true};a=function(){var e=new o,t,r,n,u,l,f,c;a.prototype.init.call(this);t=this;this.push=function(t){if(t.type!=="video"){return}r=t.trackId;n=t.pts;u=t.dts;e.push(t)};e.on("data",function(e){var i={trackId:r,pts:n,dts:u,data:e};switch(e[0]&31){case 5:i.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:i.nalUnitType="sei_rbsp";i.escapedRBSP=l(e.subarray(1));break;case 7:i.nalUnitType="seq_parameter_set_rbsp";i.escapedRBSP=l(e.subarray(1));i.config=f(i.escapedRBSP);break;case 8:i.nalUnitType="pic_parameter_set_rbsp";break;case 9:i.nalUnitType="access_unit_delimiter_rbsp";break;default:break}t.trigger("data",i)});e.on("done",function(){t.trigger("done")});this.flush=function(){e.flush()};c=function(e,t){var r=8,n=8,i,a;for(i=0;i<e;i++){if(n!==0){a=t.readExpGolomb();n=(r+a+256)%256}r=n===0?r:n}};l=function(e){var t=e.byteLength,r=[],n=1,i,a;while(n<t-2){if(e[n]===0&&e[n+1]===0&&e[n+2]===3){r.push(n+2);n+=2}else{n++}}if(r.length===0){return e}i=t-r.length;a=new Uint8Array(i);var o=0;for(n=0;n<i;o++,n++){if(o===r[0]){o++;r.shift()}a[n]=e[o]}return a};f=function(e){var t=0,r=0,n=0,a=0,o=1,u,l,f,d,p,h,v,y,g,m,_,b,T,E;u=new i(e);l=u.readUnsignedByte();d=u.readUnsignedByte();f=u.readUnsignedByte();u.skipUnsignedExpGolomb();if(s[l]){p=u.readUnsignedExpGolomb();if(p===3){u.skipBits(1)}u.skipUnsignedExpGolomb();u.skipUnsignedExpGolomb();u.skipBits(1);if(u.readBoolean()){_=p!==3?8:12;for(E=0;E<_;E++){if(u.readBoolean()){if(E<6){c(16,u)}else{c(64,u)}}}}}u.skipUnsignedExpGolomb();h=u.readUnsignedExpGolomb();if(h===0){u.readUnsignedExpGolomb()}else if(h===1){u.skipBits(1);u.skipExpGolomb();u.skipExpGolomb();v=u.readUnsignedExpGolomb();for(E=0;E<v;E++){u.skipExpGolomb()}}u.skipUnsignedExpGolomb();u.skipBits(1);y=u.readUnsignedExpGolomb();g=u.readUnsignedExpGolomb();m=u.readBits(1);if(m===0){u.skipBits(1)}u.skipBits(1);if(u.readBoolean()){t=u.readUnsignedExpGolomb();r=u.readUnsignedExpGolomb();n=u.readUnsignedExpGolomb();a=u.readUnsignedExpGolomb()}if(u.readBoolean()){if(u.readBoolean()){T=u.readUnsignedByte();switch(T){case 1:b=[1,1];break;case 2:b=[12,11];break;case 3:b=[10,11];break;case 4:b=[16,11];break;case 5:b=[40,33];break;case 6:b=[24,11];break;case 7:b=[20,11];break;case 8:b=[32,11];break;case 9:b=[80,33];break;case 10:b=[18,11];break;case 11:b=[15,11];break;case 12:b=[64,33];break;case 13:b=[160,99];break;case 14:b=[4,3];break;case 15:b=[3,2];break;case 16:b=[2,1];break;case 255:{b=[u.readUnsignedByte()<<8|u.readUnsignedByte(),u.readUnsignedByte()<<8|u.readUnsignedByte()];break}}if(b){o=b[0]/b[1]}}}return{profileIdc:l,levelIdc:f,profileCompatibility:d,width:Math.ceil(((y+1)*16-t*2-r*2)*o),height:(2-m)*(g+1)*16-n*2-a*2}}};a.prototype=new n;t.exports={H264Stream:a,NalByteStream:o}},{"../utils/exp-golomb.js":60,"../utils/stream.js":61}],41:[function(e,t,r){var n=[33,16,5,32,164,27];var i=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252];var a=function(e){var t=[];while(e--){t.push(0)}return t};var o=function(e){return Object.keys(e).reduce(function(t,r){t[r]=new Uint8Array(e[r].reduce(function(e,t){return e.concat(t)},[]));return t},{})};var s={96e3:[n,[227,64],a(154),[56]],88200:[n,[231],a(170),[56]],64e3:[n,[248,192],a(240),[56]],48e3:[n,[255,192],a(268),[55,148,128],a(54),[112]],44100:[n,[255,192],a(268),[55,163,128],a(84),[112]],32e3:[n,[255,192],a(268),[55,234],a(226),[112]],24e3:[n,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16e3:[n,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],12e3:[i,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[i,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8e3:[i,a(268),[3,121,16],a(47),[7]]};t.exports=o(s)},{}],42:[function(e,t,r){"use strict";var n=e("../utils/stream.js");var i=function(e){this.numberOfTracks=0;this.metadataStream=e.metadataStream;this.videoTags=[];this.audioTags=[];this.videoTrack=null;this.audioTrack=null;this.pendingCaptions=[];this.pendingMetadata=[];this.pendingTracks=0;this.processedTracks=0;i.prototype.init.call(this);this.push=function(e){if(e.text){return this.pendingCaptions.push(e)}if(e.frames){return this.pendingMetadata.push(e)}if(e.track.type==="video"){this.videoTrack=e.track;this.videoTags=e.tags;this.pendingTracks++}if(e.track.type==="audio"){this.audioTrack=e.track;this.audioTags=e.tags;this.pendingTracks++}}};i.prototype=new n;i.prototype.flush=function(e){var t,r,n,i,a={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if(e!=="VideoSegmentStream"&&e!=="AudioSegmentStream"){return}else if(this.pendingTracks===0){this.processedTracks++;if(this.processedTracks<this.numberOfTracks){return}}}this.processedTracks+=this.pendingTracks;this.pendingTracks=0;if(this.processedTracks<this.numberOfTracks){return}if(this.videoTrack){i=this.videoTrack.timelineStartInfo.pts}else if(this.audioTrack){i=this.audioTrack.timelineStartInfo.pts}a.tags.videoTags=this.videoTags;a.tags.audioTags=this.audioTags;for(n=0;n<this.pendingCaptions.length;n++){r=this.pendingCaptions[n];r.startTime=r.startPts-i;r.startTime/=9e4;r.endTime=r.endPts-i;r.endTime/=9e4;a.captionStreams[r.stream]=true;a.captions.push(r)}for(n=0;n<this.pendingMetadata.length;n++){t=this.pendingMetadata[n];t.cueTime=t.pts-i;t.cueTime/=9e4;a.metadata.push(t)}a.metadata.dispatchType=this.metadataStream.dispatchType;this.videoTrack=null;this.audioTrack=null;this.videoTags=[];this.audioTags=[];this.pendingCaptions.length=0;this.pendingMetadata.length=0;this.pendingTracks=0;this.processedTracks=0;this.trigger("data",a);this.trigger("done")};t.exports=i},{"../utils/stream.js":61}],43:[function(e,t,r){"use strict";var n=e("./flv-tag.js");var i=function(e,t,r){var i=new Uint8Array(3+1+1+4),a=new DataView(i.buffer),o,s,u;e=e||0;t=t===undefined?true:t;r=r===undefined?true:r;a.setUint8(0,70);a.setUint8(1,76);a.setUint8(2,86);a.setUint8(3,1);a.setUint8(4,(t?4:0)|(r?1:0));a.setUint32(5,i.byteLength);if(e<=0){s=new Uint8Array(i.byteLength+4);s.set(i);s.set([0,0,0,0],i.byteLength);return s}o=new n(n.METADATA_TAG);o.pts=o.dts=0;o.writeMetaDataDouble("duration",e);u=o.finalize().length;s=new Uint8Array(i.byteLength+u);s.set(i);s.set(a.byteLength,u);return s};t.exports=i},{"./flv-tag.js":44}],44:[function(e,t,r){"use strict";var n;n=function(e,t){var r=0,i=16384,a=function(e,t){var r,n=e.position+t;if(n<e.bytes.byteLength){return}r=new Uint8Array(n*2);r.set(e.bytes.subarray(0,e.position),0);e.bytes=r;e.view=new DataView(e.bytes.buffer)},o=n.widthBytes||new Uint8Array("width".length),s=n.heightBytes||new Uint8Array("height".length),u=n.videocodecidBytes||new Uint8Array("videocodecid".length),l;if(!n.widthBytes){for(l=0;l<"width".length;l++){o[l]="width".charCodeAt(l)}for(l=0;l<"height".length;l++){s[l]="height".charCodeAt(l)}for(l=0;l<"videocodecid".length;l++){u[l]="videocodecid".charCodeAt(l)}n.widthBytes=o;n.heightBytes=s;n.videocodecidBytes=u}this.keyFrame=false;switch(e){case n.VIDEO_TAG:this.length=16;i*=6;break;case n.AUDIO_TAG:this.length=13;this.keyFrame=true;break;case n.METADATA_TAG:this.length=29;this.keyFrame=true;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(i);this.view=new DataView(this.bytes.buffer);this.bytes[0]=e;this.position=this.length;this.keyFrame=t;this.pts=0;this.dts=0;this.writeBytes=function(e,t,r){var n=t||0,i;r=r||e.byteLength;i=n+r;a(this,r);this.bytes.set(e.subarray(n,i),this.position);this.position+=r;this.length=Math.max(this.length,this.position)};this.writeByte=function(e){a(this,1);this.bytes[this.position]=e;this.position++;this.length=Math.max(this.length,this.position)};this.writeShort=function(e){a(this,2);this.view.setUint16(this.position,e);this.position+=2;this.length=Math.max(this.length,this.position)};this.negIndex=function(e){return this.bytes[this.length-e]};this.nalUnitSize=function(){if(r===0){return 0}return this.length-(r+4)};this.startNalUnit=function(){if(r>0){throw new Error("Attempted to create new NAL wihout closing the old one")}r=this.length;this.length+=4;this.position=this.length};this.endNalUnit=function(e){var t,n;if(this.length===r+4){this.length-=4}else if(r>0){t=r+4;n=this.length-t;this.position=r;this.view.setUint32(this.position,n);this.position=this.length;if(e){e.push(this.bytes.subarray(t,t+n))}}r=0};this.writeMetaDataDouble=function(e,t){var n;a(this,2+e.length+9);this.view.setUint16(this.position,e.length);this.position+=2;if(e==="width"){this.bytes.set(o,this.position);this.position+=5}else if(e==="height"){this.bytes.set(s,this.position);this.position+=6}else if(e==="videocodecid"){this.bytes.set(u,this.position);this.position+=12}else{for(n=0;n<e.length;n++){this.bytes[this.position]=e.charCodeAt(n);this.position++}}this.position++;this.view.setFloat64(this.position,t);this.position+=8;this.length=Math.max(this.length,this.position);++r};this.writeMetaDataBoolean=function(e,t){var n;a(this,2);this.view.setUint16(this.position,e.length);this.position+=2;for(n=0;n<e.length;n++){a(this,1);this.bytes[this.position]=e.charCodeAt(n);this.position++}a(this,2);this.view.setUint8(this.position,1);this.position++;this.view.setUint8(this.position,t?1:0);this.position++;this.length=Math.max(this.length,this.position);++r};this.finalize=function(){var e,i;switch(this.bytes[0]){case n.VIDEO_TAG:this.bytes[11]=(this.keyFrame||t?16:32)|7;this.bytes[12]=t?0:1;e=this.pts-this.dts;this.bytes[13]=(e&16711680)>>>16;this.bytes[14]=(e&65280)>>>8;this.bytes[15]=(e&255)>>>0;break;case n.AUDIO_TAG:this.bytes[11]=175;this.bytes[12]=t?0:1;break;case n.METADATA_TAG:this.position=11;this.view.setUint8(this.position,2);this.position++;this.view.setUint16(this.position,10);this.position+=2;this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position);this.position+=10;this.bytes[this.position]=8;this.position++;this.view.setUint32(this.position,r);this.position=this.length;this.bytes.set([0,0,9],this.position);this.position+=3;this.length=this.position;break}i=this.length-11;this.bytes[1]=(i&16711680)>>>16;this.bytes[2]=(i&65280)>>>8;this.bytes[3]=(i&255)>>>0;this.bytes[4]=(this.dts&16711680)>>>16;this.bytes[5]=(this.dts&65280)>>>8;this.bytes[6]=(this.dts&255)>>>0;this.bytes[7]=(this.dts&4278190080)>>>24;this.bytes[8]=0;this.bytes[9]=0;this.bytes[10]=0;a(this,4);this.view.setUint32(this.length,this.length);this.length+=4;this.position+=4;this.bytes=this.bytes.subarray(0,this.length);this.frameTime=n.frameTime(this.bytes);return this}};n.AUDIO_TAG=8;n.VIDEO_TAG=9;n.METADATA_TAG=18;n.isAudioFrame=function(e){return n.AUDIO_TAG===e[0]};n.isVideoFrame=function(e){return n.VIDEO_TAG===e[0]};n.isMetaData=function(e){return n.METADATA_TAG===e[0]};n.isKeyFrame=function(e){if(n.isVideoFrame(e)){return e[11]===23}if(n.isAudioFrame(e)){return true}if(n.isMetaData(e)){return true}return false};n.frameTime=function(e){var t=e[4]<<16;t|=e[5]<<8;t|=e[6]<<0;t|=e[7]<<24;return t};t.exports=n},{}],45:[function(e,t,r){t.exports={tag:e("./flv-tag"),Transmuxer:e("./transmuxer"),getFlvHeader:e("./flv-header")}},{"./flv-header":43,"./flv-tag":44,"./transmuxer":47}],46:[function(e,t,r){"use strict";var n=function(){var e=this;this.list=[];this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})};Object.defineProperty(this,"length",{get:function(){return e.list.length}})};t.exports=n},{}],47:[function(e,t,r){"use strict";var n=e("../utils/stream.js");var i=e("./flv-tag.js");var a=e("../m2ts/m2ts.js");var o=e("../codecs/adts.js");var s=e("../codecs/h264").H264Stream;var u=e("./coalesce-stream.js");var l=e("./tag-list.js");var f,c,d,p,h,v;p=function(e,t){if(typeof t.pts==="number"){if(e.timelineStartInfo.pts===undefined){e.timelineStartInfo.pts=t.pts}else{e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)}}if(typeof t.dts==="number"){if(e.timelineStartInfo.dts===undefined){e.timelineStartInfo.dts=t.dts}else{e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts)}}};h=function(e,t){var r=new i(i.METADATA_TAG);r.dts=t;r.pts=t;r.writeMetaDataDouble("videocodecid",7);r.writeMetaDataDouble("width",e.width);r.writeMetaDataDouble("height",e.height);return r};v=function(e,t){var r,n=new i(i.VIDEO_TAG,true);n.dts=t;n.pts=t;n.writeByte(1);n.writeByte(e.profileIdc);n.writeByte(e.profileCompatibility);n.writeByte(e.levelIdc);n.writeByte(252|3);n.writeByte(224|1);n.writeShort(e.sps[0].length);n.writeBytes(e.sps[0]);n.writeByte(e.pps.length);for(r=0;r<e.pps.length;++r){n.writeShort(e.pps[r].length);n.writeBytes(e.pps[r])}return n};d=function(e){var t=[],r=[],n;d.prototype.init.call(this);this.push=function(r){p(e,r);if(e){e.audioobjecttype=r.audioobjecttype;e.channelcount=r.channelcount;e.samplerate=r.samplerate;e.samplingfrequencyindex=r.samplingfrequencyindex;e.samplesize=r.samplesize;e.extraData=e.audioobjecttype<<11|e.samplingfrequencyindex<<7|e.channelcount<<3}r.pts=Math.round(r.pts/90);r.dts=Math.round(r.dts/90);t.push(r)};this.flush=function(){var a,o,s,u=new l;if(t.length===0){this.trigger("done","AudioSegmentStream");return}s=-Infinity;while(t.length){a=t.shift();if(r.length&&a.pts>=r[0]){s=r.shift();this.writeMetaDataTags(u,s)}if(e.extraData!==n||a.pts-s>=1e3){this.writeMetaDataTags(u,a.pts);n=e.extraData;s=a.pts}o=new i(i.AUDIO_TAG);o.pts=a.pts;o.dts=a.dts;o.writeBytes(a.data);u.push(o.finalize())}r.length=0;n=null;this.trigger("data",{track:e,tags:u.list});this.trigger("done","AudioSegmentStream")};this.writeMetaDataTags=function(t,r){var n;n=new i(i.METADATA_TAG);n.pts=r;n.dts=r;n.writeMetaDataDouble("audiocodecid",10);n.writeMetaDataBoolean("stereo",e.channelcount===2);n.writeMetaDataDouble("audiosamplerate",e.samplerate);n.writeMetaDataDouble("audiosamplesize",16);t.push(n.finalize());n=new i(i.AUDIO_TAG,true);n.pts=r;n.dts=r;n.view.setUint16(n.position,e.extraData);n.position+=2;n.length=Math.max(n.length,n.position);t.push(n.finalize())};this.onVideoKeyFrame=function(e){r.push(e)}};d.prototype=new n;c=function(e){var t=[],r,n;c.prototype.init.call(this);this.finishFrame=function(t,i){if(!i){return}if(r&&e&&e.newMetadata&&(i.keyFrame||t.length===0)){var a=h(r,i.dts).finalize();var o=v(e,i.dts).finalize();a.metaDataTag=o.metaDataTag=true;t.push(a);t.push(o);e.newMetadata=false;this.trigger("keyframe",i.dts)}i.endNalUnit();t.push(i.finalize());n=null};this.push=function(r){p(e,r);r.pts=Math.round(r.pts/90);r.dts=Math.round(r.dts/90);t.push(r)};this.flush=function(){var a,o=new l;while(t.length){if(t[0].nalUnitType==="access_unit_delimiter_rbsp"){break}t.shift()}if(t.length===0){this.trigger("done","VideoSegmentStream");return}while(t.length){a=t.shift();if(a.nalUnitType==="seq_parameter_set_rbsp"){e.newMetadata=true;r=a.config;e.width=r.width;e.height=r.height;e.sps=[a.data];e.profileIdc=r.profileIdc;e.levelIdc=r.levelIdc;e.profileCompatibility=r.profileCompatibility;n.endNalUnit()}else if(a.nalUnitType==="pic_parameter_set_rbsp"){e.newMetadata=true;e.pps=[a.data];n.endNalUnit()}else if(a.nalUnitType==="access_unit_delimiter_rbsp"){if(n){this.finishFrame(o,n)}n=new i(i.VIDEO_TAG);n.pts=a.pts;n.dts=a.dts}else{if(a.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"){n.keyFrame=true}n.endNalUnit()}n.startNalUnit();n.writeBytes(a.data)}if(n){this.finishFrame(o,n)}this.trigger("data",{track:e,tags:o.list});this.trigger("done","VideoSegmentStream")}};c.prototype=new n;f=function(e){var t=this,r,n,i,l,p,h,v,y,g,m,_,b;f.prototype.init.call(this);e=e||{};this.metadataStream=new a.MetadataStream;e.metadataStream=this.metadataStream;r=new a.TransportPacketStream;n=new a.TransportParseStream;i=new a.ElementaryStream;l=new a.TimestampRolloverStream("video");p=new a.TimestampRolloverStream("audio");h=new a.TimestampRolloverStream("timed-metadata");v=new o;y=new s;b=new u(e);r.pipe(n).pipe(i);i.pipe(l).pipe(y);i.pipe(p).pipe(v);i.pipe(h).pipe(this.metadataStream).pipe(b);_=new a.CaptionStream;y.pipe(_).pipe(b);i.on("data",function(e){var t,r,n;if(e.type==="metadata"){t=e.tracks.length;while(t--){if(e.tracks[t].type==="video"){r=e.tracks[t]}else if(e.tracks[t].type==="audio"){n=e.tracks[t]}}if(r&&!g){b.numberOfTracks++;g=new c(r);y.pipe(g).pipe(b)}if(n&&!m){b.numberOfTracks++;m=new d(n);v.pipe(m).pipe(b);if(g){g.on("keyframe",m.onVideoKeyFrame)}}}});this.push=function(e){r.push(e)};this.flush=function(){r.flush()};this.resetCaptions=function(){_.reset()};b.on("data",function(e){t.trigger("data",e)});b.on("done",function(){t.trigger("done")})};f.prototype=new n;t.exports=f},{"../codecs/adts.js":39,"../codecs/h264":40,"../m2ts/m2ts.js":49,"../utils/stream.js":61,"./coalesce-stream.js":42,"./flv-tag.js":44,"./tag-list.js":46}],48:[function(e,t,r){"use strict";var n=4,i=128,a=e("../utils/stream");var o=function(e){var t=0,r={payloadType:-1,payloadSize:0},a=0,o=0;while(t<e.byteLength){if(e[t]===i){break}while(e[t]===255){a+=255;t++}a+=e[t++];while(e[t]===255){o+=255;t++}o+=e[t++];if(!r.payload&&a===n){r.payloadType=a;r.payloadSize=o;r.payload=e.subarray(t,t+o);break}t+=o;a=0;o=0}return r};var s=function(e){if(e.payload[0]!==181){return null}if((e.payload[1]<<8|e.payload[2])!==49){return null}if(String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])!=="GA94"){return null}if(e.payload[7]!==3){return null}return e.payload.subarray(8,e.payload.length-1)};var u=function(e,t){var r=[],n,i,a,o;if(!(t[0]&64)){return r}i=t[0]&31;for(n=0;n<i;n++){a=n*3;o={type:t[a+2]&3,pts:e};if(t[a+2]&4){o.ccData=t[a+3]<<8|t[a+4];r.push(o)}}return r};var l={push:function(){}};var f=function(){f.prototype.init.call(this);this.captionPackets_=[];this.ccStreams_=[new y(0,0),new y(0,1),new y(1,0),new y(1,1)];this.reset();this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data"));e.on("done",this.trigger.bind(this,"done"))},this)};f.prototype=new a;f.prototype.push=function(e){var t,r;if(e.nalUnitType!=="sei_rbsp"){return}t=o(e.escapedRBSP);if(t.payloadType!==n){return}r=s(t);if(!r){return}if(e.dts<this.latestDts_){this.ignoreNextEqualDts_=true;return}else if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.ignoreNextEqualDts_=false;return}this.captionPackets_=this.captionPackets_.concat(u(e.pts,r));this.latestDts_=e.dts};f.prototype.flush=function(){if(!this.captionPackets_.length){this.ccStreams_.forEach(function(e){e.flush()},this);return}this.captionPackets_.forEach(function(e,t){e.presortIndex=t});this.captionPackets_.sort(function(e,t){if(e.pts===t.pts){return e.presortIndex-t.presortIndex}return e.pts-t.pts});this.captionPackets_.forEach(function(e){if(e.type<2){this.dispatchCea608Packet(e)}},this);this.captionPackets_.length=0;this.ccStreams_.forEach(function(e){e.flush()},this);return};f.prototype.reset=function(){this.latestDts_=null;this.ignoreNextEqualDts_=false;this.activeCea608Channel_=null;this.activeCea608Streams_=[l,l];this.ccStreams_.forEach(function(e){e.reset()})};f.prototype.dispatchCea608Packet=function(e){if(this.setsChannel1Active(e)&&this.activeCea608Channel_!==1){this.activeCea608Channel_=1;this.activeCea608Streams_=[this.ccStreams_[0],this.ccStreams_[2]]}else if(this.setsChannel2Active(e)&&this.activeCea608Channel_!==2){this.activeCea608Channel_=2;this.activeCea608Streams_=[this.ccStreams_[1],this.ccStreams_[3]]}this.activeCea608Streams_[e.type].push(e)};f.prototype.setsChannel1Active=function(e){return(e.ccData&30720)===4096};f.prototype.setsChannel2Active=function(e){return(e.ccData&30720)===6144};var c={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496};var d=function(e){if(e===null){return""}e=c[e]||e;return String.fromCharCode(e)};var p=14;var h=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152];var v=function(){var e=[],t=p+1;while(t--){e.push("")}return e};var y=function(e,t){y.prototype.init.call(this);this.field_=e||0;this.dataChannel_=t||0;this.name_="CC"+((this.field_<<1|this.dataChannel_)+1);this.setConstants();this.reset();this.push=function(e){var t,r,n,i,a;t=e.ccData&32639;if(t===this.lastControlCode_){this.lastControlCode_=null;return}if((t&61440)===4096){this.lastControlCode_=t}else if(t!==this.PADDING_){this.lastControlCode_=null}n=t>>>8;i=t&255;if(t===this.PADDING_){return}else if(t===this.RESUME_CAPTION_LOADING_){this.mode_="popOn"}else if(t===this.END_OF_CAPTION_){this.clearFormatting(e.pts);this.flushDisplayed(e.pts);r=this.displayed_;this.displayed_=this.nonDisplayed_;this.nonDisplayed_=r;this.startPts_=e.pts}else if(t===this.ROLL_UP_2_ROWS_){this.topRow_=p-1;this.mode_="rollUp"}else if(t===this.ROLL_UP_3_ROWS_){this.topRow_=p-2;this.mode_="rollUp"}else if(t===this.ROLL_UP_4_ROWS_){this.topRow_=p-3;this.mode_="rollUp"}else if(t===this.CARRIAGE_RETURN_){this.clearFormatting(e.pts);this.flushDisplayed(e.pts);this.shiftRowsUp_();this.startPts_=e.pts}else if(t===this.BACKSPACE_){if(this.mode_==="popOn"){this.nonDisplayed_[p]=this.nonDisplayed_[p].slice(0,-1)}else{this.displayed_[p]=this.displayed_[p].slice(0,-1)}}else if(t===this.ERASE_DISPLAYED_MEMORY_){this.flushDisplayed(e.pts);this.displayed_=v()}else if(t===this.ERASE_NON_DISPLAYED_MEMORY_){this.nonDisplayed_=v()}else if(t===this.RESUME_DIRECT_CAPTIONING_){this.mode_="paintOn"}else if(this.isSpecialCharacter(n,i)){n=(n&3)<<8;a=d(n|i);this[this.mode_](e.pts,a);this.column_++}else if(this.isExtCharacter(n,i)){if(this.mode_==="popOn"){this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1)}else{this.displayed_[p]=this.displayed_[p].slice(0,-1)}n=(n&3)<<8;a=d(n|i);this[this.mode_](e.pts,a);this.column_++}else if(this.isMidRowCode(n,i)){this.clearFormatting(e.pts);this[this.mode_](e.pts," ");this.column_++;if((i&14)===14){this.addFormatting(e.pts,["i"])}if((i&1)===1){this.addFormatting(e.pts,["u"])}}else if(this.isOffsetControlCode(n,i)){this.column_+=i&3}else if(this.isPAC(n,i)){var o=h.indexOf(t&7968);if(o!==this.row_){this.clearFormatting(e.pts);this.row_=o}if(i&1&&this.formatting_.indexOf("u")===-1){this.addFormatting(e.pts,["u"])}if((t&16)===16){this.column_=((t&14)>>1)*4}if(this.isColorPAC(i)){if((i&14)===14){this.addFormatting(e.pts,["i"])}}}else if(this.isNormalChar(n)){if(i===0){i=null}a=d(n);a+=d(i);this[this.mode_](e.pts,a);this.column_+=a.length}}};y.prototype=new a;y.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");if(t.length){this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})}};y.prototype.reset=function(){this.mode_="popOn";this.topRow_=0;this.startPts_=0;this.displayed_=v();this.nonDisplayed_=v();this.lastControlCode_=null;this.column_=0;this.row_=p;this.formatting_=[]};y.prototype.setConstants=function(){if(this.dataChannel_===0){this.BASE_=16;this.EXT_=17;this.CONTROL_=(20|this.field_)<<8;this.OFFSET_=23}else if(this.dataChannel_===1){this.BASE_=24;this.EXT_=25;this.CONTROL_=(28|this.field_)<<8;this.OFFSET_=31}this.PADDING_=0;this.RESUME_CAPTION_LOADING_=this.CONTROL_|32;this.END_OF_CAPTION_=this.CONTROL_|47;this.ROLL_UP_2_ROWS_=this.CONTROL_|37;this.ROLL_UP_3_ROWS_=this.CONTROL_|38;this.ROLL_UP_4_ROWS_=this.CONTROL_|39;this.CARRIAGE_RETURN_=this.CONTROL_|45;this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41;this.BACKSPACE_=this.CONTROL_|33;this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44;this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46};y.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63};y.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&(t>=32&&t<=63)};y.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&(t>=32&&t<=47)};y.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&(t>=33&&t<=35)};y.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&(t>=64&&t<=127)};y.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127};y.prototype.isNormalChar=function(e){return e>=32&&e<=127};y.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var r=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,r)};y.prototype.clearFormatting=function(e){if(!this.formatting_.length){return}var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[];this[this.mode_](e,t)};y.prototype.popOn=function(e,t){var r=this.nonDisplayed_[this.row_];r+=t;this.nonDisplayed_[this.row_]=r};y.prototype.rollUp=function(e,t){var r=this.displayed_[p];r+=t;this.displayed_[p]=r};y.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++){this.displayed_[e]=""}for(e=this.topRow_;e<p;e++){this.displayed_[e]=this.displayed_[e+1]}this.displayed_[p]=""};y.prototype.paintOn=function(){};t.exports={CaptionStream:f,Cea608Stream:y}},{"../utils/stream":61}],49:[function(e,t,r){"use strict";var n=e("../utils/stream.js"),i=e("./caption-stream"),a=e("./stream-types"),o=e("./timestamp-rollover-stream").TimestampRolloverStream;var s=e("./stream-types.js");var u,l,f;var c=188,d=71;u=function(){var e=new Uint8Array(c),t=0;u.prototype.init.call(this);this.push=function(r){var n=0,i=c,a;if(t){a=new Uint8Array(r.byteLength+t);a.set(e.subarray(0,t));a.set(r,t);t=0}else{a=r}while(i<a.byteLength){if(a[n]===d&&a[i]===d){this.trigger("data",a.subarray(n,i));n+=c;i+=c;continue}n++;i++}if(n<a.byteLength){e.set(a.subarray(n),0);t=a.byteLength-n}};this.flush=function(){if(t===c&&e[0]===d){this.trigger("data",e);t=0}this.trigger("done")}};u.prototype=new n;l=function(){var e,t,r,n;l.prototype.init.call(this);n=this;this.packetsWaitingForPmt=[];this.programMapTable=undefined;e=function(e,n){var i=0;if(n.payloadUnitStartIndicator){i+=e[i]+1}if(n.type==="pat"){t(e.subarray(i),n)}else{r(e.subarray(i),n)}};t=function(e,t){t.section_number=e[7];t.last_section_number=e[8];n.pmtPid=(e[10]&31)<<8|e[11];t.pmtPid=n.pmtPid};r=function(e,t){var r,i,a,o;if(!(e[5]&1)){return}n.programMapTable={};r=(e[1]&15)<<8|e[2];i=3+r-4;a=(e[10]&15)<<8|e[11];o=12+a;while(o<i){n.programMapTable[(e[o+1]&31)<<8|e[o+2]]=e[o];o+=((e[o+3]&15)<<8|e[o+4])+5}t.programMapTable=n.programMapTable;while(n.packetsWaitingForPmt.length){n.processPes_.apply(n,n.packetsWaitingForPmt.shift())}};this.push=function(t){var r={},n=4;r.payloadUnitStartIndicator=!!(t[1]&64);r.pid=t[1]&31;r.pid<<=8;r.pid|=t[2];if((t[3]&48)>>>4>1){n+=t[n]+1}if(r.pid===0){r.type="pat";e(t.subarray(n),r);this.trigger("data",r)}else if(r.pid===this.pmtPid){r.type="pmt";e(t.subarray(n),r);this.trigger("data",r)}else if(this.programMapTable===undefined){this.packetsWaitingForPmt.push([t,n,r])}else{this.processPes_(t,n,r)}};this.processPes_=function(e,t,r){r.streamType=this.programMapTable[r.pid];r.type="pes";r.data=e.subarray(t);this.trigger("data",r)}};l.prototype=new n;l.STREAM_TYPES={h264:27,adts:15};f=function(){var e=this,t={data:[],size:0},r={data:[],size:0},n={data:[],size:0},i=function(e,t){var r;t.packetLength=6+(e[4]<<8|e[5]);t.dataAlignmentIndicator=(e[6]&4)!==0;r=e[7];if(r&192){t.pts=(e[9]&14)<<27|(e[10]&255)<<20|(e[11]&254)<<12|(e[12]&255)<<5|(e[13]&254)>>>3;t.pts*=4;t.pts+=(e[13]&6)>>>1;t.dts=t.pts;if(r&64){t.dts=(e[14]&14)<<27|(e[15]&255)<<20|(e[16]&254)<<12|(e[17]&255)<<5|(e[18]&254)>>>3;t.dts*=4;t.dts+=(e[18]&6)>>>1}}t.data=e.subarray(9+e[8])},o=function(t,r,n){var a=new Uint8Array(t.size),o={type:r},s=0,u=0,l=false,f;if(!t.data.length||t.size<9){return}o.trackId=t.data[0].pid;for(s=0;s<t.data.length;s++){f=t.data[s];a.set(f.data,u);u+=f.data.byteLength}i(a,o);l=r==="video"||o.packetLength===t.size;if(n||l){t.size=0;t.data.length=0}if(l){e.trigger("data",o)}};f.prototype.init.call(this);this.push=function(i){({pat:function(){},pes:function(){var e,u;switch(i.streamType){case a.H264_STREAM_TYPE:case s.H264_STREAM_TYPE:e=t;u="video";break;case a.ADTS_STREAM_TYPE:e=r;u="audio";break;case a.METADATA_STREAM_TYPE:e=n;u="timed-metadata";break;default:return}if(i.payloadUnitStartIndicator){o(e,u,true)}e.data.push(i);e.size+=i.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},r=i.programMapTable,n,a;for(n in r){if(r.hasOwnProperty(n)){a={timelineStartInfo:{baseMediaDecodeTime:0}};a.id=+n;if(r[n]===s.H264_STREAM_TYPE){a.codec="avc";a.type="video"}else if(r[n]===s.ADTS_STREAM_TYPE){a.codec="adts";a.type="audio"}t.tracks.push(a)}}e.trigger("data",t)}})[i.type]()};this.flush=function(){o(t,"video");o(r,"audio");o(n,"timed-metadata");this.trigger("done")}};f.prototype=new n;var p={PAT_PID:0,MP2T_PACKET_LENGTH:c,TransportPacketStream:u,TransportParseStream:l,ElementaryStream:f,TimestampRolloverStream:o,CaptionStream:i.CaptionStream,Cea608Stream:i.Cea608Stream,MetadataStream:e("./metadata-stream")};for(var h in a){if(a.hasOwnProperty(h)){p[h]=a[h]}}t.exports=p},{"../utils/stream.js":61,"./caption-stream":48,"./metadata-stream":50,"./stream-types":52,"./stream-types.js":52,"./timestamp-rollover-stream":53}],50:[function(e,t,r){"use strict";var n=e("../utils/stream"),i=e("./stream-types"),a=function(e,t,r){var n,i="";for(n=t;n<r;n++){i+="%"+("00"+e[n].toString(16)).slice(-2)}return i},o=function(e,t,r){return decodeURIComponent(a(e,t,r))},s=function(e,t,r){return unescape(a(e,t,r))},u=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},l={TXXX:function(e){var t;if(e.data[0]!==3){return}for(t=1;t<e.data.length;t++){if(e.data[t]===0){e.description=o(e.data,1,t);e.value=o(e.data,t+1,e.data.length).replace(/\0*$/,"");break}}e.data=e.value},WXXX:function(e){var t;if(e.data[0]!==3){return}for(t=1;t<e.data.length;t++){if(e.data[t]===0){e.description=o(e.data,1,t);e.url=o(e.data,t+1,e.data.length);break}}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++){if(e.data[t]===0){e.owner=s(e.data,0,t);break}}e.privateData=e.data.subarray(t+1);e.data=e.privateData}},f;f=function(e){var t={debug:!!(e&&e.debug),descriptor:e&&e.descriptor},r=0,n=[],a=0,o;f.prototype.init.call(this);this.dispatchType=i.METADATA_STREAM_TYPE.toString(16);if(t.descriptor){for(o=0;o<t.descriptor.length;o++){this.dispatchType+=("00"+t.descriptor[o].toString(16)).slice(-2)}}this.push=function(e){var i,o,s,f,c,d;if(e.type!=="timed-metadata"){return}if(e.dataAlignmentIndicator){a=0;n.length=0}if(n.length===0&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0))){if(t.debug){console.log("Skipping unrecognized metadata packet")}return}n.push(e);a+=e.data.byteLength;if(n.length===1){r=u(e.data.subarray(6,10));r+=10}if(a<r){return}i={data:new Uint8Array(r),frames:[],pts:n[0].pts,dts:n[0].dts};for(c=0;c<r;){i.data.set(n[0].data.subarray(0,r-c),c);c+=n[0].data.byteLength;a-=n[0].data.byteLength;n.shift()}o=10;if(i.data[5]&64){o+=4;o+=u(i.data.subarray(10,14));r-=u(i.data.subarray(16,20))}do{s=u(i.data.subarray(o+4,o+8));if(s<1){return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.")}d=String.fromCharCode(i.data[o],i.data[o+1],i.data[o+2],i.data[o+3]);f={id:d,data:i.data.subarray(o+10,o+s+10)};f.key=f.id;if(l[f.id]){l[f.id](f);if(f.owner==="com.apple.streaming.transportStreamTimestamp"){var p=f.data,h=(p[3]&1)<<30|p[4]<<22|p[5]<<14|p[6]<<6|p[7]>>>2;h*=4;h+=p[7]&3;f.timeStamp=h;if(i.pts===undefined&&i.dts===undefined){i.pts=f.timeStamp;i.dts=f.timeStamp}this.trigger("timestamp",f)}}i.frames.push(f);o+=10;o+=s}while(o<r);this.trigger("data",i)}};f.prototype=new n;t.exports=f},{"../utils/stream":61,"./stream-types":52}],51:[function(e,t,r){"use strict";var n=e("./stream-types.js");var i=function(e){var t=e[1]&31;t<<=8;t|=e[2];return t};var a=function(e){return!!(e[1]&64)};var o=function(e){var t=0;if((e[3]&48)>>>4>1){t+=e[4]+1}return t};var s=function(e,t){var r=i(e);if(r===0){return"pat"}else if(r===t){return"pmt"}else if(t){return"pes"}return null};var u=function(e){var t=a(e);var r=4+o(e);if(t){r+=e[r]+1}return(e[r+10]&31)<<8|e[r+11]};var l=function(e){var t={};var r=a(e);var n=4+o(e);if(r){n+=e[n]+1}if(!(e[n+5]&1)){return}var i,s,u;i=(e[n+1]&15)<<8|e[n+2];s=3+i-4;u=(e[n+10]&15)<<8|e[n+11];var l=12+u;while(l<s){var f=n+l;t[(e[f+1]&31)<<8|e[f+2]]=e[f];l+=((e[f+3]&15)<<8|e[f+4])+5}return t};var f=function(e,t){var r=i(e);var a=t[r];switch(a){case n.H264_STREAM_TYPE:return"video";case n.ADTS_STREAM_TYPE:return"audio";case n.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}};var c=function(e){var t=a(e);if(!t){return null}var r=4+o(e);if(r>=e.byteLength){return null}var n=null;var i;i=e[r+7];if(i&192){n={};n.pts=(e[r+9]&14)<<27|(e[r+10]&255)<<20|(e[r+11]&254)<<12|(e[r+12]&255)<<5|(e[r+13]&254)>>>3;n.pts*=4;n.pts+=(e[r+13]&6)>>>1;n.dts=n.pts;if(i&64){n.dts=(e[r+14]&14)<<27|(e[r+15]&255)<<20|(e[r+16]&254)<<12|(e[r+17]&255)<<5|(e[r+18]&254)>>>3;n.dts*=4;n.dts+=(e[r+18]&6)>>>1}}return n};var d=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};var p=function(e){var t=4+o(e);var r=e.subarray(t);var n=0;var i=0;var a=false;var s;for(;i<r.byteLength-3;i++){if(r[i+2]===1){n=i+5;break}}while(n<r.byteLength){switch(r[n]){case 0:if(r[n-1]!==0){n+=2;break}else if(r[n-2]!==0){n++;break}if(i+3!==n-2){s=d(r[i+3]&31);if(s==="slice_layer_without_partitioning_rbsp_idr"){a=true}}do{n++}while(r[n]!==1&&n<r.length);i=n-2;n+=3;break;case 1:if(r[n-1]!==0||r[n-2]!==0){n+=3;break}s=d(r[i+3]&31);if(s==="slice_layer_without_partitioning_rbsp_idr"){a=true}i=n-2;n+=3;break;default:n+=3;break}}r=r.subarray(i);n-=i;i=0;if(r&&r.byteLength>3){s=d(r[i+3]&31);if(s==="slice_layer_without_partitioning_rbsp_idr"){a=true}}return a};t.exports={parseType:s,parsePat:u,parsePmt:l,parsePayloadUnitStartIndicator:a,parsePesType:f,parsePesTime:c,videoPacketContainsKeyFrame:p}},{"./stream-types.js":52}],52:[function(e,t,r){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],53:[function(e,t,r){"use strict";var n=e("../utils/stream");var i=8589934592;var a=4294967296;var o=function(e,t){var r=1;if(e>t){r=-1}while(Math.abs(t-e)>a){e+=r*i}return e};var s=function(e){var t,r;s.prototype.init.call(this);this.type_=e;this.push=function(e){if(e.type!==this.type_){return}if(r===undefined){r=e.dts}e.dts=o(e.dts,r);e.pts=o(e.pts,r);t=e.dts;this.trigger("data",e)};this.flush=function(){r=t;this.trigger("done")};this.discontinuity=function(){r=void 0;t=void 0}};s.prototype=new n;t.exports={TimestampRolloverStream:s,handleRollover:o}},{"../utils/stream":61}],54:[function(e,t,r){t.exports={generator:e("./mp4-generator"),Transmuxer:e("./transmuxer").Transmuxer,AudioSegmentStream:e("./transmuxer").AudioSegmentStream,VideoSegmentStream:e("./transmuxer").VideoSegmentStream}},{"./mp4-generator":55,"./transmuxer":57}],55:[function(e,t,r){"use strict";var n=Math.pow(2,32)-1;var i,a,o,s,u,l,f,c,d,p,h,v,y,g,m,_,b,T,E,w,S,C,O,k,P,x,A,M,I,R,D,j,L,N,F,B;(function(){var e;O={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]};if(typeof Uint8Array==="undefined"){return}for(e in O){if(O.hasOwnProperty(e)){O[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]}}k=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]);x=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]);P=new Uint8Array([0,0,0,1]);A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]);M=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);I={video:A,audio:M};j=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);D=new Uint8Array([0,0,0,0,0,0,0,0]);L=new Uint8Array([0,0,0,0,0,0,0,0]);N=L;F=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]);B=L;R=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])})();i=function(e){var t=[],r=0,n,i,a;for(n=1;n<arguments.length;n++){t.push(arguments[n])}n=t.length;while(n--){r+=t[n].byteLength}i=new Uint8Array(r+8);a=new DataView(i.buffer,i.byteOffset,i.byteLength);a.setUint32(0,i.byteLength);i.set(e,4);for(n=0,r=8;n<t.length;n++){i.set(t[n],r);r+=t[n].byteLength}return i};a=function(){return i(O.dinf,i(O.dref,j))};o=function(e){return i(O.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))};s=function(){return i(O.ftyp,k,P,k,x)};_=function(e){return i(O.hdlr,I[e])};u=function(e){return i(O.mdat,e)};m=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,e.duration&255,85,196,0,0]);if(e.samplerate){t[12]=e.samplerate>>>24&255;t[13]=e.samplerate>>>16&255;t[14]=e.samplerate>>>8&255;t[15]=e.samplerate&255}return i(O.mdhd,t)};g=function(e){return i(O.mdia,m(e),_(e.type),f(e))};l=function(e){return i(O.mfhd,new Uint8Array([0,0,0,0,(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255]))};f=function(e){return i(O.minf,e.type==="video"?i(O.vmhd,R):i(O.smhd,D),a(),T(e))};c=function(e,t){var r=[],n=t.length;while(n--){r[n]=w(t[n])}return i.apply(null,[O.moof,l(e)].concat(r))};d=function(e){var t=e.length,r=[];while(t--){r[t]=v(e[t])}return i.apply(null,[O.moov,h(4294967295)].concat(r).concat(p(e)))};p=function(e){var t=e.length,r=[];while(t--){r[t]=S(e[t])}return i.apply(null,[O.mvex].concat(r))};h=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(O.mvhd,t)};b=function(e){var t=e.samples||[],r=new Uint8Array(4+t.length),n,a;for(a=0;a<t.length;a++){n=t[a].flags;r[a+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy}return i(O.sdtp,r)};T=function(e){return i(O.stbl,E(e),i(O.stts,B),i(O.stsc,N),i(O.stsz,F),i(O.stco,L))};(function(){var e,t;E=function(r){return i(O.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),r.type==="video"?e(r):t(r))};e=function(e){var t=e.sps||[],r=e.pps||[],n=[],a=[],o;for(o=0;o<t.length;o++){n.push((t[o].byteLength&65280)>>>8);n.push(t[o].byteLength&255);n=n.concat(Array.prototype.slice.call(t[o]))}for(o=0;o<r.length;o++){a.push((r[o].byteLength&65280)>>>8);a.push(r[o].byteLength&255);a=a.concat(Array.prototype.slice.call(r[o]))}return i(O.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(e.width&65280)>>8,e.width&255,(e.height&65280)>>8,e.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(O.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([t.length]).concat(n).concat([r.length]).concat(a))),i(O.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))};t=function(e){return i(O.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(e.channelcount&65280)>>8,e.channelcount&255,(e.samplesize&65280)>>8,e.samplesize&255,0,0,0,0,(e.samplerate&65280)>>8,e.samplerate&255,0,0]),o(e))}})();y=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(e.id&4278190080)>>24,(e.id&16711680)>>16,(e.id&65280)>>8,e.id&255,0,0,0,0,(e.duration&4278190080)>>24,(e.duration&16711680)>>16,(e.duration&65280)>>8,e.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(e.width&65280)>>8,e.width&255,0,0,(e.height&65280)>>8,e.height&255,0,0]);return i(O.tkhd,t)};w=function(e){var t,r,a,o,s,u,l;t=i(O.tfhd,new Uint8Array([0,0,0,58,(e.id&4278190080)>>24,(e.id&16711680)>>16,(e.id&65280)>>8,e.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]));u=Math.floor(e.baseMediaDecodeTime/(n+1));l=Math.floor(e.baseMediaDecodeTime%(n+1));r=i(O.tfdt,new Uint8Array([1,0,0,0,u>>>24&255,u>>>16&255,u>>>8&255,u&255,l>>>24&255,l>>>16&255,l>>>8&255,l&255]));s=32+20+8+16+8+8;if(e.type==="audio"){a=C(e,s);return i(O.traf,t,r,a)}o=b(e);a=C(e,o.length+s);return i(O.traf,t,r,a,o)};v=function(e){e.duration=e.duration||4294967295;return i(O.trak,y(e),g(e))};S=function(e){var t=new Uint8Array([0,0,0,0,(e.id&4278190080)>>24,(e.id&16711680)>>16,(e.id&65280)>>8,e.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);if(e.type!=="video"){t[t.length-1]=0}return i(O.trex,t)};(function(){var e,t,r;r=function(e,t){var r=0,n=0,i=0,a=0;if(e.length){if(e[0].duration!==undefined){r=1}if(e[0].size!==undefined){n=2}if(e[0].flags!==undefined){i=4}if(e[0].compositionTimeOffset!==undefined){a=8}}return[0,0,r|n|i|a,1,(e.length&4278190080)>>>24,(e.length&16711680)>>>16,(e.length&65280)>>>8,e.length&255,(t&4278190080)>>>24,(t&16711680)>>>16,(t&65280)>>>8,t&255]};t=function(e,t){var n,a,o,s;a=e.samples||[];t+=8+12+16*a.length;n=r(a,t);for(s=0;s<a.length;s++){o=a[s];n=n.concat([(o.duration&4278190080)>>>24,(o.duration&16711680)>>>16,(o.duration&65280)>>>8,o.duration&255,(o.size&4278190080)>>>24,(o.size&16711680)>>>16,(o.size&65280)>>>8,o.size&255,o.flags.isLeading<<2|o.flags.dependsOn,o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,o.flags.degradationPriority&240<<8,o.flags.degradationPriority&15,(o.compositionTimeOffset&4278190080)>>>24,(o.compositionTimeOffset&16711680)>>>16,(o.compositionTimeOffset&65280)>>>8,o.compositionTimeOffset&255])}return i(O.trun,new Uint8Array(n))};e=function(e,t){var n,a,o,s;a=e.samples||[];t+=8+12+8*a.length;n=r(a,t);for(s=0;s<a.length;s++){o=a[s];n=n.concat([(o.duration&4278190080)>>>24,(o.duration&16711680)>>>16,(o.duration&65280)>>>8,o.duration&255,(o.size&4278190080)>>>24,(o.size&16711680)>>>16,(o.size&65280)>>>8,o.size&255])}return i(O.trun,new Uint8Array(n))};C=function(r,n){if(r.type==="audio"){return e(r,n)}return t(r,n)}})();t.exports={ftyp:s,mdat:u,moof:c,moov:d,initSegment:function(e){var t=s(),r=d(e),n;n=new Uint8Array(t.byteLength+r.byteLength);n.set(t);n.set(r,t.byteLength);return n}}},{}],56:[function(e,t,r){"use strict";var n,i,a,o;n=function(e,t){var r=[],a,o,s,u,l;if(!t.length){return null}for(a=0;a<e.byteLength;){o=e[a]<<24;o|=e[a+1]<<16;o|=e[a+2]<<8;o|=e[a+3];s=i(e.subarray(a+4,a+8));u=o>1?a+o:e.byteLength;if(s===t[0]){if(t.length===1){r.push(e.subarray(a+8,u))}else{l=n(e.subarray(a+8,u),t.slice(1));if(l.length){r=r.concat(l)}}}a=u}return r};i=function(e){var t="";t+=String.fromCharCode(e[0]);t+=String.fromCharCode(e[1]);t+=String.fromCharCode(e[2]);t+=String.fromCharCode(e[3]);return t};a=function(e){var t={},r=n(e,["moov","trak"]);return r.reduce(function(e,t){var r,i,a,o,s;r=n(t,["tkhd"])[0];if(!r){return null}i=r[0];a=i===0?12:20;o=r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3];s=n(t,["mdia","mdhd"])[0];if(!s){return null}i=s[0];a=i===0?12:20;e[o]=s[a]<<24|s[a+1]<<16|s[a+2]<<8|s[a+3];return e},t)};o=function(e,t){var r,i,a;r=n(t,["moof","traf"]);i=[].concat.apply([],r.map(function(t){return n(t,["tfhd"]).map(function(r){var i,a,o;i=r[4]<<24|r[5]<<16|r[6]<<8|r[7];a=e[i]||9e4;o=n(t,["tfdt"]).map(function(e){var t,r;t=e[0];r=e[4]<<24|e[5]<<16|e[6]<<8|e[7];if(t===1){r*=Math.pow(2,32);r+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]}return r})[0];o=o||Infinity;return o/a})}));a=Math.min.apply(null,i);return isFinite(a)?a:0};t.exports={parseType:i,timescale:a,startTime:o}},{}],57:[function(e,t,r){"use strict";var n=e("../utils/stream.js");var i=e("./mp4-generator.js");var a=e("../m2ts/m2ts.js");var o=e("../codecs/adts.js");var s=e("../codecs/h264").H264Stream;var u=e("../aac");var l=e("../data/silence");var f=e("../utils/clock");var c=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"];var d=["width","height","profileIdc","levelIdc","profileCompatibility"];var p=9e4;var h,v,y,g;var m,_,b,T,E,w,S;m=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}};_=function(e){if(e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)){return true}return false};w=function(e,t){var r;if(e.length!==t.length){return false}for(r=0;r<e.length;r++){if(e[r]!==t[r]){return false}}return true};S=function(e){var t,r,n=0;for(t=0;t<e.length;t++){r=e[t];n+=r.data.byteLength}return n};v=function(e){var t=[],r=0,n=0,a=0,o=Infinity;v.prototype.init.call(this);this.push=function(r){b(e,r);if(e){c.forEach(function(t){e[t]=r[t]})}t.push(r)};this.setEarliestDts=function(t){n=t-e.timelineStartInfo.baseMediaDecodeTime};this.setVideoBaseMediaDecodeTime=function(e){o=e};this.setAudioAppendStart=function(e){a=e};this.flush=function(){var n,a,o,s;if(t.length===0){this.trigger("done","AudioSegmentStream");return}n=this.trimAdtsFramesByEarliestDts_(t);e.baseMediaDecodeTime=E(e);this.prefixWithSilence_(e,n);e.samples=this.generateSampleTable_(n);o=i.mdat(this.concatenateFrameData_(n));t=[];a=i.moof(r,[e]);s=new Uint8Array(a.byteLength+o.byteLength);r++;s.set(a);s.set(o,a.byteLength);T(e);this.trigger("data",{track:e,boxes:s});this.trigger("done","AudioSegmentStream")};this.prefixWithSilence_=function(e,t){var r,n=0,i=0,s=0,u=0,c,d;if(!t.length){return}r=f.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate);n=Math.ceil(p/(e.samplerate/1024));if(a&&o){i=r-Math.max(a,o);s=Math.floor(i/n);u=s*n}if(s<1||u>p/2){return}c=l[e.samplerate];if(!c){c=t[0].data}for(d=0;d<s;d++){t.splice(d,0,{data:c})}e.baseMediaDecodeTime-=Math.floor(f.videoTsToAudioTs(u,e.samplerate))};this.trimAdtsFramesByEarliestDts_=function(t){if(e.minSegmentDts>=n){return t}e.minSegmentDts=Infinity;return t.filter(function(t){if(t.dts>=n){e.minSegmentDts=Math.min(e.minSegmentDts,t.dts);e.minSegmentPts=e.minSegmentDts;return true}return false})};this.generateSampleTable_=function(e){var t,r,n=[];for(t=0;t<e.length;t++){r=e[t];n.push({size:r.data.byteLength,duration:1024})}return n};this.concatenateFrameData_=function(e){var t,r,n=0,i=new Uint8Array(S(e));for(t=0;t<e.length;t++){r=e[t];i.set(r.data,n);n+=r.data.byteLength}return i}};v.prototype=new n;h=function(e){var t=0,r=[],n,a;h.prototype.init.call(this);delete e.minPTS;this.gopCache_=[];this.push=function(t){b(e,t);if(t.nalUnitType==="seq_parameter_set_rbsp"&&!n){n=t.config;e.sps=[t.data];d.forEach(function(t){e[t]=n[t]},this)}if(t.nalUnitType==="pic_parameter_set_rbsp"&&!a){a=t.data;e.pps=[t.data]}r.push(t)};this.flush=function(){var n,a,o,s,u,l;while(r.length){if(r[0].nalUnitType==="access_unit_delimiter_rbsp"){break}r.shift()}if(r.length===0){this.resetStream_();this.trigger("done","VideoSegmentStream");return}n=this.groupNalsIntoFrames_(r);o=this.groupFramesIntoGops_(n);if(!o[0][0].keyFrame){a=this.getGopForFusion_(r[0],e);if(a){o.unshift(a);o.byteLength+=a.byteLength;o.nalCount+=a.nalCount;o.pts=a.pts;o.dts=a.dts;o.duration+=a.duration}else{o=this.extendFirstKeyFrame_(o)}}b(e,o);e.samples=this.generateSampleTable_(o);u=i.mdat(this.concatenateNalData_(o));this.gopCache_.unshift({gop:o.pop(),pps:e.pps,sps:e.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);r=[];e.baseMediaDecodeTime=E(e);this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime);this.trigger("timelineStartInfo",e.timelineStartInfo);s=i.moof(t,[e]);l=new Uint8Array(s.byteLength+u.byteLength);t++;l.set(s);l.set(u,s.byteLength);this.trigger("data",{track:e,boxes:l});this.resetStream_();this.trigger("done","VideoSegmentStream")};this.resetStream_=function(){T(e);n=undefined;a=undefined};this.getGopForFusion_=function(t){var r=45e3,n=1e4,i=Infinity,a,o,s,u,l;for(l=0;l<this.gopCache_.length;l++){u=this.gopCache_[l];s=u.gop;if(!(e.pps&&w(e.pps[0],u.pps[0]))||!(e.sps&&w(e.sps[0],u.sps[0]))){continue}if(s.dts<e.timelineStartInfo.dts){continue}a=t.dts-s.dts-s.duration;if(a>=-n&&a<=r){if(!o||i>a){o=u;i=a}}}if(o){return o.gop}return null};this.extendFirstKeyFrame_=function(e){var t;if(!e[0][0].keyFrame&&e.length>1){t=e.shift();e.byteLength-=t.byteLength;e.nalCount-=t.nalCount;e[0][0].dts=t.dts;e[0][0].pts=t.pts;e[0][0].duration+=t.duration}return e};this.groupNalsIntoFrames_=function(e){var t,r,n=[],i=[];n.byteLength=0;for(t=0;t<e.length;t++){r=e[t];if(r.nalUnitType==="access_unit_delimiter_rbsp"){if(n.length){n.duration=r.dts-n.dts;i.push(n)}n=[r];n.byteLength=r.data.byteLength;n.pts=r.pts;n.dts=r.dts}else{if(r.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"){n.keyFrame=true}n.duration=r.dts-n.dts;n.byteLength+=r.data.byteLength;n.push(r)}}if(i.length&&(!n.duration||n.duration<=0)){n.duration=i[i.length-1].duration}i.push(n);return i};this.groupFramesIntoGops_=function(e){var t,r,n=[],i=[];n.byteLength=0;n.nalCount=0;n.duration=0;n.pts=e[0].pts;n.dts=e[0].dts;i.byteLength=0;i.nalCount=0;i.duration=0;i.pts=e[0].pts;i.dts=e[0].dts;for(t=0;t<e.length;t++){r=e[t];if(r.keyFrame){if(n.length){i.push(n);i.byteLength+=n.byteLength;i.nalCount+=n.nalCount;i.duration+=n.duration}n=[r];n.nalCount=r.length;n.byteLength=r.byteLength;n.pts=r.pts;n.dts=r.dts;n.duration=r.duration}else{n.duration+=r.duration;n.nalCount+=r.length;n.byteLength+=r.byteLength;n.push(r)}}if(i.length&&n.duration<=0){n.duration=i[i.length-1].duration}i.byteLength+=n.byteLength;i.nalCount+=n.nalCount;i.duration+=n.duration;i.push(n);return i};this.generateSampleTable_=function(e,t){var r,n,i,a,o,s=t||0,u=[];for(r=0;r<e.length;r++){a=e[r];for(n=0;n<a.length;n++){o=a[n];i=m();i.dataOffset=s;i.compositionTimeOffset=o.pts-o.dts;i.duration=o.duration;i.size=4*o.length;i.size+=o.byteLength;if(o.keyFrame){i.flags.dependsOn=2}s+=i.size;u.push(i)}}return u};this.concatenateNalData_=function(e){var t,r,n,i,a,o,s=0,u=e.byteLength,l=e.nalCount,f=u+4*l,c=new Uint8Array(f),d=new DataView(c.buffer);for(t=0;t<e.length;t++){i=e[t];for(r=0;r<i.length;r++){a=i[r];for(n=0;n<a.length;n++){o=a[n];d.setUint32(s,o.data.byteLength);s+=4;c.set(o.data,s);s+=o.data.byteLength}}}return c}};h.prototype=new n;b=function(e,t){if(typeof t.pts==="number"){if(e.timelineStartInfo.pts===undefined){e.timelineStartInfo.pts=t.pts}if(e.minSegmentPts===undefined){e.minSegmentPts=t.pts}else{e.minSegmentPts=Math.min(e.minSegmentPts,t.pts)}if(e.maxSegmentPts===undefined){e.maxSegmentPts=t.pts}else{e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)}}if(typeof t.dts==="number"){if(e.timelineStartInfo.dts===undefined){e.timelineStartInfo.dts=t.dts}if(e.minSegmentDts===undefined){e.minSegmentDts=t.dts}else{e.minSegmentDts=Math.min(e.minSegmentDts,t.dts)}if(e.maxSegmentDts===undefined){e.maxSegmentDts=t.dts}else{e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts)}}};T=function(e){delete e.minSegmentDts;delete e.maxSegmentDts;delete e.minSegmentPts;delete e.maxSegmentPts};E=function(e){var t,r,n=e.minSegmentDts-e.timelineStartInfo.dts;t=e.timelineStartInfo.baseMediaDecodeTime;t+=n;t=Math.max(0,t);if(e.type==="audio"){r=e.samplerate/p;t*=r;t=Math.floor(t)}return t};g=function(e,t){this.numberOfTracks=0;this.metadataStream=t;if(typeof e.remux!=="undefined"){this.remuxTracks=!!e.remux}else{this.remuxTracks=true}this.pendingTracks=[];this.videoTrack=null;this.pendingBoxes=[];this.pendingCaptions=[];this.pendingMetadata=[];this.pendingBytes=0;this.emittedTracks=0;g.prototype.init.call(this);this.push=function(e){if(e.text){return this.pendingCaptions.push(e)}if(e.frames){return this.pendingMetadata.push(e)}this.pendingTracks.push(e.track);this.pendingBoxes.push(e.boxes);this.pendingBytes+=e.boxes.byteLength;if(e.track.type==="video"){this.videoTrack=e.track}if(e.track.type==="audio"){this.audioTrack=e.track}}};g.prototype=new n;g.prototype.flush=function(e){var t=0,r={captions:[],captionStreams:{},metadata:[],info:{}},n,a,o,s=0,u;if(this.pendingTracks.length<this.numberOfTracks){if(e!=="VideoSegmentStream"&&e!=="AudioSegmentStream"){return}else if(this.remuxTracks){return}else if(this.pendingTracks.length===0){this.emittedTracks++;if(this.emittedTracks>=this.numberOfTracks){this.trigger("done");this.emittedTracks=0}return}}if(this.videoTrack){s=this.videoTrack.timelineStartInfo.pts;d.forEach(function(e){r.info[e]=this.videoTrack[e]},this)}else if(this.audioTrack){s=this.audioTrack.timelineStartInfo.pts;c.forEach(function(e){r.info[e]=this.audioTrack[e]},this)}if(this.pendingTracks.length===1){r.type=this.pendingTracks[0].type}else{r.type="combined"}this.emittedTracks+=this.pendingTracks.length;o=i.initSegment(this.pendingTracks);r.initSegment=new Uint8Array(o.byteLength);r.initSegment.set(o);r.data=new Uint8Array(this.pendingBytes);for(u=0;u<this.pendingBoxes.length;u++){r.data.set(this.pendingBoxes[u],t);t+=this.pendingBoxes[u].byteLength}for(u=0;u<this.pendingCaptions.length;u++){n=this.pendingCaptions[u];n.startTime=n.startPts-s;n.startTime/=9e4;n.endTime=n.endPts-s;n.endTime/=9e4;r.captionStreams[n.stream]=true;r.captions.push(n)}for(u=0;u<this.pendingMetadata.length;u++){a=this.pendingMetadata[u];a.cueTime=a.pts-s;a.cueTime/=9e4;r.metadata.push(a)}r.metadata.dispatchType=this.metadataStream.dispatchType;this.pendingTracks.length=0;this.videoTrack=null;this.pendingBoxes.length=0;this.pendingCaptions.length=0;this.pendingBytes=0;this.pendingMetadata.length=0;this.trigger("data",r);if(this.emittedTracks>=this.numberOfTracks){this.trigger("done");this.emittedTracks=0}};y=function(e){var t=this,r=true,n,i;y.prototype.init.call(this);e=e||{};this.baseMediaDecodeTime=e.baseMediaDecodeTime||0;this.transmuxPipeline_={};this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r;r.type="aac";r.metadataStream=new a.MetadataStream;r.aacStream=new u;r.audioTimestampRolloverStream=new a.TimestampRolloverStream("audio");r.timedMetadataTimestampRolloverStream=new a.TimestampRolloverStream("timed-metadata");r.adtsStream=new o;r.coalesceStream=new g(e,r.metadataStream);r.headOfPipeline=r.aacStream;r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream);r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream);r.metadataStream.on("timestamp",function(e){r.aacStream.setTimestamp(e.timeStamp)});r.aacStream.on("data",function(e){if(e.type==="timed-metadata"&&!r.audioSegmentStream){i=i||{timelineStartInfo:{baseMediaDecodeTime:t.baseMediaDecodeTime},codec:"adts",type:"audio"};r.coalesceStream.numberOfTracks++;r.audioSegmentStream=new v(i);r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)}});r.coalesceStream.on("data",this.trigger.bind(this,"data"));r.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r;r.type="ts";r.metadataStream=new a.MetadataStream;r.packetStream=new a.TransportPacketStream;r.parseStream=new a.TransportParseStream;r.elementaryStream=new a.ElementaryStream;r.videoTimestampRolloverStream=new a.TimestampRolloverStream("video");r.audioTimestampRolloverStream=new a.TimestampRolloverStream("audio");r.timedMetadataTimestampRolloverStream=new a.TimestampRolloverStream("timed-metadata");r.adtsStream=new o;r.h264Stream=new s;r.captionStream=new a.CaptionStream;r.coalesceStream=new g(e,r.metadataStream);r.headOfPipeline=r.packetStream;r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream);r.elementaryStream.pipe(r.videoTimestampRolloverStream).pipe(r.h264Stream);r.elementaryStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream);r.elementaryStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream);r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream);r.elementaryStream.on("data",function(e){var a;if(e.type==="metadata"){a=e.tracks.length;while(a--){if(!n&&e.tracks[a].type==="video"){n=e.tracks[a];n.timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime}else if(!i&&e.tracks[a].type==="audio"){i=e.tracks[a];i.timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime}}if(n&&!r.videoSegmentStream){r.coalesceStream.numberOfTracks++;r.videoSegmentStream=new h(n);r.videoSegmentStream.on("timelineStartInfo",function(e){if(i){i.timelineStartInfo=e;r.audioSegmentStream.setEarliestDts(e.dts)}});r.videoSegmentStream.on("baseMediaDecodeTime",function(e){if(i){r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}});r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)}if(i&&!r.audioSegmentStream){r.coalesceStream.numberOfTracks++;r.audioSegmentStream=new v(i);r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)}}});r.coalesceStream.on("data",this.trigger.bind(this,"data"));r.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;this.baseMediaDecodeTime=e;if(i){i.timelineStartInfo.dts=undefined;i.timelineStartInfo.pts=undefined;T(i);i.timelineStartInfo.baseMediaDecodeTime=e;if(t.audioTimestampRolloverStream){t.audioTimestampRolloverStream.discontinuity()}}if(n){if(t.videoSegmentStream){t.videoSegmentStream.gopCache_=[];t.videoTimestampRolloverStream.discontinuity()}n.timelineStartInfo.dts=undefined;n.timelineStartInfo.pts=undefined;T(n);t.captionStream.reset();n.timelineStartInfo.baseMediaDecodeTime=e}if(t.timedMetadataTimestampRolloverStream){t.timedMetadataTimestampRolloverStream.discontinuity()}};this.setAudioAppendStart=function(e){if(i){this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)}};this.push=function(e){if(r){var t=_(e);if(t&&this.transmuxPipeline_.type!=="aac"){this.setupAacPipeline()}else if(!t&&this.transmuxPipeline_.type!=="ts"){this.setupTsPipeline()}r=false}this.transmuxPipeline_.headOfPipeline.push(e)};this.flush=function(){r=true;this.transmuxPipeline_.headOfPipeline.flush()};this.resetCaptions=function(){if(this.transmuxPipeline_.captionStream){this.transmuxPipeline_.captionStream.reset()}}};y.prototype=new n;t.exports={Transmuxer:y,VideoSegmentStream:h,AudioSegmentStream:v,AUDIO_PROPERTIES:c,VIDEO_PROPERTIES:d}},{"../aac":37,"../codecs/adts.js":39,"../codecs/h264":40,"../data/silence":41,"../m2ts/m2ts.js":49,"../utils/clock":59,"../utils/stream.js":61,"./mp4-generator.js":55}],58:[function(e,t,r){"use strict";var n=e("../m2ts/stream-types.js");var i=e("../m2ts/timestamp-rollover-stream.js").handleRollover;var a={};a.ts=e("../m2ts/probe.js");a.aac=e("../aac/probe.js");var o=9e4,s=188,u=71;var l=function(e){if(e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)){return true}return false};var f=function(e,t){var r=0,n=s,i,o;while(n<e.byteLength){if(e[r]===u&&e[n]===u){i=e.subarray(r,n);o=a.ts.parseType(i,t.pid);switch(o){case"pat":if(!t.pid){t.pid=a.ts.parsePat(i)}break;case"pmt":if(!t.table){t.table=a.ts.parsePmt(i)}break;default:break}if(t.pid&&t.table){return}r+=s;n+=s;continue}r++;n++}};var c=function(e,t,r){var n=0,i=s,o,l,f,c,d;var p=false;while(i<e.byteLength){if(e[n]===u&&e[i]===u){o=e.subarray(n,i);l=a.ts.parseType(o,t.pid);switch(l){case"pes":f=a.ts.parsePesType(o,t.table);c=a.ts.parsePayloadUnitStartIndicator(o);if(f==="audio"&&c){d=a.ts.parsePesTime(o);if(d){d.type="audio";r.audio.push(d);p=true}}break;default:break}if(p){break}n+=s;i+=s;continue}n++;i++}i=e.byteLength;n=i-s;p=false;while(n>=0){if(e[n]===u&&e[i]===u){o=e.subarray(n,i);l=a.ts.parseType(o,t.pid);switch(l){case"pes":f=a.ts.parsePesType(o,t.table);c=a.ts.parsePayloadUnitStartIndicator(o);if(f==="audio"&&c){d=a.ts.parsePesTime(o);if(d){d.type="audio";r.audio.push(d);p=true}}break;default:break}if(p){break}n-=s;i-=s;continue}n--;i--}};var d=function(e,t,r){var n=0,i=s,o,l,f,c,d,p,h,v;var y=false;var g={data:[],size:0};while(i<e.byteLength){if(e[n]===u&&e[i]===u){o=e.subarray(n,i);l=a.ts.parseType(o,t.pid);switch(l){case"pes":f=a.ts.parsePesType(o,t.table);c=a.ts.parsePayloadUnitStartIndicator(o);if(f==="video"){if(c&&!y){d=a.ts.parsePesTime(o);if(d){d.type="video";r.video.push(d);y=true}}if(!r.firstKeyFrame){if(c){if(g.size!==0){p=new Uint8Array(g.size);h=0;while(g.data.length){v=g.data.shift();p.set(v,h);h+=v.byteLength}if(a.ts.videoPacketContainsKeyFrame(p)){r.firstKeyFrame=a.ts.parsePesTime(p);r.firstKeyFrame.type="video"}g.size=0}}g.data.push(o);g.size+=o.byteLength}}break;default:break}if(y&&r.firstKeyFrame){break}n+=s;i+=s;continue}n++;i++}i=e.byteLength;n=i-s;y=false;while(n>=0){if(e[n]===u&&e[i]===u){o=e.subarray(n,i);l=a.ts.parseType(o,t.pid);switch(l){case"pes":f=a.ts.parsePesType(o,t.table);c=a.ts.parsePayloadUnitStartIndicator(o);if(f==="video"&&c){d=a.ts.parsePesTime(o);if(d){d.type="video";r.video.push(d);y=true}}break;default:break}if(y){break}n-=s;i-=s;continue}n--;i--}};var p=function(e,t){if(e.audio&&e.audio.length){var r=t;if(typeof r==="undefined"){r=e.audio[0].dts}e.audio.forEach(function(e){e.dts=i(e.dts,r);e.pts=i(e.pts,r);e.dtsTime=e.dts/o;e.ptsTime=e.pts/o})}if(e.video&&e.video.length){var n=t;if(typeof n==="undefined"){n=e.video[0].dts}e.video.forEach(function(e){e.dts=i(e.dts,n);e.pts=i(e.pts,n);e.dtsTime=e.dts/o;e.ptsTime=e.pts/o});if(e.firstKeyFrame){var a=e.firstKeyFrame;a.dts=i(a.dts,n);a.pts=i(a.pts,n);a.dtsTime=a.dts/o;a.ptsTime=a.dts/o}}};var h=function(e){var t=false,r=0,n=null,i=null,s=0,u=0,l;while(e.length-u>=3){var f=a.aac.parseType(e,u);switch(f){case"timed-metadata":if(e.length-u<10){t=true;break}s=a.aac.parseId3TagSize(e,u);if(s>e.length){t=true;break}if(i===null){l=e.subarray(u,u+s);i=a.aac.parseAacTimestamp(l)}u+=s;break;case"audio":if(e.length-u<7){t=true;break}s=a.aac.parseAdtsSize(e,u);if(s>e.length){t=true;break}if(n===null){l=e.subarray(u,u+s);n=a.aac.parseSampleRate(l)}r++;u+=s;break;default:u++;break}if(t){return null}}if(n===null||i===null){return null}var c=o/n;var d={audio:[{type:"audio",dts:i,pts:i},{type:"audio",dts:i+r*1024*c,pts:i+r*1024*c}]};return d};var v=function(e){var t={pid:null,table:null};var r={};f(e,t);for(var i in t.table){if(t.table.hasOwnProperty(i)){var a=t.table[i];switch(a){case n.H264_STREAM_TYPE:r.video=[];d(e,t,r);if(r.video.length===0){delete r.video}break;case n.ADTS_STREAM_TYPE:r.audio=[];c(e,t,r);if(r.audio.length===0){delete r.audio}break;default:break}}}return r};var y=function(e,t){var r=l(e);var n;if(r){n=h(e)}else{n=v(e)}if(!n||!n.audio&&!n.video){return null}p(n,t);return n};t.exports={inspect:y}},{"../aac/probe.js":38,"../m2ts/probe.js":51,"../m2ts/stream-types.js":52,"../m2ts/timestamp-rollover-stream.js":53}],59:[function(e,t,r){var n=9e4,i,a,o,s,u,l;i=function(e){return e*n};a=function(e,t){return e*t};o=function(e){return e/n};s=function(e,t){return e/t};u=function(e,t){return i(s(e,t))};l=function(e,t){return a(o(e),t)};t.exports={secondsToVideoTs:i,secondsToAudioTs:a,videoTsToSeconds:o,audioTsToSeconds:s,audioTsToVideoTs:u,videoTsToAudioTs:l}},{}],60:[function(e,t,r){"use strict";var n;n=function(e){var t=e.byteLength,r=0,n=0;this.length=function(){return 8*t};this.bitsAvailable=function(){return 8*t+n};this.loadWord=function(){var i=e.byteLength-t,a=new Uint8Array(4),o=Math.min(4,t);if(o===0){throw new Error("no bytes available")}a.set(e.subarray(i,i+o));r=new DataView(a.buffer).getUint32(0);n=o*8;t-=o};this.skipBits=function(e){var i;if(n>e){r<<=e;n-=e}else{e-=n;i=Math.floor(e/8);e-=i*8;t-=i;this.loadWord();r<<=e;n-=e}};this.readBits=function(e){var i=Math.min(n,e),a=r>>>32-i;n-=i;if(n>0){r<<=i}else if(t>0){this.loadWord()}i=e-i;if(i>0){return a<<i|this.readBits(i)}return a};this.skipLeadingZeros=function(){var e;for(e=0;e<n;++e){if((r&2147483648>>>e)!==0){r<<=e;n-=e;return e}}this.loadWord();return e+this.skipLeadingZeros()};this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1};this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();if(1&e){return 1+e>>>1}return-1*(e>>>1)};this.readBoolean=function(){return this.readBits(1)===1};this.readUnsignedByte=function(){return this.readBits(8)};this.loadWord()};t.exports=n},{}],61:[function(e,t,r){"use strict";var n=function(){this.init=function(){var e={};this.on=function(t,r){if(!e[t]){e[t]=[]}e[t]=e[t].concat(r)};this.off=function(t,r){var n;if(!e[t]){return false}n=e[t].indexOf(r);e[t]=e[t].slice();e[t].splice(n,1);return n>-1};this.trigger=function(t){var r,n,i,a;r=e[t];if(!r){return}if(arguments.length===2){i=r.length;for(n=0;n<i;++n){r[n].call(this,arguments[1])}}else{a=[];n=arguments.length;for(n=1;n<arguments.length;++n){a.push(arguments[n])}i=r.length;for(n=0;n<i;++n){r[n].apply(this,a)}}};this.dispose=function(){e={}}}};n.prototype.pipe=function(e){this.on("data",function(t){e.push(t)});this.on("done",function(t){e.flush(t)});return e};n.prototype.push=function(e){this.trigger("data",e)};n.prototype.flush=function(e){this.trigger("done",e)};t.exports=n},{}],62:[function(t,r,n){(function(t){var i={buildAbsoluteURL:function(e,t){t=t.trim();if(/^[a-z]+:/i.test(t)){return t}var r=null;var n=null;var a=/^([^#]*)(.*)$/.exec(t);if(a){n=a[2];t=a[1]}var o=/^([^\?]*)(.*)$/.exec(t);if(o){r=o[2];t=o[1]}var s=/^([^#]*)(.*)$/.exec(e);if(s){e=s[1]}var u=/^([^\?]*)(.*)$/.exec(e);if(u){e=u[1]}var l=/^(([a-z]+:)?\/\/[^:\/]+(:[0-9]+)?)?(\/?.*)$/i.exec(e);if(!l){throw new Error("Error trying to parse base URL.")}var f=l[2]||"";var c=l[1]||"";var d=l[4];if(d.indexOf("/")!==0&&c!==""){d="/"+d}var p=null;if(/^\/\//.test(t)){p=f+"//"+i.buildAbsolutePath("",t.substring(2))}else if(/^\//.test(t)){p=c+"/"+i.buildAbsolutePath("",t.substring(1))}else{p=i.buildAbsolutePath(c+d,t)}if(r){p+=r}if(n){p+=n}return p},buildAbsolutePath:function(e,t){var r=t;var n,i="",a=e.replace(/[^\/]*$/,r.replace(/(\/|^)(?:\.?\/+)+/g,"$1"));for(var o,s=0;o=a.indexOf("/../",s),o>-1;s=o+n){n=/^\/(?:\.\.\/)*/.exec(a.slice(o))[0].length;i=(i+a.substring(s,o)).replace(new RegExp("(?:\\/+[^\\/]*){0,"+(n-1)/3+"}$"),"/")}return i+a.substr(s)}};if(typeof n==="object"&&typeof r==="object")r.exports=i;else if(typeof e==="function"&&e.amd)e([],function(){return i});else if(typeof n==="object")n["URLToolkit"]=i;else t["URLToolkit"]=i})(this)},{}],63:[function(e,r,n){(function(i){"use strict";Object.defineProperty(n,"__esModule",{value:true});function a(e){return e&&e.__esModule?e:{default:e}}var o=e("global/window");var s=a(o);var u=typeof window!=="undefined"?t:typeof i!=="undefined"?i["videojs"]:null;var l=a(u);var f=function e(t){Object.defineProperties(t.frame,{id:{get:function e(){l["default"].log.warn("cue.frame.id is deprecated. Use cue.value.key instead.");return t.value.key}},value:{get:function e(){l["default"].log.warn("cue.frame.value is deprecated. Use cue.value.data instead.");return t.value.data}},privateData:{get:function e(){l["default"].log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead.");return t.value.data}}})};var c=function e(t){var r=undefined;if(isNaN(t)||Math.abs(t)===Infinity){r=Number.MAX_VALUE}else{r=t}return r};var d=function e(t,r,n){var i=s["default"].WebKitDataCue||s["default"].VTTCue;if(r){r.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new i(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},t)}if(n){(function(){var e=c(t.mediaSource_.duration);n.forEach(function(e){var t=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var r=new i(t,t,e.value||e.url||e.data||"");r.frame=e;r.value=e;f(r);this.metadataTrack_.addCue(r)},this)},t);if(t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length){(function(){var r=t.metadataTrack_.cues;var n=[];for(var i=0;i<r.length;i++){if(r[i]){n.push(r[i])}}var a=n.reduce(function(e,t){var r=e[t.startTime]||[];r.push(t);e[t.startTime]=r;return e},{});var o=Object.keys(a).sort(function(e,t){return Number(e)-Number(t)});o.forEach(function(t,r){var n=a[t];var i=Number(o[r+1])||e;n.forEach(function(e){e.endTime=i})})})()}})()}};n["default"]={addTextTrackData:d,durationOfVideo:c};r.exports=n["default"]}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"global/window":31}],64:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=function e(t,r,n){var i=t.remoteTextTracks()||[];for(var a=0;a<i.length;a++){var o=i[a];if(o.kind===r&&o.label===n){t.removeRemoteTextTrack(o)}}};r.removeExistingTrack=n;var i=function e(t){var r=t.remoteTextTracks()||[];for(var i=r.length-1;i>=0;i--){var a=r[i];if(a.kind==="captions"){t.removeRemoteTextTrack(a)}}n(t,"metadata","Timed Metadata")};r.cleanupTextTracks=i},{}],65:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=function e(t){return/mp4a\.\d+.\d+/i.test(t)};var i=function e(t){return/avc1\.[\da-f]+/i.test(t)};var a=function e(t){var r={type:"",parameters:{}};var n=t.trim().split(";");r.type=n.shift().trim();n.forEach(function(e){var t=e.trim().split("=");if(t.length>1){var n=t[0].replace(/"/g,"").trim();var i=t[1].replace(/"/g,"").trim();r.parameters[n]=i}});return r};var o=function e(t){return t.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,r){var n=("00"+Number(t).toString(16)).slice(-2);var i=("00"+Number(r).toString(16)).slice(-2);return"avc1."+n+"00"+i})})};r["default"]={isAudioCodec:n,parseContentType:a,isVideoCodec:i,translateLegacyCodecs:o};t.exports=r["default"]},{}],66:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=e("./cleanup-text-tracks");var i=function e(t,r,i){var a=r.player_;if(i.captions&&i.captions.length){if(!t.inbandTextTracks_){t.inbandTextTracks_={}}for(var o in i.captionStreams){if(!t.inbandTextTracks_[o]){a.tech_.trigger({type:"usage",name:"hls-608"});var s=a.textTracks().getTrackById(o);if(s){t.inbandTextTracks_[o]=s}else{t.inbandTextTracks_[o]=a.addRemoteTextTrack({kind:"captions",id:o,label:o},false).track}}}}if(i.metadata&&i.metadata.length&&!t.metadataTrack_){(0,n.removeExistingTrack)(a,"metadata","Timed Metadata",true);t.metadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},false).track;t.metadataTrack_.inBandMetadataTrackDispatchType=i.metadata.dispatchType}};r["default"]=i;t.exports=r["default"]},{"./cleanup-text-tracks":64}],67:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:1024*32};r["default"]=n;t.exports=r["default"]},{}],68:[function(e,r,n){(function(i){"use strict";Object.defineProperty(n,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var o=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var f=e("global/document");var c=s(f);var d=typeof window!=="undefined"?t:typeof i!=="undefined"?i["videojs"]:null;var p=s(d);var h=e("./flash-source-buffer");var v=s(h);var y=e("./flash-constants");var g=s(y);var m=e("./codec-utils");var _=e("./cleanup-text-tracks");var b=function(e){l(t,e);function t(){var e=this;u(this,t);o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.sourceBuffers=[];this.readyState="closed";this.on(["sourceopen","webkitsourceopen"],function(t){e.swfObj=c["default"].getElementById(t.swfId);e.player_=(0,p["default"])(e.swfObj.parentNode);e.tech_=e.swfObj.tech;e.readyState="open";e.tech_.on("seeking",function(){var t=e.sourceBuffers.length;while(t--){e.sourceBuffers[t].abort()}});if(e.tech_.hls){e.tech_.hls.on("dispose",function(){(0,_.cleanupTextTracks)(e.player_)})}if(e.swfObj){e.swfObj.vjs_load()}})}a(t,[{key:"addSeekableRange_",value:function e(){}},{key:"addSourceBuffer",value:function e(t){var r=(0,m.parseContentType)(t);var n=undefined;if(r.type==="video/mp2t"||r.type==="audio/mp2t"){n=new v["default"](this)}else{throw new Error("NotSupportedError (Video.js)")}this.sourceBuffers.push(n);return n}},{key:"endOfStream",value:function e(t){if(t==="network"){this.tech_.error(2)}else if(t==="decode"){this.tech_.error(3)}if(this.readyState!=="ended"){this.readyState="ended";this.swfObj.vjs_endOfStream()}}}]);return t}(p["default"].EventTarget);n["default"]=b;try{Object.defineProperty(b.prototype,"duration",{get:function e(){if(!this.swfObj){return NaN}return this.swfObj.vjs_getProperty("duration")},set:function e(t){var r=undefined;var n=this.swfObj.vjs_getProperty("duration");this.swfObj.vjs_setProperty("duration",t);if(t<n){for(r=0;r<this.sourceBuffers.length;r++){this.sourceBuffers[r].remove(t,n)}}return t}})}catch(e){b.prototype.duration=NaN}for(var T in g["default"]){b[T]=g["default"][T]}r.exports=n["default"]}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./cleanup-text-tracks":64,"./codec-utils":65,"./flash-constants":67,"./flash-source-buffer":69,"global/document":30}],69:[function(e,r,n){(function(i){"use strict";Object.defineProperty(n,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var o=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var f=e("global/window");var c=s(f);var d=typeof window!=="undefined"?t:typeof i!=="undefined"?i["videojs"]:null;var p=s(d);var h=e("mux.js/lib/flv");var v=s(h);var y=e("./remove-cues-from-track");var g=s(y);var m=e("./create-text-tracks-if-necessary");var _=s(m);var b=e("./add-text-track-data");var T=e("./flash-transmuxer-worker");var E=s(T);var w=e("webworkify");var S=s(w);var C=e("./flash-constants");var O=s(C);var k=function e(t){c["default"].setTimeout(t,O["default"].TIME_BETWEEN_CHUNKS)};var P=function e(){return Math.random().toString(36).slice(2,8)};var x=function e(t,r){if(typeof r!=="number"||r<0){r=0}var n=Math.pow(10,r);return Math.round(t*n)/n};var A=function(e){l(t,e);function t(e){var r=this;u(this,t);o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var n=undefined;this.chunkSize_=O["default"].BYTES_PER_CHUNK;this.buffer_=[];this.bufferSize_=0;this.basePtsOffset_=NaN;this.mediaSource_=e;this.audioBufferEnd_=NaN;this.videoBufferEnd_=NaN;this.updating=false;this.timestampOffset_=0;n=c["default"].btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(v["default"].getFlvHeader())));var i=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+i+P();this.flashEncodedDataName_="vjs_flashEncodedData_"+i+P();c["default"][this.flashEncodedHeaderName_]=function(){delete c["default"][r.flashEncodedHeaderName_];return n};this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_);this.transmuxer_=(0,S["default"])(E["default"]);this.transmuxer_.postMessage({action:"init",options:{}});this.transmuxer_.onmessage=function(e){if(e.data.action==="data"){r.receiveBuffer_(e.data.segment)}};this.one("updateend",function(){r.mediaSource_.tech_.trigger("loadedmetadata")});Object.defineProperty(this,"timestampOffset",{get:function e(){return this.timestampOffset_},set:function e(t){if(typeof t==="number"&&t>=0){this.timestampOffset_=t;this.mediaSource_.swfObj.vjs_discontinuity();this.basePtsOffset_=NaN;this.audioBufferEnd_=NaN;this.videoBufferEnd_=NaN;this.transmuxer_.postMessage({action:"reset"})}}});Object.defineProperty(this,"buffered",{get:function e(){if(!this.mediaSource_||!this.mediaSource_.swfObj||!("vjs_getProperty"in this.mediaSource_.swfObj)){return p["default"].createTimeRange()}var t=this.mediaSource_.swfObj.vjs_getProperty("buffered");if(t&&t.length){t[0][0]=x(t[0][0],3);t[0][1]=x(t[0][1],3)}return p["default"].createTimeRanges(t)}});this.mediaSource_.player_.on("seeked",function(){(0,g["default"])(0,Infinity,r.metadataTrack_);if(r.inbandTextTracks_){for(var e in r.inbandTextTracks_){(0,g["default"])(0,Infinity,r.inbandTextTracks_[e])}}});var a=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",a);this.mediaSource_.player_.tech_.hls.on("dispose",function(){r.transmuxer_.terminate();r.mediaSource_.player_.tech_.off("hls-reset",a)})}a(t,[{key:"appendBuffer",value:function e(t){var r=undefined;if(this.updating){r=new Error("SourceBuffer.append() cannot be called "+"while an update is in progress");r.name="InvalidStateError";r.code=11;throw r}this.updating=true;this.mediaSource_.readyState="open";this.trigger({type:"update"});this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]);this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function e(){this.buffer_=[];this.bufferSize_=0;this.mediaSource_.swfObj.vjs_abort();if(this.updating){this.updating=false;this.trigger({type:"updateend"})}}},{key:"remove",value:function e(t,r){(0,g["default"])(t,r,this.metadataTrack_);if(this.inbandTextTracks_){for(var n in this.inbandTextTracks_){(0,g["default"])(t,r,this.inbandTextTracks_[n])}}this.trigger({type:"update"});this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function e(t){var r=this;(0,_["default"])(this,this.mediaSource_,t);(0,b.addTextTrackData)(this,t.captions,t.metadata);k(function(){var e=r.convertTagsToData_(t);if(r.buffer_.length===0){k(r.processBuffer_.bind(r))}if(e){r.buffer_.push(e);r.bufferSize_+=e.byteLength}})}},{key:"processBuffer_",value:function e(){var t=this;var r=O["default"].BYTES_PER_CHUNK;if(!this.buffer_.length){if(this.updating!==false){this.updating=false;this.trigger({type:"updateend"})}return}var n=this.buffer_[0].subarray(0,r);if(n.byteLength<r||this.buffer_[0].byteLength===r){this.buffer_.shift()}else{this.buffer_[0]=this.buffer_[0].subarray(r)}this.bufferSize_-=n.byteLength;var i=[];var a=n.byteLength;for(var o=0;o<a;o++){i.push(String.fromCharCode(n[o]))}var s=c["default"].btoa(i.join(""));c["default"][this.flashEncodedDataName_]=function(){k(t.processBuffer_.bind(t));delete c["default"][t.flashEncodedDataName_];return s};this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}},{key:"convertTagsToData_",value:function e(t){var r=0;var n=this.mediaSource_.tech_;var i=0;var a=undefined;var o=t.tags.videoTags;var s=t.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(o.length||s.length)){var u=o[0]||{pts:Infinity};var l=s[0]||{pts:Infinity};this.basePtsOffset_=Math.min(l.pts,u.pts)}if(n.seeking()){this.videoBufferEnd_=NaN;this.audioBufferEnd_=NaN}if(isNaN(this.videoBufferEnd_)){if(n.buffered().length){i=n.buffered().end(0)-this.timestampOffset}if(n.seeking()){i=Math.max(i,n.currentTime()-this.timestampOffset)}i*=1e3;i+=this.basePtsOffset_}else{i=this.videoBufferEnd_+.1}var f=o.length;if(f&&o[f-1].pts>=i){while(--f){var c=o[f];if(c.pts>i){continue}if(c.keyFrame||c.metaDataTag){break}}while(f){var d=o[f-1];if(!d.metaDataTag){break}f--}}var p=o.slice(f);var h=undefined;if(isNaN(this.audioBufferEnd_)){h=i}else{h=this.audioBufferEnd_+.1}if(p.length){h=Math.min(h,p[0].pts)}f=0;while(f<s.length){if(s[f].pts>=h){break}f++}var v=s.slice(f);if(v.length){this.audioBufferEnd_=v[v.length-1].pts}if(p.length){this.videoBufferEnd_=p[p.length-1].pts}var y=this.getOrderedTags_(p,v);if(y.length===0){return}if(y[0].pts<i&&n.seeking()){var g=1/30;var m=n.currentTime();var _=(i-y[0].pts)/1e3;var b=m-_;if(b<g){b=0}try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(b)}catch(e){}}for(var T=0;T<y.length;T++){r+=y[T].bytes.byteLength}a=new Uint8Array(r);for(var T=0,E=0;T<y.length;T++){a.set(y[T].bytes,E);E+=y[T].bytes.byteLength}return a}},{key:"getOrderedTags_",value:function e(t,r){var n=undefined;var i=[];while(t.length||r.length){if(!t.length){n=r.shift()}else if(!r.length){n=t.shift()}else if(r[0].dts<t[0].dts){n=r.shift()}else{n=t.shift()}i.push(n)}return i}},{key:"onHlsReset_",value:function e(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]);return t}(p["default"].EventTarget);n["default"]=A;r.exports=n["default"]}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./add-text-track-data":63,"./create-text-tracks-if-necessary":66,"./flash-constants":67,"./flash-transmuxer-worker":70,"./remove-cues-from-track":72,"global/window":31,"mux.js/lib/flv":45,webworkify:76}],70:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=e("global/window");var s=i(o);var u=e("mux.js/lib/flv");var l=i(u);var f=function e(t){t.on("data",function(e){s["default"].postMessage({action:"data",segment:e})});t.on("done",function(e){s["default"].postMessage({action:"done"})})};var c=function(){function e(t){a(this,e);this.options=t||{};this.init()}n(e,[{key:"init",value:function e(){if(this.transmuxer){this.transmuxer.dispose()}this.transmuxer=new l["default"].Transmuxer(this.options);f(this.transmuxer)}},{key:"push",value:function e(t){var r=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(r)}},{key:"reset",value:function e(){this.init()}},{key:"flush",value:function e(){this.transmuxer.flush()}},{key:"resetCaptions",value:function e(){this.transmuxer.resetCaptions()}}]);return e}();var d=function e(t){t.onmessage=function(e){if(e.data.action==="init"&&e.data.options){this.messageHandlers=new c(e.data.options);return}if(!this.messageHandlers){this.messageHandlers=new c}if(e.data&&e.data.action&&e.data.action!=="init"){if(this.messageHandlers[e.data.action]){this.messageHandlers[e.data.action](e.data)}}}};r["default"]=function(e){return new d(e)};t.exports=r["default"]},{"global/window":31,"mux.js/lib/flv":45}],71:[function(e,r,n){(function(i){"use strict";Object.defineProperty(n,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var o=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var f=e("global/window");var c=s(f);var d=e("global/document");var p=s(d);var h=typeof window!=="undefined"?t:typeof i!=="undefined"?i["videojs"]:null;var v=s(h);var y=e("./virtual-source-buffer");var g=s(y);var m=e("./add-text-track-data");var _=e("./codec-utils");var b=e("./cleanup-text-tracks");var T=function(e){l(t,e);function t(){var e=this;u(this,t);o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var r=undefined;this.nativeMediaSource_=new c["default"].MediaSource;for(r in this.nativeMediaSource_){if(!(r in t.prototype)&&typeof this.nativeMediaSource_[r]==="function"){this[r]=this.nativeMediaSource_[r].bind(this.nativeMediaSource_)}}this.duration_=NaN;Object.defineProperty(this,"duration",{get:function e(){if(this.duration_===Infinity){return this.duration_}return this.nativeMediaSource_.duration},set:function e(t){this.duration_=t;if(t!==Infinity){this.nativeMediaSource_.duration=t;return}}});Object.defineProperty(this,"seekable",{get:function e(){if(this.duration_===Infinity){return v["default"].createTimeRanges([[0,this.nativeMediaSource_.duration]])}return this.nativeMediaSource_.seekable}});Object.defineProperty(this,"readyState",{get:function e(){return this.nativeMediaSource_.readyState}});Object.defineProperty(this,"activeSourceBuffers",{get:function e(){return this.activeSourceBuffers_}});this.sourceBuffers=[];this.activeSourceBuffers_=[];this.updateActiveSourceBuffers_=function(){e.activeSourceBuffers_.length=0;if(e.sourceBuffers.length===1){var t=e.sourceBuffers[0];t.appendAudioInitSegment_=true;t.audioDisabled_=!t.audioCodec_;e.activeSourceBuffers_.push(t);return}var r=false;var n=true;for(var i=0;i<e.player_.audioTracks().length;i++){var a=e.player_.audioTracks()[i];if(a.enabled&&a.kind!=="main"){r=true;n=false;break}}e.sourceBuffers.forEach(function(t){t.appendAudioInitSegment_=true;if(t.videoCodec_&&t.audioCodec_){t.audioDisabled_=r}else if(t.videoCodec_&&!t.audioCodec_){t.audioDisabled_=true;n=false}else if(!t.videoCodec_&&t.audioCodec_){t.audioDisabled_=n;if(n){return}}e.activeSourceBuffers_.push(t)})};this.onPlayerMediachange_=function(){e.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=true})};this.onHlsReset_=function(){e.sourceBuffers.forEach(function(e){if(e.transmuxer_){e.transmuxer_.postMessage({action:"resetCaptions"})}})};["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},this);this.on("sourceopen",function(t){var r=p["default"].querySelector('[src="'+e.url_+'"]');if(!r){return}e.player_=(0,v["default"])(r.parentNode);e.player_.tech_.on("hls-reset",e.onHlsReset_);if(e.player_.audioTracks&&e.player_.audioTracks()){e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_);e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_);e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)}e.player_.on("mediachange",e.onPlayerMediachange_)});this.on("sourceended",function(t){var r=(0,m.durationOfVideo)(e.duration);for(var n=0;n<e.sourceBuffers.length;n++){var i=e.sourceBuffers[n];var a=i.metadataTrack_&&i.metadataTrack_.cues;if(a&&a.length){a[a.length-1].endTime=r}}});this.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){if(e.transmuxer_){e.transmuxer_.terminate()}});this.sourceBuffers.length=0;if(!this.player_){return}(0,b.cleanupTextTracks)(this.player_);if(this.player_.audioTracks&&this.player_.audioTracks()){this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_);this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_);this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)}if(this.player_.el_){this.player_.off("mediachange",this.onPlayerMediachange_);this.player_.tech_.off("hls-reset",this.onHlsReset_)}})}a(t,[{key:"addSeekableRange_",value:function e(t,r){var n=undefined;if(this.duration!==Infinity){n=new Error("MediaSource.addSeekableRange() can only be invoked "+"when the duration is Infinity");n.name="InvalidStateError";n.code=11;throw n}if(r>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration)){this.nativeMediaSource_.duration=r}}},{key:"addSourceBuffer",value:function e(t){var r=undefined;var n=(0,_.parseContentType)(t);if(/^(video|audio)\/mp2t$/i.test(n.type)){var i=[];if(n.parameters&&n.parameters.codecs){i=n.parameters.codecs.split(",");i=(0,_.translateLegacyCodecs)(i);i=i.filter(function(e){return(0,_.isAudioCodec)(e)||(0,_.isVideoCodec)(e)})}if(i.length===0){i=["avc1.4d400d","mp4a.40.2"]}r=new g["default"](this,i);if(this.sourceBuffers.length!==0){this.sourceBuffers[0].createRealSourceBuffers_();r.createRealSourceBuffers_();this.sourceBuffers[0].audioDisabled_=true}}else{r=this.nativeMediaSource_.addSourceBuffer(t)}this.sourceBuffers.push(r);return r}}]);return t}(v["default"].EventTarget);n["default"]=T;r.exports=n["default"]}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./add-text-track-data":63,"./cleanup-text-tracks":64,"./codec-utils":65,"./virtual-source-buffer":75,"global/document":30,"global/window":31}],72:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=function e(t,r,n){var i=undefined;var a=undefined;if(!n){return}if(!n.cues){return}i=n.cues.length;while(i--){a=n.cues[i];if(a.startTime<=r&&a.endTime>=t){n.removeCue(a)}}};r["default"]=n;t.exports=r["default"]},{}],73:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=e("global/window");var s=i(o);var u=e("mux.js/lib/mp4");var l=i(u);var f=function e(t){t.on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var r=e.data;e.data=r.buffer;s["default"].postMessage({action:"data",segment:e,byteOffset:r.byteOffset,byteLength:r.byteLength},[e.data])});if(t.captionStream){t.captionStream.on("data",function(e){s["default"].postMessage({action:"caption",data:e})})}t.on("done",function(e){s["default"].postMessage({action:"done"})})};var c=function(){function e(t){a(this,e);this.options=t||{};this.init()}n(e,[{key:"init",value:function e(){if(this.transmuxer){this.transmuxer.dispose()}this.transmuxer=new l["default"].Transmuxer(this.options);f(this.transmuxer)}},{key:"push",value:function e(t){var r=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(r)}},{key:"reset",value:function e(){this.init()}},{key:"setTimestampOffset",value:function e(t){var r=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(r*9e4))}},{key:"setAudioAppendStart",value:function e(t){this.transmuxer.setAudioAppendStart(Math.ceil(t.appendStart*9e4))}},{key:"flush",value:function e(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function e(){this.transmuxer.resetCaptions()}}]);return e}();var d=function e(t){t.onmessage=function(e){if(e.data.action==="init"&&e.data.options){this.messageHandlers=new c(e.data.options);return}if(!this.messageHandlers){this.messageHandlers=new c}if(e.data&&e.data.action&&e.data.action!=="init"){if(this.messageHandlers[e.data.action]){this.messageHandlers[e.data.action](e.data)}}}};r["default"]=function(e){return new d(e)};t.exports=r["default"]},{"global/window":31,"mux.js/lib/mp4":54}],74:[function(e,r,n){(function(r){"use strict";Object.defineProperty(n,"__esModule",{value:true});function i(e){return e&&e.__esModule?e:{default:e}}var a=e("global/window");var o=i(a);var s=e("./flash-media-source");var u=i(s);var l=e("./html-media-source");var f=i(l);var c=typeof window!=="undefined"?t:typeof r!=="undefined"?r["videojs"]:null;var d=i(c);var p=0;var h={mode:"auto"};d["default"].mediaSources={};var v=function e(t,r){var n=d["default"].mediaSources[t];if(n){n.trigger({type:"sourceopen",swfId:r})}else{throw new Error("Media Source not found (Video.js)")}};var y=function e(){return!!o["default"].MediaSource&&!!o["default"].MediaSource.isTypeSupported&&o["default"].MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')};var g=function e(t){var r=d["default"].mergeOptions(h,t);this.MediaSource={open:v,supportsNativeMediaSources:y};if(r.mode==="html5"||r.mode==="auto"&&y()){return new f["default"]}else if(d["default"].getTech("Flash")){return new u["default"]}throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};n.MediaSource=g;g.open=v;g.supportsNativeMediaSources=y;var m={createObjectURL:function e(t){var r="blob:vjs-media-source/";var n=undefined;if(t instanceof f["default"]){n=o["default"].URL.createObjectURL(t.nativeMediaSource_);t.url_=n;return n}if(!(t instanceof u["default"])){n=o["default"].URL.createObjectURL(t);t.url_=n;return n}n=r+p;p++;d["default"].mediaSources[n]=t;return n}};n.URL=m;d["default"].MediaSource=g;d["default"].URL=m}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./flash-media-source":68,"./html-media-source":71,"global/window":31}],75:[function(e,r,n){(function(i){"use strict";Object.defineProperty(n,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var o=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var f=typeof window!=="undefined"?t:typeof i!=="undefined"?i["videojs"]:null;var c=s(f);var d=e("./create-text-tracks-if-necessary");var p=s(d);var h=e("./remove-cues-from-track");var v=s(h);var y=e("./add-text-track-data");var g=e("webworkify");var m=s(g);var _=e("./transmuxer-worker");var b=s(_);var T=e("./codec-utils");var E=function e(t,r){var n=t.addSourceBuffer(r);var i=Object.create(null);i.updating=false;i.realBuffer_=n;var a=function(e){if(typeof n[e]==="function"){i[e]=function(){return n[e].apply(n,arguments)}}else if(typeof i[e]==="undefined"){Object.defineProperty(i,e,{get:function t(){return n[e]},set:function t(r){return n[e]=r}})}};for(var o in n){a(o)}return i};var w=function(e){l(t,e);function t(e,r){var n=this;u(this,t);o(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,c["default"].EventTarget);this.timestampOffset_=0;this.pendingBuffers_=[];this.bufferUpdating_=false;this.mediaSource_=e;this.codecs_=r;this.audioCodec_=null;this.videoCodec_=null;this.audioDisabled_=false;this.appendAudioInitSegment_=true;var i={remux:false};this.codecs_.forEach(function(e){if((0,T.isAudioCodec)(e)){n.audioCodec_=e}else if((0,T.isVideoCodec)(e)){n.videoCodec_=e}});this.transmuxer_=(0,m["default"])(b["default"]);this.transmuxer_.postMessage({action:"init",options:i});this.transmuxer_.onmessage=function(e){if(e.data.action==="data"){return n.data_(e)}if(e.data.action==="done"){return n.done_(e)}};Object.defineProperty(this,"timestampOffset",{get:function e(){return this.timestampOffset_},set:function e(t){if(typeof t==="number"&&t>=0){this.timestampOffset_=t;this.appendAudioInitSegment_=true;this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t})}}});Object.defineProperty(this,"appendWindowStart",{get:function e(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function e(t){if(this.videoBuffer_){this.videoBuffer_.appendWindowStart=t}if(this.audioBuffer_){this.audioBuffer_.appendWindowStart=t}}});Object.defineProperty(this,"updating",{get:function e(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}});Object.defineProperty(this,"buffered",{get:function e(){var t=null;var r=null;var n=0;var i=[];var a=[];if(!this.videoBuffer_&&!this.audioBuffer_){return c["default"].createTimeRange()}if(!this.videoBuffer_){return this.audioBuffer_.buffered}if(!this.audioBuffer_){return this.videoBuffer_.buffered}if(this.audioDisabled_){return this.videoBuffer_.buffered}if(this.videoBuffer_.buffered.length===0&&this.audioBuffer_.buffered.length===0){return c["default"].createTimeRange()}var o=this.videoBuffer_.buffered;var s=this.audioBuffer_.buffered;var u=o.length;while(u--){i.push({time:o.start(u),type:"start"});i.push({time:o.end(u),type:"end"})}u=s.length;while(u--){i.push({time:s.start(u),type:"start"});i.push({time:s.end(u),type:"end"})}i.sort(function(e,t){return e.time-t.time});for(u=0;u<i.length;u++){if(i[u].type==="start"){n++;if(n===2){t=i[u].time}}else if(i[u].type==="end"){n--;if(n===1){r=i[u].time}}if(t!==null&&r!==null){a.push([t,r]);t=null;r=null}}return c["default"].createTimeRanges(a)}})}a(t,[{key:"data_",value:function e(t){var r=t.data.segment;r.data=new Uint8Array(r.data,t.data.byteOffset,t.data.byteLength);r.initSegment=new Uint8Array(r.initSegment.data,r.initSegment.byteOffset,r.initSegment.byteLength);(0,p["default"])(this,this.mediaSource_,r);this.pendingBuffers_.push(r);return}},{key:"done_",value:function e(t){if(this.mediaSource_.readyState==="closed"){this.pendingBuffers_.length=0;return}this.processPendingSegments_();return}},{key:"createRealSourceBuffers_",value:function e(){var t=this;var r=["audio","video"];r.forEach(function(e){if(!t[e+"Codec_"]){return}if(t[e+"Buffer_"]){return}var n=null;if(t.mediaSource_[e+"Buffer_"]){n=t.mediaSource_[e+"Buffer_"];n.updating=false}else{var i=e+"Codec_";var a=e+'/mp4;codecs="'+t[i]+'"';n=E(t.mediaSource_.nativeMediaSource_,a);t.mediaSource_[e+"Buffer_"]=n}t[e+"Buffer_"]=n;["update","updatestart","updateend"].forEach(function(i){n.addEventListener(i,function(){if(e==="audio"&&t.audioDisabled_){return}if(i==="updateend"){t[e+"Buffer_"].updating=false}var n=r.every(function(r){if(r==="audio"&&t.audioDisabled_){return true}if(e!==r&&t[r+"Buffer_"]&&t[r+"Buffer_"].updating){return false}return true});if(n){return t.trigger(i)}})})})}},{key:"appendBuffer",value:function e(t){this.bufferUpdating_=true;if(this.audioBuffer_&&this.audioBuffer_.buffered.length){var r=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:r.end(r.length-1)})}this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]);this.transmuxer_.postMessage({action:"flush"})}},{key:"remove",value:function e(t,r){if(this.videoBuffer_){this.videoBuffer_.updating=true;this.videoBuffer_.remove(t,r)}if(!this.audioDisabled_&&this.audioBuffer_){this.audioBuffer_.updating=true;this.audioBuffer_.remove(t,r)}(0,v["default"])(t,r,this.metadataTrack_);if(this.inbandTextTracks_){for(var n in this.inbandTextTracks_){(0,v["default"])(t,r,this.inbandTextTracks_[n])}}}},{key:"processPendingSegments_",value:function e(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};t=this.pendingBuffers_.reduce(function(e,t){var r=t.type;var n=t.data;var i=t.initSegment;e[r].segments.push(n);e[r].bytes+=n.byteLength;e[r].initSegment=i;if(t.captions){e.captions=e.captions.concat(t.captions)}if(t.info){e[r].info=t.info}if(t.metadata){e.metadata=e.metadata.concat(t.metadata)}return e},t);if(!this.videoBuffer_&&!this.audioBuffer_){if(t.video.bytes===0){this.videoCodec_=null}if(t.audio.bytes===0){this.audioCodec_=null}this.createRealSourceBuffers_()}if(t.audio.info){this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info})}if(t.video.info){this.mediaSource_.trigger({type:"videoinfo",info:t.video.info})}if(this.appendAudioInitSegment_){if(!this.audioDisabled_&&this.audioBuffer_){t.audio.segments.unshift(t.audio.initSegment);t.audio.bytes+=t.audio.initSegment.byteLength}this.appendAudioInitSegment_=false}if(this.videoBuffer_){t.video.segments.unshift(t.video.initSegment);t.video.bytes+=t.video.initSegment.byteLength;this.concatAndAppendSegments_(t.video,this.videoBuffer_);(0,y.addTextTrackData)(this,t.captions,t.metadata)}if(!this.audioDisabled_&&this.audioBuffer_){this.concatAndAppendSegments_(t.audio,this.audioBuffer_)}this.pendingBuffers_.length=0;this.bufferUpdating_=false}},{key:"concatAndAppendSegments_",value:function e(t,r){var n=0;var i=undefined;if(t.bytes){i=new Uint8Array(t.bytes);t.segments.forEach(function(e){i.set(e,n);n+=e.byteLength});try{r.updating=true;r.appendBuffer(i)}catch(e){if(this.mediaSource_.player_){this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}}},{key:"abort",value:function e(){if(this.videoBuffer_){this.videoBuffer_.abort()}if(!this.audioDisabled_&&this.audioBuffer_){this.audioBuffer_.abort()}if(this.transmuxer_){this.transmuxer_.postMessage({action:"reset"})}this.pendingBuffers_.length=0;this.bufferUpdating_=false}}]);return t}(c["default"].EventTarget);n["default"]=w;r.exports=n["default"]}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./add-text-track-data":63,"./codec-utils":65,"./create-text-tracks-if-necessary":66,"./remove-cues-from-track":72,"./transmuxer-worker":73,webworkify:76}],76:[function(e,t,r){var n=arguments[3];var i=arguments[4];var a=arguments[5];var o=JSON.stringify;t.exports=function(e){var t=[];var r;var s=Object.keys(a);for(var u=0,l=s.length;u<l;u++){var f=s[u];if(a[f].exports===e){r=f;break}}if(!r){r=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var c={};for(var u=0,l=s.length;u<l;u++){var f=s[u];c[f]=f}i[r]=[Function(["require","module","exports"],"("+e+")(self)"),c]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var p={};p[r]=r;i[d]=[Function(["require"],"require("+o(r)+")(self)"),p];var h="("+n+")({"+Object.keys(i).map(function(e){return o(e)+":["+i[e][0]+","+o(i[e][1])+"]"}).join(",")+"},{},["+o(d)+"])";var v=window.URL||window.webkitURL||window.mozURL||window.msURL;return new Worker(v.createObjectURL(new Blob([h],{type:"text/javascript"})))}},{}],77:[function(e,r,n){(function(n){"use strict";var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var a=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=e("global/document");var f=o(l);var c=e("./playlist-loader");var d=o(c);var p=e("./playlist");var h=o(p);var v=e("./xhr");var y=o(v);var g=e("aes-decrypter");var m=e("./bin-utils");var _=o(m);var b=e("videojs-contrib-media-sources");var T=e("m3u8-parser");var E=o(T);var w=typeof window!=="undefined"?t:typeof n!=="undefined"?n["videojs"]:null;var S=o(w);var C=e("./master-playlist-controller");var O=e("./config");var k=o(O);var P=e("./rendition-mixin");var x=o(P);var A=e("global/window");var M=o(A);var I=e("./playback-watcher");var R=o(I);var D=e("./reload-source-on-error");var j=o(D);var L=e("./playlist-selectors.js");var N={PlaylistLoader:d["default"],Playlist:h["default"],Decrypter:g.Decrypter,AsyncStream:g.AsyncStream,decrypt:g.decrypt,utils:_["default"],STANDARD_PLAYLIST_SELECTOR:L.lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:L.lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:L.comparePlaylistBandwidth,comparePlaylistResolution:L.comparePlaylistResolution,xhr:(0,y["default"])()};var F=4194304;["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(N,e,{get:function t(){S["default"].log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing");return k["default"][e]},set:function t(r){S["default"].log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing");if(typeof r!=="number"||r<0){S["default"].log.warn("value of Hls."+e+" must be greater than or equal to 0");return}k["default"][e]=r}})});var B=function e(t,r){var n=r.media();var i=-1;for(var a=0;a<t.length;a++){if(t[a].id===n.uri){i=a;break}}t.selectedIndex_=i;t.trigger({selectedIndex:i,type:"change"})};var U=function e(t,r){r.representations().forEach(function(e){t.addQualityLevel(e)});B(t,r.playlists)};N.canPlaySource=function(){return S["default"].log.warn("HLS is no longer a tech. Please remove it from "+"your player's techOrder.")};N.supportsNativeHls=function(){var e=f["default"].createElement("video");if(!S["default"].getTech("Html5").isSupported()){return false}var t=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return t.some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}();N.isSupported=function(){return S["default"].log.warn("HLS is no longer a tech. Please remove it from "+"your player's techOrder.")};var H=M["default"].navigator&&M["default"].navigator.userAgent||"";N.supportsAudioInfoChange_=function(){if(S["default"].browser.IS_FIREFOX){var e=/Firefox\/([\d.]+)/i.exec(H);var t=parseInt(e[1],10);return t>=49}return true};var V=S["default"].getComponent("Component");var q=function(e){u(t,e);function t(e,r,n){var i=this;s(this,t);a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,r,n.hls);if(r.options_&&r.options_.playerId){var o=(0,S["default"])(r.options_.playerId);if(!o.hasOwnProperty("hls")){Object.defineProperty(o,"hls",{get:function e(){S["default"].log.warn("player.hls is deprecated. Use player.tech_.hls instead.");r.trigger({type:"usage",name:"hls-player-access"});return i}})}}this.tech_=r;this.source_=e;this.stats={};this.ignoreNextSeekingEvent_=false;this.setOptions_();if(this.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks)){throw new Error("Overriding native HLS requires emulated tracks. "+"See https://git.io/vMpjB")}this.on(f["default"],["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=f["default"].fullscreenElement||f["default"].webkitFullscreenElement||f["default"].mozFullScreenElement||f["default"].msFullscreenElement;if(t&&t.contains(i.tech_.el())){i.masterPlaylistController_.fastQualityChange_()}});this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=false;return}this.setCurrentTime(this.tech_.currentTime())});this.on(this.tech_,"error",function(){if(this.masterPlaylistController_){this.masterPlaylistController_.pauseLoading()}});this.audioTrackChange_=function(){i.masterPlaylistController_.setupAudio();i.tech_.trigger({type:"usage",name:"hls-audio-change"})};this.textTrackChange_=function(){i.masterPlaylistController_.setupSubtitles()};this.on(this.tech_,"play",this.play)}i(t,[{key:"setOptions_",value:function e(){var t=this;this.options_.withCredentials=this.options_.withCredentials||false;if(typeof this.options_.blacklistDuration!=="number"){this.options_.blacklistDuration=5*60}if(typeof this.options_.bandwidth!=="number"){this.options_.bandwidth=F}this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===F;["withCredentials","bandwidth"].forEach(function(e){if(typeof t.source_[e]!=="undefined"){t.options_[e]=t.source_[e]}});this.bandwidth=this.options_.bandwidth}},{key:"src",value:function e(t){var r=this;if(!t){return}this.setOptions_();this.options_.url=this.source_.src;this.options_.tech=this.tech_;this.options_.externHls=N;this.masterPlaylistController_=new C.MasterPlaylistController(this.options_);this.playbackWatcher_=new R["default"](S["default"].mergeOptions(this.options_,{seekable:function e(){return r.seekable()}}));this.masterPlaylistController_.on("error",function(){var e=S["default"].players[r.tech_.options_.playerId];e.error(r.masterPlaylistController_.error)});this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):N.STANDARD_PLAYLIST_SELECTOR.bind(this);this.masterPlaylistController_.selectInitialPlaylist=N.INITIAL_PLAYLIST_SELECTOR.bind(this);this.playlists=this.masterPlaylistController_.masterPlaylistLoader_;this.mediaSource=this.masterPlaylistController_.mediaSource;Object.defineProperties(this,{selectPlaylist:{get:function e(){return this.masterPlaylistController_.selectPlaylist},set:function e(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function e(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function e(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t;this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function e(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function e(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t;this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function e(){var t=1/(this.bandwidth||1);var r=undefined;if(this.throughput>0){r=1/this.throughput}else{r=0}var n=Math.floor(1/(t+r));return n},set:function e(){S["default"].log.error('The "systemBandwidth" property is read-only')}}});Object.defineProperties(this.stats,{bandwidth:{get:function e(){return r.bandwidth||0},enumerable:true},mediaRequests:{get:function e(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:true},mediaRequestsAborted:{get:function e(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:true},mediaRequestsTimedout:{get:function e(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:true},mediaRequestsErrored:{get:function e(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:true},mediaTransferDuration:{get:function e(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:true},mediaBytesTransferred:{get:function e(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:true},mediaSecondsLoaded:{get:function e(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:true}});this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_));this.masterPlaylistController_.on("sourceopen",function(){r.tech_.audioTracks().addEventListener("change",r.audioTrackChange_);r.tech_.remoteTextTracks().addEventListener("change",r.textTrackChange_)});this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,x["default"])(r)});this.masterPlaylistController_.on("audioupdate",function(){r.tech_.clearTracks("audio");r.masterPlaylistController_.activeAudioGroup().forEach(function(e){r.tech_.audioTracks().addTrack(e)})});this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")});this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=true});this.tech_.ready(function(){return r.setupQualityLevels_()});if(!this.tech_.el()){return}this.tech_.src(S["default"].URL.createObjectURL(this.masterPlaylistController_.mediaSource))}},{key:"setupQualityLevels_",value:function e(){var t=this;var r=S["default"].players[this.tech_.options_.playerId];if(r&&r.qualityLevels){this.qualityLevels_=r.qualityLevels();this.masterPlaylistController_.on("selectedinitialmedia",function(){U(t.qualityLevels_,t)});this.playlists.on("mediachange",function(){B(t.qualityLevels_,t.playlists)})}}},{key:"activeAudioGroup_",value:function e(){return this.masterPlaylistController_.activeAudioGroup()}},{key:"play",value:function e(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function e(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function e(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function e(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function e(){if(this.playbackWatcher_){this.playbackWatcher_.dispose()}if(this.masterPlaylistController_){this.masterPlaylistController_.dispose()}if(this.qualityLevels_){this.qualityLevels_.dispose()}this.tech_.audioTracks().removeEventListener("change",this.audioTrackChange_);this.tech_.remoteTextTracks().removeEventListener("change",this.textTrackChange_);a(Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}}]);return t}(V);var G=function e(t){return{canHandleSource:function r(n){var i=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var a=S["default"].mergeOptions(S["default"].options,i);if(a.hls&&a.hls.mode&&a.hls.mode!==t){return false}return e.canPlayType(n.type,a)},handleSource:function e(r,n){var i=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];var a=S["default"].mergeOptions(S["default"].options,i,{hls:{mode:t}});if(t==="flash"){n.setTimeout(function(){n.trigger("loadstart")},1)}n.hls=new q(r,n,a);n.hls.xhr=(0,y["default"])();n.hls.src(r.src);return n.hls},canPlayType:function t(r){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var i=S["default"].mergeOptions(S["default"].options,n);if(e.canPlayType(r,i)){return"maybe"}return""}}};G.canPlayType=function(e,t){if(S["default"].browser.IE_VERSION&&S["default"].browser.IE_VERSION<=10){return false}var r=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;if(!t.hls.overrideNative&&N.supportsNativeHls){return false}return r.test(e)};if(typeof S["default"].MediaSource==="undefined"||typeof S["default"].URL==="undefined"){S["default"].MediaSource=b.MediaSource;S["default"].URL=b.URL}var z=S["default"].getTech("Flash");if(b.MediaSource.supportsNativeMediaSources()){S["default"].getTech("Html5").registerSourceHandler(G("html5"),0)}if(M["default"].Uint8Array&&z){z.registerSourceHandler(G("flash"))}S["default"].HlsHandler=q;S["default"].HlsSourceHandler=G;S["default"].Hls=N;if(!S["default"].use){S["default"].registerComponent("Hls",N)}S["default"].m3u8=E["default"];S["default"].options.hls=S["default"].options.hls||{};if(S["default"].registerPlugin){S["default"].registerPlugin("reloadSourceOnError",j["default"])}else{S["default"].plugin("reloadSourceOnError",j["default"])}r.exports={Hls:N,HlsHandler:q,HlsSourceHandler:G}}).call(this,false?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./bin-utils":2,"./config":3,"./master-playlist-controller":5,"./playback-watcher":7,"./playlist":10,"./playlist-loader":8,"./playlist-selectors.js":9,"./reload-source-on-error":12,"./rendition-mixin":13,"./xhr":20,"aes-decrypter":24,"global/document":30,"global/window":31,"m3u8-parser":32,"videojs-contrib-media-sources":74}]},{},[77])(77)})}).call(t,r(327))},function(e,t,r){var n;(function(t){"use strict";function i(){}var a=i.prototype;var o=t.EventEmitter;function s(e,t){var r=e.length;while(r--){if(e[r].listener===t){return r}}return-1}function u(e){return function t(){return this[e].apply(this,arguments)}}a.getListeners=function e(t){var r=this._getEvents();var n;var i;if(t instanceof RegExp){n={};for(i in r){if(r.hasOwnProperty(i)&&t.test(i)){n[i]=r[i]}}}else{n=r[t]||(r[t]=[])}return n};a.flattenListeners=function e(t){var r=[];var n;for(n=0;n<t.length;n+=1){r.push(t[n].listener)}return r};a.getListenersAsObject=function e(t){var r=this.getListeners(t);var n;if(r instanceof Array){n={};n[t]=r}return n||r};function l(e){if(typeof e==="function"||e instanceof RegExp){return true}else if(e&&typeof e==="object"){return l(e.listener)}else{return false}}a.addListener=function e(t,r){if(!l(r)){throw new TypeError("listener must be a function")}var n=this.getListenersAsObject(t);var i=typeof r==="object";var a;for(a in n){if(n.hasOwnProperty(a)&&s(n[a],r)===-1){n[a].push(i?r:{listener:r,once:false})}}return this};a.on=u("addListener");a.addOnceListener=function e(t,r){return this.addListener(t,{listener:r,once:true})};a.once=u("addOnceListener");a.defineEvent=function e(t){this.getListeners(t);return this};a.defineEvents=function e(t){for(var r=0;r<t.length;r+=1){this.defineEvent(t[r])}return this};a.removeListener=function e(t,r){var n=this.getListenersAsObject(t);var i;var a;for(a in n){if(n.hasOwnProperty(a)){i=s(n[a],r);if(i!==-1){n[a].splice(i,1)}}}return this};a.off=u("removeListener");a.addListeners=function e(t,r){return this.manipulateListeners(false,t,r)};a.removeListeners=function e(t,r){return this.manipulateListeners(true,t,r)};a.manipulateListeners=function e(t,r,n){var i;var a;var o=t?this.removeListener:this.addListener;var s=t?this.removeListeners:this.addListeners;if(typeof r==="object"&&!(r instanceof RegExp)){for(i in r){if(r.hasOwnProperty(i)&&(a=r[i])){if(typeof a==="function"){o.call(this,i,a)}else{s.call(this,i,a)}}}}else{i=n.length;while(i--){o.call(this,r,n[i])}}return this};a.removeEvent=function e(t){var r=typeof t;var n=this._getEvents();var i;if(r==="string"){delete n[t]}else if(t instanceof RegExp){for(i in n){if(n.hasOwnProperty(i)&&t.test(i)){delete n[i]}}}else{delete this._events}return this};a.removeAllListeners=u("removeEvent");a.emitEvent=function e(t,r){var n=this.getListenersAsObject(t);var i;var a;var o;var s;var u;for(s in n){if(n.hasOwnProperty(s)){i=n[s].slice(0);for(o=0;o<i.length;o++){a=i[o];if(a.once===true){this.removeListener(t,a.listener)}u=a.listener.apply(this,r||[]);if(u===this._getOnceReturnValue()){this.removeListener(t,a.listener)}}}}return this};a.trigger=u("emitEvent");a.emit=function e(t){var r=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,r)};a.setOnceReturnValue=function e(t){this._onceReturnValue=t;return this};a._getOnceReturnValue=function e(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};a._getEvents=function e(){return this._events||(this._events={})};i.noConflict=function e(){t.EventEmitter=o;return i};if(true){!(n=function(){return i}.call(t,r,t,e),n!==undefined&&(e.exports=n))}else if(typeof e==="object"&&e.exports){e.exports=i}else{t.EventEmitter=i}})(this||{})},function(e,t){e.exports={name:"streaming-player.js",version:"0.0.20",description:"Napster-powered HLS streaming audio engine.",directories:{example:"example",test:"test",source:"src"},dependencies:{"lodash.clone":"^4.5.0","query-string":"^4.3.3","video.js":"^5.18.0","videojs-contrib-dash":"2.8.1","videojs-contrib-hls":"5.10.1","whatwg-fetch":"^2.0.3","wolfy87-eventemitter":"^5.1.0"},devDependencies:{ava:"^0.19.1","babel-core":"^6.24.1","babel-loader":"^6.4.1","babel-plugin-transform-runtime":"^6.23.0","babel-preset-env":"^1.3.2","babel-preset-es2015":"^6.24.1","browser-env":"^2.0.30",eslint:"^3.19.0","node-fetch":"^1.6.3","uglifyjs-webpack-plugin":"^0.4.1",webpack:"^2.3.3"},scripts:{lint:"./node_modules/eslint/bin/eslint.js src/**; exit 0",webpack:"./node_modules/webpack/bin/webpack.js","webpack-watch":"./node_modules/webpack/bin/webpack.js --watch",test:"./node_modules/ava/cli.js"},repository:{type:"git",url:"https://github.com/Rhapsody/streaming-player.git"},author:"Rhapsody International, Inc.",contributors:[{name:"Richard Luck",email:"rluck@napster.com"},{name:"Jason Kim",email:"jasonkim@napster.com"}],bugs:{url:"https://github.com/Rhapsody/streaming-player/issues"},homepage:"https://github.com/Rhapsody/streaming-player",license:"SEE LICENSE IN LICENSE",ava:{babel:"inherit",require:["babel-register","./test/helpers/setup-browser-env.js","./test/helpers/setup-local-storage.js","./test/helpers/setup-fetch.js","./test/helpers/setup-videojs.js"]}}},function(e,t,r){"use strict";var n=r(100);var i=R(n);var a=r(101);var o=R(a);var s=r(67);var u=R(s);r(161);r(160);var l=r(162);var f=R(l);var c=r(102);var d=R(c);var p=r(153);var h=R(p);var v=r(154);var y=R(v);var g=r(151);var m=R(g);var _=r(155);var b=R(_);var T=r(158);var E=R(T);var w=r(152);var S=R(w);var C=r(157);var O=R(C);var k=r(156);var P=R(k);var x=r(163);var A=R(x);var M=r(159);var I=R(M);function R(e){return e&&e.__esModule?e:{default:e}}var D=function e(t){if(!t){return this}var r=this;this.identity="streaming-player";this.events=new f.default;this.callbacks={};this.config=new S.default(t);this.session={id:null};this.stream={};this.track=new E.default;this.player=(0,u.default)(this.config.playerId);this.playbackControls=new b.default;this.playingDuration=0;this.setVolume(this.config.volume);this.enableLogging=t.enableLogging||false;this.logger=new h.default({enable:this.enableLogging});this.moniker=new y.default;this.client=new m.default({apikey:t.apikey,token:t.token,env:t.env});this.timer=new O.default;this.player.on("play",function(){r.logger.log("play started")});this.player.on("loadedmetadata",function(){r.timer.end();return r.timer.diff().then(function(e){var t={track:r.track,diff:e};r.callbackRunner("trackLoaded",t);return r.playStartEvent(r.track)})});this.player.on("pause",function(){r.logger.log("play paused")});this.player.on("ended",function(){var e=(0,I.default)(r.track);r.logger.log("play ended");r.callbackRunner("trackEnded");r.playStopEvent(e)});this.player.on("timeupdate",function(){return r.callbackRunner("trackProgress")});this.player.on("error",function(){var t=r.player.error();var n={error:{message:t.message,name:t.code},catchBlock:"videojs player",config:r.config,track:r.track,session:r.session,stream:r.streams,playerVersion:e.version};return r.callbackRunner("error",n)});this.client.playbackSessionPrepare().then(function(e){if(!e.session||!e.session.id){throw new Error("No session data.")}r.session.id=e.session.id;r.logger.log("we have session");r.logger.log("Session: ",r.session);r.logger.log("session ID = : ",r.session);r.trigger("ready")}).catch(function(t){var n={error:{message:t.message,name:t.name},catchBlock:"StreamingPlayer",config:r.config,track:r.track,session:r.session,stream:r.streams,playerVersion:e.version};r.callbackRunner("error",n)})};D.version=A.default.version;D.prototype.callbackHandler=function e(t,r){this.callbacks[t]=r};D.prototype.callbackRunner=function e(t,r){if(!this.callbacks[t]){return}return this.callbacks[t](r)};D.prototype.getStreamUrl=function e(t){var r=this;return new o.default(function(e,t){if(!r.track){return t("The track does not exist.")}if(!r.track.id){return t("The track does not exist.")}if(!r.track.format){return t("The track format does not exist.")}if(!r.track.bitrate){return t("The track bitrate does not exist.")}var n={trackId:r.track.id,format:r.track.format,bitrate:r.track.bitrate};if(P.default.isHls()){n.protocol="hls"}else{n.protocol="mpd"}return e(n)}).then(function(e){return r.client.streamsGet(e)}).then(function(e){if(!e.streams||e.streams.length<1){throw new Error("No streams found.")}r.logger.log("we have streams data: ",e);r.streams=e.streams;return e.streams[0].url}).catch(function(e){var t={error:{message:e.message,name:e.name},catchBlock:"getStreamUrl",config:r.config,track:r.track,session:r.session,streams:r.streams,playerVersion:D.version};r.callbackRunner("error",t)})};D.prototype.getTrack=function e(t,r){var n=this;var i={64:null,192:null,320:null};var a=[320,192,64];var o=0;this.track.reset();this.track.id=t;this.track.context=r;return this.client.trackGet({trackId:t}).then(function(e){var r=void 0;var s=void 0;n.logger.log("we have track data: ",e);if(!e.tracks||e.tracks.length<1){s={code:"No track found"};n.callbackRunner("trackError",s);throw new Error("No tracks found.")}if(e.tracks[0]&&!e.tracks[0].isStreamable){s={code:"Track is not streamable."};n.callbackRunner("trackError",s);throw new Error("The track is not streamable.")}if(!e.tracks[0].formats||e.tracks[0].formats.length<1){s={code:"Track unavailable due to licensing issues"};n.callbackRunner("trackError",s);throw new Error("No formats for the track found.")}for(var u=0;u<e.tracks[0].formats.length;u++){r=e.tracks[0].formats[u];if(r.bitrate&&r.name){i[r.bitrate]=r.name}n.logger.log("testing index : ",u,"\nwith hash: ",r);if(n.config.format===r.name&&n.config.bitrate===r.bitrate){n.track.format=r.name;n.track.bitrate=r.bitrate;break}}if(n.config.downgrade){while(!n.track.format&&o<a.length){if(i[a[o]]){n.track.format=i[a[o]];n.track.bitrate=a[o];break}o+=1}}if(!n.track.format){throw new Error("No format found for track id "+t)}if(!n.track.bitrate){throw new Error("No bitrate found for track id "+t)}n.track.duration=e.tracks[0].playbackSeconds;if(!n.track.context){n.track.context=e.tracks[0].albumId}n.logger.log("Updated track object: ",n.track);return n.track}).catch(function(e){var t={error:{message:e.message,name:e.name},catchBlock:"getTrack",config:n.config,track:n.track,session:n.session,stream:n.streams,playerVersion:D.version};n.callbackRunner("error",t)})};D.prototype.play=function e(t,r){var n=this;var i={context:r};return n.validatePlay(t,r).then(function(){return n.preparePlayTrackId(t)}).then(function(e){i.trackId=e;return n.getTrack(e,r)}).then(function(){if(n.session.id){i.sessionId=n.session.id;return n.client.playbackSessionManage(i)}return n.client.playbackSessionPrepare()}).then(function(e){if(!e){return}if(!e.session||!e.session.id){throw new Error("No session data.")}n.session.id=e.session.id;i.sessionId=n.session.id;return n.client.playbackSessionValidate(i)}).then(function(){var e=(0,I.default)(n.track);return n.getStreamUrl(e)}).then(function(e){n.logger.log("we have stream URL : ",e);n.playbackControls.playedAt=Date.now();n.playbackControls.startTime=0;return n.playSpecProtocol(e)}).then(function(){return n.trigger("trackLoaded")}).catch(function(e){var t={error:{message:e.message,name:e.name},catchBlock:"play",config:n.config,track:n.track,sesion:n.session,stream:n.streams,playerVersion:D.version};if(e.response&&e.response.status===403){n.session={};n.callbackRunner("sessionExpired",t)}else{n.callbackRunner("error",t)}n.trigger("error",[e])})};D.prototype.playSpecProtocol=function e(t){var r=this;return new o.default(function(e){if(P.default.isHls()){r.player.src({type:"application/x-mpegURL",src:t});r.timer.reset();r.timer.start();r.player.play()}else{r.player.src({type:"application/dash+xml",src:t});r.timer.reset();r.timer.start();r.player.play()}return e()})};D.prototype.playWithStream=function e(t,r,n){var i=this;var a={context:n};return i.validatePlay(t.id,n).then(function(){return i.preparePlayTrackId(t.id)}).then(function(){i.track.reset();i.track.id=t.id;i.track.context=n;i.track.bitrate=r.format.bitrate;i.track.format=r.format.name;a.trackId=t.id;if(i.session.id){a.sessionId=i.session.id;return i.client.playbackSessionManage(a)}return i.client.playbackSessionPrepare()}).then(function(e){if(!e){return}if(!e.session||!e.session.id){throw new Error("No session data.")}i.session.id=e.session.id;a.sessionId=i.session.id;return i.client.playbackSessionValidate(a)}).then(function(){var e=r.url;i.streams=[];i.streams.push(r);i.logger.log("we have stream URL : ",e);i.playbackControls.playedAt=Date.now();i.playbackControls.startTime=0;return i.playSpecProtocol(e)}).then(function(){return i.trigger("trackLoaded")}).catch(function(e){var t={error:{message:e.message,name:e.name},catchBlock:"playWithStream",config:i.config,track:i.track,session:i.session,stream:i.streams,playerVersion:D.version};if(e.response&&e.response.status===403){i.session={};i.callbackRunner("sessionExpired",t)}else{i.callbackRunner("error",t)}i.trigger("error",[e])})};D.prototype.validatePlay=function e(t,r){return new o.default(function(e,n){if(!t){return n("track argument is missing")}if(!r){return n("context argument is missing")}return e()})};D.prototype.playSeek=function e(t,r,n){var i=this;if(!n){throw new Error("t (seconds) argument is missing")}return this.play(t,r).then(function(){return i.player.currentTime(n)})};D.prototype.resumeAt=function e(t){var r=this;return this.preparePlayTrackId(t).then(function(e){r.player.play();r.player.currentTime(r.playbackControls.startTime);r.playbackControls.playedAt=Date.now()})};D.prototype.pause=function e(){this.player.pause();this.playbackControls.pausedAt=Date.now();this.playbackControls.renewStartTime();return this.trigger("trackPause")};D.prototype.stop=function e(){this.player.reset()};D.prototype.resume=function e(t,r){var n=this;var i={context:r};this.logger.log("#resume: "+t);if(!this.track||this.track.id!==t){return this.play(t,r)}return this.validatePlay(t,r).then(function(){i.trackId=t;if(n.session.id){i.sessionId=n.session.id;return n.client.playbackSessionManage(i)}return n.client.playbackSessionPrepare()}).then(function(e){if(!e){return}if(!e.session||!e.session.id){throw new Error("No session data.")}n.session.id=e.session.id;i.sessionId=n.session.id;return n.client.playbackSessionValidate(i)}).then(function(){return n.resumeAt(t)}).catch(function(e){var t={error:{message:e.message,name:e.name},catchBlock:"resume",config:n.config,track:n.track,session:n.session,stream:n.streams,playerVersion:D.version};if(e.response&&e.response.status===403){n.session={};n.callbackRunner("sessionExpired",t)}else{n.callbackRunner("error",t)}n.trigger("error",[e])})};D.prototype.seek=function e(t,r){var n=this;this.playbackControls.startTime=r;this.playbackControls.playedAt=Date.now();if(this.track||this.track.id===t){if(!this.player.paused()){return this.player.currentTime(r)}this.player.play();return this.player.currentTime(r)}return this.play(t,r).then(function(){n.playbackControls.startTime=r;return n.player.currentTime(r)})};D.prototype.setVolume=function e(t){var r=this;var n=t;if(!t){n=0}if(isNaN(t)){throw new Error("volume argument should be a number")}if(!(t>=0&&t<=1)){throw new Error("volume is out of bounds. it should be within 0 to 1.")}return this.player.volume(n)};D.prototype.currentTime=function e(){return this.player.currentTime()};D.prototype.preparePlayTrackId=function e(t){var r=this;return new o.default(function(e,n){if(!t){return n("track is missing")}if(t.constructor.name==="String"){if(!r.moniker.validate(t,"Track")){return n("track id is invalid")}r.track.id=t;return e(t)}else{if(!t.id||!t.trackId){return n("track.id or track.trackId are missing")}r.track.id=t.id||t.trackId;return e(t.id||t.trackId)}})};D.prototype.playStartEvent=function e(t){var r=this;var n=this;return new o.default(function(e,r){n.logger.log("PLAY START BINDING!");n.logger.log(" => this.trackID = ",t.id);return e(n.ensureUnhandledStopEvent(t))}).then(function(e){if(!e){return}n.logger.log("metering trackID: ",t.id);if(t&&!t.context){t.context="UNKNOWN"}t.started=(new Date).toISOString();var a={method:"POST",body:{type:"playbackStart",playback:{id:t.id,started:t.started,format:n.config.format,bitrate:n.config.bitrate},sourceId:t.context,context:t.context}};n.logger.log("START params : ",a);window.localStorage.setItem("currentlyPlaying",(0,i.default)(t));var o=window.localStorage.getItem("currentlyPlaying");r.logger.log("stored play object: ",JSON.parse(o))}).catch(function(e){r.logger.log("Failed to report start event.")})};D.prototype.ensureUnhandledStopEvent=function e(t){var r=this;var n=this;return new o.default(function(e,r){var i=JSON.parse(window.localStorage.getItem("currentlyPlaying"));if(!i||i.id!==t.id){return}return e(n.playStopEvent(i))}).catch(function(e){r.logger.log("Failed to handle stop event.")})};D.prototype.playStopEvent=function e(t){var r=this;return new o.default(function(e,n){r.logger.log("PLAY STOP BINDING!");r.logger.log(" => metering trackID: ",t.id);var i=new Date;var a=1e3;var o=Math.floor((i-new Date(t.started))/a);r.playingDuration=o;r.logger.log("duration = ",o);if(o>t.duration){o=t.duration}if(t&&!t.context){t.context="UNKNOWN"}var s={body:{type:"playbackStop",duration:o,playback:{id:t.id,started:i.toISOString(),format:t.format,bitrate:t.bitrate},offline:"false",sourceId:t.context,context:t.context}};r.logger.log("STOP params : ",s);return r.client.eventPost(s)})};D.prototype.trigger=function e(t,r){var n=r?r:{};this.logger.log("in the trigger(): ",t);this.events.emitEvent(t,[n])};D.prototype.on=function e(t,r){this.logger.log("in the on(): ",t);this.events.addListener(t,r)};e.exports=D},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17);var i=s(n);var a=r(18);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,i.default)(this,e)}(0,o.default)(e,null,[{key:"getOS",value:function e(){if(this.isWindows()){return"Windows"}else if(this.isOSX()){return"Mac"}else if(this.isLinux()){return"Linux"}return"Others"}},{key:"isWindows",value:function e(){return window.navigator.platform.indexOf("Win")>-1}},{key:"isOSX",value:function e(){return window.navigator.platform.indexOf("Mac")>-1}},{key:"isLinux",value:function e(){return window.navigator.platform.indexOf("Linux")>-1}},{key:"isOpera",value:function e(){return!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0}},{key:"isFirefox",value:function e(){return typeof InstallTrigger!=="undefined"}},{key:"isSafari",value:function e(){var t=/constructor/i.test(window.HTMLElement)||function(e){return e.toString()==="[object SafariRemoteNotification]"}(!window["safari"]||safari.pushNotification);var r=window.navigator.userAgent;var n=!!r.match(/iPad/i)||!!r.match(/iPhone/i);var i=!!r.match(/WebKit/i);var a=n&&i&&!r.match(/CriOS/i);return a||t}},{key:"isIE",value:function e(){return false||!!document.documentMode}},{key:"isEdge",value:function e(){return!isIE&&!!window.StyleMedia}},{key:"isChrome",value:function e(){return!!window.chrome&&!!window.chrome.webstore}}]);return e}();t.default=u},function(e,t,r){e.exports={default:r(168),__esModule:true}},function(e,t,r){var n=r(25),i=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function e(t){return i.stringify.apply(i,arguments)}},function(e,t,r){r(198);var n=r(25).Object;e.exports=function e(t,r,i){return n.defineProperty(t,r,i)}},function(e,t,r){r(199);r(201);r(202);r(200);e.exports=r(25).Promise},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||n!==undefined&&n in e){throw TypeError(r+": incorrect invocation!")}return e}},function(e,t,r){var n=r(75),i=r(113),a=r(193);e.exports=function(e){return function(t,r,o){var s=n(t),u=i(s.length),l=a(o,u),f;if(e&&r!=r)while(u>l){f=s[l++];if(f!=f)return true}else for(;u>l;l++)if(e||l in s){if(s[l]===r)return e||l||0}return!e&&-1}}},function(e,t,r){var n=r(51),i=r(178),a=r(177),o=r(31),s=r(113),u=r(196),l={},f={};var t=e.exports=function(e,t,r,c,d){var p=d?function(){return e}:u(e),h=n(r,c,t?2:1),v=0,y,g,m,_;if(typeof p!="function")throw TypeError(e+" is not iterable!");if(a(p))for(y=s(e.length);y>v;v++){_=t?h(o(g=e[v])[0],g[1]):h(e[v]);if(_===l||_===f)return _}else for(m=p.call(e);!(g=m.next()).done;){_=i(m,h,g.value,t);if(_===l||_===f)return _}};t.BREAK=l;t.RETURN=f},function(e,t,r){e.exports=!r(32)&&!r(106)(function(){return Object.defineProperty(r(70)("div"),"a",{get:function(){return 7}}).a!=7})},function(e,t){e.exports=function(e,t,r){var n=r===undefined;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(50);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return n(e)=="String"?e.split(""):Object(e)}},function(e,t,r){var n=r(39),i=r(14)("iterator"),a=Array.prototype;e.exports=function(e){return e!==undefined&&(n.Array===e||a[i]===e)}},function(e,t,r){var n=r(31);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var a=e["return"];if(a!==undefined)n(a.call(e));throw t}}},function(e,t,r){"use strict";var n=r(183),i=r(110),a=r(72),o={};r(33)(o,r(14)("iterator"),function(){return this});e.exports=function(e,t,r){e.prototype=n(o,{next:i(1,r)});a(e,t+" Iterator")}},function(e,t,r){var n=r(14)("iterator"),i=false;try{var a=[7][n]();a["return"]=function(){i=true};Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return false;var r=false;try{var a=[7],o=a[n]();o.next=function(){return{done:r=true}};a[n]=function(){return o};e(a)}catch(e){}return r}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(15),i=r(112).set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,u=r(50)(o)=="process";e.exports=function(){var e,t,r;var l=function(){var n,i;if(u&&(n=o.domain))n.exit();while(e){i=e.fn;e=e.next;try{i()}catch(n){if(e)r();else t=undefined;throw n}}t=undefined;if(n)n.enter()};if(u){r=function(){o.nextTick(l)}}else if(a){var f=true,c=document.createTextNode("");new a(l).observe(c,{characterData:true});r=function(){c.data=f=!f}}else if(s&&s.resolve){var d=s.resolve();r=function(){d.then(l)}}else{r=function(){i.call(n,l)}}return function(n){var i={fn:n,next:undefined};if(t)t.next=i;if(!e){e=i;r()}t=i}}},function(e,t,r){var n=r(31),i=r(184),a=r(105),o=r(73)("IE_PROTO"),s=function(){},u="prototype";var l=function(){var e=r(70)("iframe"),t=a.length,n="<",i=">",o;e.style.display="none";r(107).appendChild(e);e.src="javascript:";o=e.contentWindow.document;o.open();o.write(n+"script"+i+"document.F=Object"+n+"/script"+i);o.close();l=o.F;while(t--)delete l[u][a[t]];return l()};e.exports=Object.create||function e(t,r){var a;if(t!==null){s[u]=n(t);a=new s;s[u]=null;a[o]=t}else a=l();return r===undefined?a:i(a,r)}},function(e,t,r){var n=r(40),i=r(31),a=r(187);e.exports=r(32)?Object.defineProperties:function e(t,r){i(t);var o=a(r),s=o.length,u=0,l;while(s>u)n.f(t,l=o[u++],r[l]);return t}},function(e,t,r){var n=r(52),i=r(194),a=r(73)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){e=i(e);if(n(e,a))return e[a];if(typeof e.constructor=="function"&&e instanceof e.constructor){return e.constructor.prototype}return e instanceof Object?o:null}},function(e,t,r){var n=r(52),i=r(75),a=r(172)(false),o=r(73)("IE_PROTO");e.exports=function(e,t){var r=i(e),s=0,u=[],l;for(l in r)if(l!=o)n(r,l)&&u.push(l);while(t.length>s)if(n(r,l=t[s++])){~a(u,l)||u.push(l)}return u}},function(e,t,r){var n=r(186),i=r(105);e.exports=Object.keys||function e(t){return n(t,i)}},function(e,t,r){var n=r(33);e.exports=function(e,t,r){for(var i in t){if(r&&e[i])e[i]=t[i];else n(e,i,t[i])}return e}},function(e,t,r){e.exports=r(33)},function(e,t,r){"use strict";var n=r(15),i=r(25),a=r(40),o=r(32),s=r(14)("species");e.exports=function(e){var t=typeof i[e]=="function"?i[e]:n[e];if(o&&t&&!t[s])a.f(t,s,{configurable:true,get:function(){return this}})}},function(e,t,r){var n=r(31),i=r(68),a=r(14)("species");e.exports=function(e,t){var r=n(e).constructor,o;return r===undefined||(o=n(r)[a])==undefined?t:i(o)}},function(e,t,r){var n=r(74),i=r(69);e.exports=function(e){return function(t,r){var a=String(i(t)),o=n(r),s=a.length,u,l;if(o<0||o>=s)return e?"":undefined;u=a.charCodeAt(o);return u<55296||u>56319||o+1===s||(l=a.charCodeAt(o+1))<56320||l>57343?e?a.charAt(o):u:e?a.slice(o,o+2):(u-55296<<10)+(l-56320)+65536}}},function(e,t,r){var n=r(74),i=Math.max,a=Math.min;e.exports=function(e,t){e=n(e);return e<0?i(e+t,0):a(e,t)}},function(e,t,r){var n=r(69);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(53);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&typeof(r=e.toString)=="function"&&!n(i=r.call(e)))return i;if(typeof(r=e.valueOf)=="function"&&!n(i=r.call(e)))return i;if(!t&&typeof(r=e.toString)=="function"&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(104),i=r(14)("iterator"),a=r(39);e.exports=r(25).getIteratorMethod=function(e){if(e!=undefined)return e[i]||e["@@iterator"]||a[n(e)]}},function(e,t,r){"use strict";var n=r(170),i=r(181),a=r(39),o=r(75);e.exports=r(108)(Array,"Array",function(e,t){this._t=o(e);this._i=0;this._k=t},function(){var e=this._t,t=this._k,r=this._i++;if(!e||r>=e.length){this._t=undefined;return i(1)}if(t=="keys")return i(0,r);if(t=="values")return i(0,e[r]);return i(0,[r,e[r]])},"values");a.Arguments=a.Array;n("keys");n("values");n("entries")},function(e,t,r){var n=r(71);n(n.S+n.F*!r(32),"Object",{defineProperty:r(40).f})},function(e,t){},function(e,t,r){"use strict";var n=r(109),i=r(15),a=r(51),o=r(104),s=r(71),u=r(53),l=r(68),f=r(171),c=r(173),d=r(191),p=r(112).set,h=r(182)(),v="Promise",y=i.TypeError,g=i.process,m=i[v],g=i.process,_=o(g)=="process",b=function(){},T,E,w;var S=!!function(){try{var e=m.resolve(1),t=(e.constructor={})[r(14)("species")]=function(e){e(b,b)};return(_||typeof PromiseRejectionEvent=="function")&&e.then(b)instanceof t}catch(e){}}();var C=function(e,t){return e===t||e===m&&t===w};var O=function(e){var t;return u(e)&&typeof(t=e.then)=="function"?t:false};var k=function(e){return C(m,e)?new P(e):new E(e)};var P=E=function(e){var t,r;this.promise=new e(function(e,n){if(t!==undefined||r!==undefined)throw y("Bad Promise constructor");t=e;r=n});this.resolve=l(t);this.reject=l(r)};var x=function(e){try{e()}catch(e){return{error:e}}};var A=function(e,t){if(e._n)return;e._n=true;var r=e._c;h(function(){var n=e._v,i=e._s==1,a=0;var o=function(t){var r=i?t.ok:t.fail,a=t.resolve,o=t.reject,s=t.domain,u,l;try{if(r){if(!i){if(e._h==2)R(e);e._h=1}if(r===true)u=n;else{if(s)s.enter();u=r(n);if(s)s.exit()}if(u===t.promise){o(y("Promise-chain cycle"))}else if(l=O(u)){l.call(u,a,o)}else a(u)}else o(n)}catch(e){o(e)}};while(r.length>a)o(r[a++]);e._c=[];e._n=false;if(t&&!e._h)M(e)})};var M=function(e){p.call(i,function(){var t=e._v,r,n,a;if(I(e)){r=x(function(){if(_){g.emit("unhandledRejection",t,e)}else if(n=i.onunhandledrejection){n({promise:e,reason:t})}else if((a=i.console)&&a.error){a.error("Unhandled promise rejection",t)}});e._h=_||I(e)?2:1}e._a=undefined;if(r)throw r.error})};var I=function(e){if(e._h==1)return false;var t=e._a||e._c,r=0,n;while(t.length>r){n=t[r++];if(n.fail||!I(n.promise))return false}return true};var R=function(e){p.call(i,function(){var t;if(_){g.emit("rejectionHandled",e)}else if(t=i.onrejectionhandled){t({promise:e,reason:e._v})}})};var D=function(e){var t=this;if(t._d)return;t._d=true;t=t._w||t;t._v=e;t._s=2;if(!t._a)t._a=t._c.slice();A(t,true)};var j=function(e){var t=this,r;if(t._d)return;t._d=true;t=t._w||t;try{if(t===e)throw y("Promise can't be resolved itself");if(r=O(e)){h(function(){var n={_w:t,_d:false};try{r.call(e,a(j,n,1),a(D,n,1))}catch(e){D.call(n,e)}})}else{t._v=e;t._s=1;A(t,false)}}catch(e){D.call({_w:t,_d:false},e)}};if(!S){m=function e(t){f(this,m,v,"_h");l(t);T.call(this);try{t(a(j,this,1),a(D,this,1))}catch(e){D.call(this,e)}};T=function e(t){this._c=[];this._a=undefined;this._s=0;this._d=false;this._v=undefined;this._h=0;this._n=false};T.prototype=r(188)(m.prototype,{then:function e(t,r){var n=k(d(this,m));n.ok=typeof t=="function"?t:true;n.fail=typeof r=="function"&&r;n.domain=_?g.domain:undefined;this._c.push(n);if(this._a)this._a.push(n);if(this._s)A(this,false);return n.promise},catch:function(e){return this.then(undefined,e)}});P=function(){var e=new T;this.promise=e;this.resolve=a(j,e,1);this.reject=a(D,e,1)}}s(s.G+s.W+s.F*!S,{Promise:m});r(72)(m,v);r(190)(v);w=r(25)[v];s(s.S+s.F*!S,v,{reject:function e(t){var r=k(this),n=r.reject;n(t);return r.promise}});s(s.S+s.F*(n||!S),v,{resolve:function e(t){if(t instanceof m&&C(t.constructor,this))return t;var r=k(this),n=r.resolve;n(t);return r.promise}});s(s.S+s.F*!(S&&r(180)(function(e){m.all(e)["catch"](b)})),v,{all:function e(t){var r=this,n=k(r),i=n.resolve,a=n.reject;var o=x(function(){var e=[],n=0,o=1;c(t,false,function(t){var s=n++,u=false;e.push(undefined);o++;r.resolve(t).then(function(t){if(u)return;u=true;e[s]=t;--o||i(e)},a)});--o||i(e)});if(o)a(o.error);return n.promise},race:function e(t){var r=this,n=k(r),i=n.reject;var a=x(function(){c(t,false,function(e){r.resolve(e).then(n.resolve,i)})});if(a)i(a.error);return n.promise}})},function(e,t,r){"use strict";var n=r(192)(true);r(108)(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t,t=this._i,r;if(t>=e.length)return{value:undefined,done:true};r=n(e,t);this._i+=r.length;return{value:r,done:false}})},function(e,t,r){r(197);var n=r(15),i=r(33),a=r(39),o=r(14)("toStringTag");for(var s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var l=s[u],f=n[l],c=f&&f.prototype;if(c&&!c[o])i(c,o,l);a[l]=a.Array}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){var t,r,n;t=[];for(n=0,r=e.length;n<r;n+=1){if(e[n].isRoot){t.push("root")}else{t.push(e[n].name)}}var i=function e(t,r){var n,i,a;if(t===null||r===null){return}for(n in t){if(t.hasOwnProperty(n)){if(!r.hasOwnProperty(n)){r[n]=t[n]}}}},a=function e(t,r,n){var a,o,s,u,l;if(t===null||t.length===0){return}for(a=0,o=t.length;a<o;a+=1){s=t[a];if(r.hasOwnProperty(s.name)){if(n.hasOwnProperty(s.name)){if(s.merge){u=r[s.name];l=n[s.name];if(typeof u==="object"&&typeof l==="object"){i(u,l)}else{if(s.mergeFunction!=null){n[s.name]=s.mergeFunction(u,l)}else{n[s.name]=u+l}}}}else{n[s.name]=r[s.name]}}}},o=function e(t,r){var n=t,i,o,s,u,l,f,c,d;if(n.children===null||n.children.length===0){return}for(i=0,o=n.children.length;i<o;i+=1){f=n.children[i];if(r.hasOwnProperty(f.name)){if(f.isArray){l=r[f.name+"_asArray"];for(s=0,u=l.length;s<u;s+=1){c=l[s];a(n.properties,r,c);e(f,c)}}else{c=r[f.name];a(n.properties,r,c);e(f,c)}}}},s=function r(n){var i,a,s,u,l,f,c;if(n===null){return n}if(typeof n!=="object"){return n}for(i=0,a=t.length;i<a;i+=1){if(t[i]==="root"){l=e[i];f=n;o(l,f)}}for(u in n){if(n.hasOwnProperty(u)&&u!="__children"){s=t.indexOf(u);if(s!==-1){l=e[s];if(l.isArray){c=n[u+"_asArray"];for(i=0,a=c.length;i<a;i+=1){f=c[i];o(l,f)}}else{f=n[u];o(l,f)}}r(n[u])}}return n};return{run:s}}t["default"]=n;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=r(54);var u=i(s);var l=function(e){o(t,e);function t(){a(this,t);n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.BUFFERING_COMPLETED="bufferingCompleted";this.BUFFER_CLEARED="bufferCleared";this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated";this.BYTES_APPENDED="bytesAppended";this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted";this.CURRENT_TRACK_CHANGED="currentTrackChanged";this.DATA_UPDATE_COMPLETED="dataUpdateCompleted";this.DATA_UPDATE_STARTED="dataUpdateStarted";this.INITIALIZATION_LOADED="initializationLoaded";this.INIT_FRAGMENT_LOADED="initFragmentLoaded";this.INIT_REQUESTED="initRequested";this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded";this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted";this.LOADING_COMPLETED="loadingCompleted";this.LOADING_PROGRESS="loadingProgress";this.MANIFEST_UPDATED="manifestUpdated";this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded";this.QUOTA_EXCEEDED="quotaExceeded";this.REPRESENTATION_UPDATED="representationUpdated";this.SEGMENTS_LOADED="segmentsLoaded";this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged";this.SOURCEBUFFER_APPEND_COMPLETED="sourceBufferAppendCompleted";this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted";this.STREAMS_COMPOSED="streamsComposed";this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted";this.STREAM_COMPLETED="streamCompleted";this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete";this.TIMED_TEXT_REQUESTED="timedTextRequested";this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete";this.URL_RESOLUTION_FAILED="urlResolutionFailed";this.VIDEO_CHUNK_RECEIVED="videoChunkReceived";this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated";this.XLINK_ELEMENT_LOADED="xlinkElementLoaded";this.XLINK_READY="xlinkReady"}return t}(u["default"]);t["default"]=l;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(36);var a=n(i);var o=r(16);var s=n(o);var u=r(13);var l=r(2);var f=n(l);var c=r(3);var d=n(c);var p=r(0);var h=n(p);var v=r(4);var y=n(v);var g=r(45);var m=n(g);var _=r(80);var b=n(_);var T=r(56);var E=r(219);var w=n(E);var S=1;function C(e){var t=this.context;var r=(0,y["default"])(t).getInstance().log;var n=(0,d["default"])(t).getInstance();var i=(0,m["default"])(t).getInstance();var o=e.segmentBaseLoader;var l=e.timelineConverter;var c=e.dashMetrics;var p=e.metricsModel;var h=e.baseURLController;var v=undefined,g=undefined,_=undefined,E=undefined,C=undefined,O=undefined,k=undefined,P=undefined,x=undefined;function A(){g=-1;O=0;k=NaN;n.on(f["default"].INITIALIZATION_LOADED,Z,v);n.on(f["default"].SEGMENTS_LOADED,ee,v)}function M(r){P=r;C=P.getType();E=P.isDynamic();x=(0,w["default"])(t).create(e,E)}function I(){return P}function R(e){O=e}function D(){return O}function j(){return g}function L(){return k}function N(){x=null;O=0;k=NaN;_=NaN;g=-1;E=null;C=null;P=null;n.off(f["default"].INITIALIZATION_LOADED,Z,v);n.off(f["default"].SEGMENTS_LOADED,ee,v)}function F(e){return e?e.split("$$").join("$"):e}function B(e,t){if(t===null||e===null||e.indexOf("$RepresentationID$")===-1){return e}var r=t.toString();return e.split("$RepresentationID$").join(r)}function U(e,t,r){var n=h.resolve(r.path);var a;var o;if(!n||t===n.url||!i.isRelative(t)){a=t}else{a=n.url;o=n.serviceLocation;if(t){a=i.resolve(t,a)}}if(i.isRelative(a)){return false}e.url=a;e.serviceLocation=o;return true}function H(e,t){var r=new a["default"];var n=e.adaptation.period;var i=n.start;r.mediaType=t;r.type=u.HTTPRequest.INIT_SEGMENT_TYPE;r.range=e.range;r.availabilityStartTime=l.calcAvailabilityStartTimeFromPresentationTime(i,n.mpd,E);r.availabilityEndTime=l.calcAvailabilityEndTimeFromPresentationTime(i+n.duration,n.mpd,E);r.quality=e.index;r.mediaInfo=P.getMediaInfo();r.representationId=e.id;if(U(r,e.initialization,e)){return r}}function V(e){if(!e)return null;var t=H(e,C);return t}function q(e){var t=false;if(!E&&g===e.availableSegmentsNumber){t=true}else{var n=(0,T.getSegmentByIndex)(g,e);if(n){var i=n.presentationStartTime-e.adaptation.period.start;var a=e.adaptation.period.duration;r(e.segmentInfoType+": "+i+" / "+a);t=e.segmentInfoType==="SegmentTimeline"&&E?false:i>=a}}return t}function G(e){return x.getSegments(e,_,g,z)}function z(e,t){e.segments=t;if(t&&t.length>0){k=isNaN(k)?t[0].presentationStartTime:Math.min(t[0].presentationStartTime,k)}if(E&&isNaN(l.getExpectedLiveEdge())){var r=t[t.length-1];var n=r.presentationStartTime;var i=p.getMetricsFor("stream");l.setExpectedLiveEdge(n);p.updateManifestUpdateInfo(c.getCurrentManifestUpdate(i),{presentationStartTime:n})}}function K(e){if(!e){throw new s["default"]("no representation")}e.segments=null;G(e);return e}function Y(e,t){var r=b["default"].hasInitialization(e);var i=b["default"].hasSegments(e);var a;if(!e.segmentDuration&&!e.segments){K(e)}e.segmentAvailabilityRange=null;e.segmentAvailabilityRange=l.calcSegmentAvailabilityRange(e,E);if(e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime){a=new s["default"](S,"no segments are available yet",{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end});n.trigger(f["default"].REPRESENTATION_UPDATED,{sender:this,representation:e,error:a});return}if(!t)g=-1;if(e.segmentDuration){K(e)}if(!r){o.loadInitialization(e)}if(!i){o.loadSegments(e,C,e.indexRange)}if(r&&i){n.trigger(f["default"].REPRESENTATION_UPDATED,{sender:this,representation:e})}}function W(e,t,r){var n=t.segments;var i=n?n.length:null;var a=-1;var o,s,u,l,f;if(n&&i>0){for(f=0;f<i;f++){s=n[f];u=s.presentationStartTime;l=s.duration;o=r===undefined||r===null?l/2:r;if(e+o>=u&&e-o<u+l){a=s.availabilityIdx;break}}}return a}function X(e){if(e===null||e===undefined){return null}var t=new a["default"];var r=e.representation;var n=r.adaptation.period.mpd.manifest.Period_asArray[r.adaptation.period.index].AdaptationSet_asArray[r.adaptation.index].Representation_asArray[r.index].bandwidth;var i=e.media;i=(0,T.replaceTokenForTemplate)(i,"Number",e.replacementNumber);i=(0,T.replaceTokenForTemplate)(i,"Time",e.replacementTime);i=(0,T.replaceTokenForTemplate)(i,"Bandwidth",n);i=B(i,r.id);i=F(i);t.mediaType=C;t.type=u.HTTPRequest.MEDIA_SEGMENT_TYPE;t.range=e.mediaRange;t.startTime=e.presentationStartTime;t.duration=e.duration;t.timescale=r.timescale;t.availabilityStartTime=e.availabilityStartTime;t.availabilityEndTime=e.availabilityEndTime;t.wallStartTime=e.wallStartTime;t.quality=r.index;t.index=e.availabilityIdx;t.mediaInfo=P.getMediaInfo();t.adaptationIndex=r.adaptation.index;if(U(t,i,r)){return t}}function Q(e,t,n){var i,o,s;var u=g;var l=n?n.keepIdx:false;var f=n?n.timeThreshold:null;var c=n&&n.ignoreIsFinished?true:false;if(!e){return null}if(_!==t){_=t;r("Getting the request for "+C+" time : "+t)}G(e);g=W(t,e,f);if(g<0){G(e);g=W(t,e,f)}if(g>0){r("Index for "+C+" time "+t+" is "+g)}s=!c?q(e):false;if(s){i=new a["default"];i.action=a["default"].ACTION_COMPLETE;i.index=g;i.mediaType=C;i.mediaInfo=P.getMediaInfo();r("Signal complete.",i)}else{o=(0,T.getSegmentByIndex)(g,e);i=X(o)}if(l&&u>=0){g=e.segmentInfoType==="SegmentTimeline"&&E?g:u}return i}function $(e,t){var r=(e.segmentAvailabilityRange.end-e.segmentAvailabilityRange.start)/2;e.segments=null;e.segmentAvailabilityRange={start:t-r,end:t+r};return Q(e,t,{keepIdx:false,ignoreIsFinished:true})}function J(e){var t,n,i;if(!e||g===-1){return null}_=null;g++;r("Getting the next request at index: "+g);i=q(e);if(i){t=new a["default"];t.action=a["default"].ACTION_COMPLETE;t.index=g;t.mediaType=C;t.mediaInfo=P.getMediaInfo();r("Signal complete.")}else{G(e);n=(0,T.getSegmentByIndex)(g,e);t=X(n);if(!n&&E){g--}}return t}function Z(e){var t=e.representation;if(!t.segments)return;n.trigger(f["default"].REPRESENTATION_UPDATED,{sender:this,representation:t})}function ee(e){if(e.error||C!==e.mediaType)return;var t=e.segments;var r=e.representation;var i=[];var a=0;var o,s,u,c;for(o=0,s=t.length;o<s;o++){u=t[o];c=(0,T.getTimeBasedSegment)(l,E,r,u.startTime,u.duration,u.timescale,u.media,u.mediaRange,a);i.push(c);c=null;a++}r.segmentAvailabilityRange={start:i[0].presentationStartTime,end:i[s-1].presentationStartTime};r.availableSegmentsNumber=s;z(r,i);if(!b["default"].hasInitialization(r))return;n.trigger(f["default"].REPRESENTATION_UPDATED,{sender:this,representation:r})}v={initialize:M,getStreamProcessor:I,getInitRequest:V,getSegmentRequestForTime:Q,getNextSegmentRequest:J,generateSegmentRequestForTime:$,updateRepresentation:Y,setCurrentTime:R,getCurrentTime:D,getCurrentIndex:j,getEarliestTime:L,reset:N};A();return v}C.__dashjs_factory_name="DashHandler";var O=h["default"].getClassFactory(C);O.SEGMENTS_UNAVAILABLE_ERROR_CODE=S;t["default"]=O;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(62);var a=n(i);var o=r(81);var s=n(o);var u=r(16);var l=n(u);var f=r(22);var c=n(f);var d=r(2);var p=n(d);var h=r(3);var v=n(h);var y=r(90);var g=n(y);var m=r(0);var _=n(m);var b=r(4);var T=n(b);var E=r(13);var w=r(36);var S=n(w);var C=r(42);var O=n(C);function k(){var e=this.context;var t=(0,T["default"])(e).getInstance().log;var r=(0,v["default"])(e).getInstance();var n=undefined,i=undefined,o=undefined,u=undefined,f=undefined,d=undefined,h=undefined;function y(){i=(0,c["default"])(e).getInstance();o=(0,g["default"])(e).getInstance();u=(0,a["default"])(e).getInstance();d=(0,O["default"])(e).create({errHandler:i,metricsModel:f,requestModifier:u})}function m(e){if(e.baseURLController){h=e.baseURLController}if(e.metricsModel){f=e.metricsModel}}function _(e,n){var i=null;var a=null;var s=h.resolve(e.path);var u=n||{init:true,url:s?s.url:undefined,range:{start:0,end:1500},searching:false,bytesLoaded:0,bytesToLoad:1500};t("Start searching for initialization.");var l=P(u);var f=function t(n){u.bytesLoaded=u.range.end;a=o.parse(n);i=k(a);if(i){e.range=i;r.trigger(p["default"].INITIALIZATION_LOADED,{representation:e})}else{u.range.end=u.bytesLoaded+u.bytesToLoad;_(e,u)}};var c=function t(){r.trigger(p["default"].INITIALIZATION_LOADED,{representation:e})};d.load({request:l,success:f,error:c});t("Perform init search: "+u.url)}function b(e,r,n,i,a){if(n&&(n.start===undefined||n.end===undefined)){var s=n?n.toString().split("-"):null;n=s?{start:parseFloat(s[0]),end:parseFloat(s[1])}:null}a=!a?x:a;var u=null;var l=null;var f=!!n;var c=h.resolve(e.path);var p={init:false,url:c?c.url:undefined,range:f?n:{start:0,end:1500},searching:!f,bytesLoaded:i?i.bytesLoaded:0,bytesToLoad:1500};var v=P(p);var y=function n(i){var s=p.bytesToLoad;var f=i.byteLength;p.bytesLoaded=p.range.end-p.range.start;u=o.parse(i);l=u.getBox("sidx");if(!l||!l.isComplete){if(l){p.range.start=l.offset||p.range.start;p.range.end=p.range.start+(l.size||s)}else if(f<p.bytesLoaded){a(null,e,r);return}else{var c=u.getLastBox();if(c&&c.size){p.range.start=c.offset+c.size;p.range.end=p.range.start+s}else{p.range.end+=s}}b(e,r,p.range,p,a)}else{var d=l.references;var h,v;if(d!==null&&d!==undefined&&d.length>0){h=d[0].reference_type===1}if(h){t("Initiate multiple SIDX load.");p.range.end=p.range.start+l.size;var y,g,m,_,T;var E=[];var w=0;var S=(l.offset||p.range.start)+l.size;var O=function t(n){if(n){E=E.concat(n);w++;if(w>=g){a(E,e,r)}}else{a(null,e,r)}};for(y=0,g=d.length;y<g;y++){m=S;_=S+d[y].referenced_size-1;S=S+d[y].referenced_size;T={start:m,end:_};b(e,null,T,p,O)}}else{t("Parsing segments from SIDX.");v=C(l,p);a(v,e,r)}}};var g=function t(){a(null,e,r)};d.load({request:v,success:y,error:g});t("Perform SIDX load: "+p.url)}function w(){d.abort();d=null;i=null;o=null;u=null}function C(e,t){var r=e.references;var n=r.length;var i=e.timescale;var a=e.earliest_presentation_time;var o=t.range.start+e.offset+e.first_offset+e.size;var u=[];var l,f,c,d;for(var p=0;p<n;p++){c=r[p].subsegment_duration;d=r[p].referenced_size;l=new s["default"];l.duration=c;l.startTime=a;l.timescale=i;f=o+d-1;l.mediaRange=o+"-"+f;u.push(l);a+=c;o+=d}return u}function k(e){var r=e.getBox("ftyp");var n=e.getBox("moov");var i=null;var a,o;t("Searching for initialization.");if(n&&n.isComplete){a=r?r.offset:n.offset;o=n.offset+n.size-1;i=a+"-"+o;t("Found the initialization.  Range: "+i)}return i}function P(e){if(!e.url){return}var t=new S["default"];t.type=e.init?E.HTTPRequest.INIT_SEGMENT_TYPE:E.HTTPRequest.MEDIA_SEGMENT_TYPE;t.url=e.url;t.range=e.range.start+"-"+e.range.end;return t}function x(e,t,n){if(e){r.trigger(p["default"].SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n})}else{r.trigger(p["default"].SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new l["default"](null,"error loading segments",null)})}}n={setConfig:m,initialize:y,loadInitialization:_,loadSegments:b,reset:w};return n}k.__dashjs_factory_name="SegmentBaseLoader";t["default"]=_["default"].getSingletonFactory(k);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(2);var a=n(i);var o=r(3);var s=n(o);var u=r(292);var l=n(u);var f=r(0);var c=n(f);var d=r(4);var p=n(d);var h=r(22);var v=n(h);var y=r(62);var g=n(y);var m=r(81);var _=n(m);var b=r(13);var T=r(36);var E=n(T);var w=r(42);var S=n(w);function C(){var e=this.context;var t=(0,p["default"])(e).getInstance().log;var r=(0,s["default"])(e).getInstance();var n=undefined,i=undefined,o=undefined,u=undefined,f=undefined,c=undefined,d=undefined;function h(){i={EBML:{tag:440786851,required:true},Segment:{tag:408125543,required:true,SeekHead:{tag:290298740,required:true},Info:{tag:357149030,required:true,TimecodeScale:{tag:2807729,required:true,parse:"getMatroskaUint"},Duration:{tag:17545,required:true,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:true},Cues:{tag:475249515,required:true,CuePoint:{tag:187,required:true,CueTime:{tag:179,required:true,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:true,CueTrack:{tag:247,required:true,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:true,parse:"getMatroskaUint"},CueBlockNumber:{tag:21368}}}}},Void:{tag:236,required:true}}}function y(){o=(0,v["default"])(e).getInstance();u=(0,g["default"])(e).getInstance();c=(0,S["default"])(e).create({errHandler:o,metricsModel:f,requestModifier:u})}function m(e){if(!e.baseURLController||!e.metricsModel){throw new Error("Missing config parameter(s)")}d=e.baseURLController;f=e.metricsModel}function T(t){var r=[];var n=undefined;var a=undefined;var o=undefined;var s=(0,l["default"])(e).create({data:t});var u=undefined;s.consumeTag(i.Segment.Cues);a=s.getMatroskaCodedNum();while(s.moreData()&&s.consumeTagAndSize(i.Segment.Cues.CuePoint,true)){n={};n.CueTime=s.parseTag(i.Segment.Cues.CuePoint.CueTime);n.CueTracks=[];while(s.moreData()&&s.consumeTagAndSize(i.Segment.Cues.CuePoint.CueTrackPositions,true)){o={};o.Track=s.parseTag(i.Segment.Cues.CuePoint.CueTrackPositions.CueTrack);if(o.Track===0){throw new Error("Cue track cannot be 0")}o.ClusterPosition=s.parseTag(i.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition);if(s.getPos()+4>a||!s.consumeTag(i.Segment.Cues.CuePoint.CueTrackPositions.CueBlockNumber,true)){n.CueTracks.push(o)}else{u=s.getMatroskaCodedNum();o.BlockNumber=s.getMatroskaUint(u);n.CueTracks.push(o)}}if(n.CueTracks.length===0){throw new Error("Mandatory cuetrack not found")}r.push(n)}if(r.length===0){throw new Error("mandatory cuepoint not found")}return r}function w(e,r,n,i){var a=undefined;var o=undefined;var s=undefined;var u=undefined;var l=undefined;var f=undefined;var c=undefined;var d=undefined;o=T(e);s=[];for(l=0,f=o.length;l<f;l+=1){u=new _["default"];a=0;if(l<o.length-1){a=o[l+1].CueTime-o[l].CueTime}else{a=i-o[l].CueTime}u.duration=a;u.startTime=o[l].CueTime;u.timescale=1e3;c=o[l].CueTracks[0].ClusterPosition+r;if(l<o.length-1){d=o[l+1].CueTracks[0].ClusterPosition+r-1}else{d=n-1}u.mediaRange=c+"-"+d;s.push(u)}t("Parsed cues: "+s.length+" cues.");return s}function C(r,n,a,o){var s=(0,l["default"])(e).create({data:r});var u=undefined;var f=undefined;var d=a.split("-");var p=null;var h={url:n,range:{start:parseFloat(d[0]),end:parseFloat(d[1])},request:p};var v=undefined;var y=undefined;t("Parse EBML header: "+h.url);s.skipOverElement(i.EBML);s.consumeTag(i.Segment);v=s.getMatroskaCodedNum();v+=s.getPos();y=s.getPos();while(s.moreData()&&!s.consumeTagAndSize(i.Segment.Info,true)){if(!(s.skipOverElement(i.Segment.SeekHead,true)||s.skipOverElement(i.Segment.Tracks,true)||s.skipOverElement(i.Segment.Cues,true)||s.skipOverElement(i.Void,true))){throw new Error("no valid top level element found")}}while(u===undefined){var g=s.getMatroskaCodedNum(true);var m=s.getMatroskaCodedNum();switch(g){case i.Segment.Info.Duration.tag:u=s[i.Segment.Info.Duration.parse](m);break;default:s.setPos(s.getPos()+m);break}}p=x(h);var _=function e(t){f=w(t,y,v,u);o(f)};var b=function e(){t("Download Error: Cues "+h.url);o(null)};c.load({request:p,success:_,error:b});t("Perform cues load: "+h.url+" bytes="+h.range.start+"-"+h.range.end)}function O(e,n){var i=null;var o=d.resolve(e.path);var s=o?o.url:undefined;var u=e.range.split("-");var l=n||{range:{start:parseFloat(u[0]),end:parseFloat(u[1])},request:i,url:s,init:true};t("Start loading initialization.");i=x(l);var f=function t(){r.trigger(a["default"].INITIALIZATION_LOADED,{representation:e})};var p=function t(){r.trigger(a["default"].INITIALIZATION_LOADED,{representation:e})};c.load({request:i,success:f,error:p});t("Perform init load: "+l.url)}function k(e,r,n,i){var a=null;var o=d.resolve(e.path);var s=o?o.url:undefined;var u=8192;var l={bytesLoaded:0,bytesToLoad:u,range:{start:0,end:u},request:a,url:s,init:false};i=!i?P:i;a=x(l);t("Parsing ebml header");var f=function t(a){C(a,s,n,function(t){i(t,e,r)})};var p=function t(){i(null,e,r)};c.load({request:a,success:f,error:p})}function P(e,t,n){if(e){r.trigger(a["default"].SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n})}else{r.trigger(a["default"].SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new Error(null,"error loading segments",null)})}}function x(e){var t=new E["default"];t.type=e.init?b.HTTPRequest.INIT_SEGMENT_TYPE:b.HTTPRequest.MEDIA_SEGMENT_TYPE;t.url=e.url;t.range=e.range.start+"-"+e.range.end;return t}function A(){o=null;u=null;t=null}n={setConfig:m,initialize:y,loadInitialization:O,loadSegments:k,reset:A};h();return n}C.__dashjs_factory_name="WebmSegmentBaseLoader";t["default"]=c["default"].getSingletonFactory(C);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(27);var a=n(i);var o=r(26);var s=n(o);var u=r(79);var l=n(u);var f=r(28);var c=n(f);var d=r(30);var p=n(d);var h=r(60);var v=n(h);var y=r(21);var g=n(y);var m=r(91);var _=n(m);var b=r(16);var T=n(b);var E=r(3);var w=n(E);var S=r(2);var C=n(S);var O=r(41);var k=n(O);var P=r(0);var x=n(P);var A=r(80);var M=n(A);function I(){var e=1;var t=this.context;var r=(0,w["default"])(t).getInstance();var n=undefined,i=undefined,o=undefined,u=undefined,f=undefined,d=undefined,h=undefined,y=undefined,m=undefined,b=undefined,E=undefined,S=undefined,O=undefined,P=undefined,x=undefined,A=undefined;function I(){i=null;o=-1;u=true;f=[];y=(0,c["default"])(t).getInstance();b=(0,p["default"])(t).getInstance();E=(0,v["default"])(t).getInstance();S=(0,g["default"])(t).getInstance();O=(0,_["default"])(t).getInstance();P=(0,l["default"])(t).getInstance();x=(0,a["default"])(t).getInstance();A=(0,s["default"])(t).getInstance();r.on(C["default"].QUALITY_CHANGE_REQUESTED,ee,n);r.on(C["default"].REPRESENTATION_UPDATED,$,n);r.on(C["default"].WALLCLOCK_TIME_UPDATED,J,n);r.on(C["default"].BUFFER_LEVEL_UPDATED,Z,n)}function R(e){if(e.abrController){y=e.abrController}}function D(e){h=e;m=h.getIndexHandler()}function j(){return h}function L(){return i}function N(){return o}function F(){return u}function B(){return d}function U(){r.off(C["default"].QUALITY_CHANGE_REQUESTED,ee,n);r.off(C["default"].REPRESENTATION_UPDATED,$,n);r.off(C["default"].WALLCLOCK_TIME_UPDATED,J,n);r.off(C["default"].BUFFER_LEVEL_UPDATED,Z,n);i=null;o=-1;u=true;f=[];y=null;b=null;E=null;S=null;O=null;P=null;x=null;A=null}function H(e,t,n){var a,o;var s=null;var l=h.getStreamInfo();var c=y.getTopQualityIndexFor(n,l.id);u=true;r.trigger(C["default"].DATA_UPDATE_STARTED,{sender:this});f=Y(t);if(i===null&&n!=="fragmentedText"){o=y.getAverageThroughput(n);s=o||y.getInitialBitrateFor(n,l);a=y.getQualityForBitrate(h.getMediaInfo(),s)}else{a=y.getQualityFor(n,l)}if(a>c){a=c}d=G(a);i=e;if(n!=="video"&&n!=="audio"&&n!=="fragmentedText"){u=false;r.trigger(C["default"].DATA_UPDATE_COMPLETED,{sender:this,data:i,currentRepresentation:d});return}for(var p=0;p<f.length;p++){m.updateRepresentation(f[p],true)}}function V(){var e=new Date;var t=B();var r=b.getTime()*1e3;S.addRepresentationSwitch(t.adaptation.type,e,r,t.id)}function q(){var e=P.calcSegmentAvailabilityRange(d,h.isDynamic());S.addDVRInfo(h.getType(),b.getTime(),h.getStreamInfo().manifestInfo,e)}function G(e){return f[e]}function z(e){return f.indexOf(e)}function K(){for(var e=0,t=f.length;e<t;e++){var r=f[e].segmentInfoType;if(f[e].segmentAvailabilityRange===null||!M["default"].hasInitialization(f[e])||(r==="SegmentBase"||r==="BaseURL")&&!f[e].segments){return false}}return true}function Y(e){var t;var r=E.getValue();o=x.getIndexForAdaptation(i,r,e.period.index);t=x.getRepresentationsForAdaptation(r,e);return t}function W(e){var t;for(var r=0,n=f.length;r<n;r++){t=f[r];t.segmentAvailabilityRange=P.calcSegmentAvailabilityRange(t,e)}}function X(){f.forEach(function(e){e.segmentAvailabilityRange=null})}function Q(e){var t=e;var i=function e(){if(F())return;u=true;r.trigger(C["default"].DATA_UPDATE_STARTED,{sender:n});X();for(var t=0;t<f.length;t++){m.updateRepresentation(f[t],true)}};u=false;r.trigger(k["default"].AST_IN_FUTURE,{delay:t});setTimeout(i,t)}function $(t){if(t.sender.getStreamProcessor()!==h||!F())return;var n=t.representation;var a=S.getMetricsFor("stream");var o=S.getMetricsFor(B().adaptation.type);var s=A.getCurrentManifestUpdate(a);var l=false;var f=0;var c;var p;var v;if(n.adaptation.period.mpd.manifest.type==="dynamic"){var g=n.segmentAvailabilityRange.end-n.segmentAvailabilityRange.start;var m=b.computeLiveDelay(d.segmentDuration,h.getStreamInfo().manifestInfo.DVRWindowSize);f=(m-g)*1e3}if(f>0){q();Q(f);p=new T["default"](e,"Segments update failed",null);r.trigger(C["default"].DATA_UPDATE_COMPLETED,{sender:this,data:i,currentRepresentation:d,error:p});return}if(s){for(var _=0;_<s.trackInfo.length;_++){c=s.trackInfo[_];if(c.index===n.index&&c.mediaType===h.getType()){l=true;break}}if(!l){S.addManifestUpdateRepresentationInfo(s,n.id,n.index,n.adaptation.period.index,h.getType(),n.presentationTimeOffset,n.startNumber,n.segmentInfoType)}}if(K()){u=false;y.setPlaybackQuality(h.getType(),h.getStreamInfo(),z(d));S.updateManifestUpdateInfo(s,{latency:d.segmentAvailabilityRange.end-b.getTime()});v=A.getCurrentRepresentationSwitch(o);if(!v){V()}r.trigger(C["default"].DATA_UPDATE_COMPLETED,{sender:this,data:i,currentRepresentation:d})}}function J(e){if(e.isDynamic){W(e.isDynamic)}}function Z(e){if(e.sender.getStreamProcessor()!==h)return;q()}function ee(e){if(e.mediaType!==h.getType()||h.getStreamInfo().id!==e.streamInfo.id)return;if(e.oldQuality!==e.newQuality){d=G(e.newQuality);O.setSavedBitrateSettings(e.mediaType,d.bandwidth);V()}}n={initialize:D,setConfig:R,getData:L,getDataIndex:N,isUpdating:F,updateData:H,getStreamProcessor:j,getCurrentRepresentation:B,getRepresentationForQuality:G,reset:U};I();return n}I.__dashjs_factory_name="RepresentationController";t["default"]=x["default"].getClassFactory(I);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(22);var a=n(i);var o=r(0);var s=n(o);var u=r(4);var l=n(u);var f=r(203);var c=n(f);var d=r(77);var p=n(d);var h=r(216);var v=n(h);var y=r(214);var g=n(y);var m=r(213);var _=n(m);var b=r(215);var T=n(b);var E=r(211);var w=n(E);var S=r(212);var C=n(S);function O(){var e=this.context;var t=(0,l["default"])(e).getInstance().log;var r=(0,a["default"])(e).getInstance();var n=undefined,i=undefined,o=undefined,s=undefined;function u(){i=[new g["default"],new _["default"],new T["default"],new v["default"]];o=new p["default"]({escapeMode:false,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:false,enableToStringFunc:false,ignoreRoot:true,matchers:i});s=new c["default"]([new w["default"],new C["default"]])}function f(e,n){var a;try{var u=window.performance.now();a=o.xml_str2json(e);if(!a){throw new Error("parser error")}var l=window.performance.now();s.run(a);var f=window.performance.now();n.setMatchers(i);n.setIron(s);t("Parsing complete: ( xml2json: "+(l-u).toPrecision(3)+"ms, objectiron: "+(f-l).toPrecision(3)+"ms, total: "+((f-u)/1e3).toPrecision(3)+"s)")}catch(t){r.manifestError("parsing the manifest failed","parse",e,t);return null}return a}n={parse:f};u();return n}O.__dashjs_factory_name="DashParser";t["default"]=s["default"].getClassFactory(O);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(t,r){i(this,e);var n=function e(t){return t&&t.length&&t.charAt(0)===t.charAt(0).toUpperCase()};this._name=t;this._merge=r!==undefined?r:n(t)}n(e,[{key:"name",get:function e(){return this._name}},{key:"merge",get:function e(){return this._merge}}]);return e}();t["default"]=a;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=r(119);var u=i(s);var l=function(e){o(t,e);function t(){a(this,t);var e=["profiles","width","height","sar","frameRate","audioSamplingRate","mimeType","segmentProfiles","codecs","maximumSAPPeriod","startWithSAP","maxPlayoutRate","codingDependency","scanType","FramePacking","AudioChannelConfiguration","ContentProtection","EssentialProperty","SupplementalProperty","InbandEventStream"];n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"AdaptationSet",e,[new u["default"]("Representation",e,[new u["default"]("SubRepresentation",e)])])}return t}(u["default"]);t["default"]=l;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=r(119);var u=i(s);var l=function(e){o(t,e);function t(){a(this,t);var e=["SegmentBase","SegmentTemplate","SegmentList"];n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"Period",e,[new u["default"]("AdaptationSet",e,[new u["default"]("Representation",e)])])}return t}(u["default"]);t["default"]=l;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=r(55);var u=i(s);var l=60;var f=60;var c=1e3;var d=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;var p=function(e){o(t,e);function t(){a(this,t);n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){return d.test(e.value)},function(e){var t=d.exec(e);var r=undefined;r=Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),t[6]&&parseInt(t[6],10)||0,t[7]&&parseFloat(t[7])*c||0);if(t[9]&&t[10]){var n=parseInt(t[9],10)*f+parseInt(t[10],10);r+=(t[8]==="+"?-1:+1)*n*l*c}return new Date(r)})}return t}(u["default"]);t["default"]=p;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=r(55);var u=i(s);var l=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;var f=365*24*60*60;var c=30*24*60*60;var d=24*60*60;var p=60*60;var h=60;var v=function(e){o(t,e);function t(){a(this,t);n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){var t=["minBufferTime","mediaPresentationDuration","minimumUpdatePeriod","timeShiftBufferDepth","maxSegmentDuration","maxSubsegmentDuration","suggestedPresentationDelay","start","starttime","duration"];var r=t.length;for(var n=0;n<r;n++){if(e.nodeName===t[n]){return l.test(e.value)}}return false},function(e){var t=l.exec(e);var r=parseFloat(t[2]||0)*f+parseFloat(t[4]||0)*c+parseFloat(t[6]||0)*d+parseFloat(t[8]||0)*p+parseFloat(t[10]||0)*h+parseFloat(t[12]||0);if(t[1]!==undefined){r=-r}return r})}return t}(u["default"]);t["default"]=v;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=r(55);var u=i(s);var l=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;var f=function(e){o(t,e);function t(){a(this,t);n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){return l.test(e.value)},function(e){return parseFloat(e)})}return t}(u["default"]);t["default"]=f;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=r(55);var u=i(s);var l=function(e){o(t,e);function t(){a(this,t);n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e,t){var r={MPD:["id","profiles"],Period:["id"],BaseURL:["serviceLocation","byteRange"],SegmentBase:["indexRange"],Initialization:["range"],RepresentationIndex:["range"],SegmentList:["indexRange"],BitstreamSwitching:["range"],SegmentURL:["mediaRange","indexRange"],SegmentTemplate:["indexRange","media","index","initialization","bitstreamSwitching"],AssetIdentifier:["value","id"],EventStream:["value"],AdaptationSet:["profiles","mimeType","segmentProfiles","codecs","contentType"],FramePacking:["value","id"],AudioChannelConfiguration:["value","id"],ContentProtection:["value","id"],EssentialProperty:["value","id"],SupplementalProperty:["value","id"],InbandEventStream:["value","id"],Accessibility:["value","id"],Role:["value","id"],Rating:["value","id"],Viewpoint:["value","id"],ContentComponent:["contentType"],Representation:["id","dependencyId","mediaStreamStructureId"],Subset:["id"],Metrics:["metrics"],Reporting:["value","id"]};if(r.hasOwnProperty(t)){var n=r[t];if(n!==undefined){return n.indexOf(e.name)>=0}else{return false}}return false},function(e){return String(e)})}return t}(u["default"]);t["default"]=l;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e=undefined,t=undefined;function r(e){if(!e)return;if(e.boxParser){t=e.boxParser}}function n(e){var r=t.parse(e);var n=r.getBox("tfhd");var i=r.getBox("tfdt");var a=r.getBox("trun");var o=r.getBox("moof");var s=r.getBox("mfhd");var u=r.getBox("subs");var l,f,c,d,p,h,v,y,g,m,_,b;_=s.sequence_number;c=a.sample_count;p=i.baseMediaDecodeTime;m=(n.base_data_offset||0)+(a.data_offset||0);h=[];var T=-1;var E=-1;for(y=0;y<c;y++){v=a.samples[y];l=v.sample_duration!==undefined?v.sample_duration:n.default_sample_duration;d=v.sample_size!==undefined?v.sample_size:n.default_sample_size;f=v.sample_composition_time_offset!==undefined?v.sample_composition_time_offset:0;var w={dts:p,cts:p+f,duration:l,offset:o.offset+m,size:d,subSizes:[d]};if(u){if(T<u.entry_count&&y>E){T++;E+=u.entries[T].sample_delta}if(y==E){w.subSizes=[];var S=u.entries[T];for(g=0;g<S.subsample_count;g++){w.subSizes.push(S.subsamples[g].subsample_size)}}}h.push(w);m+=d;p+=l}b=p-i.baseMediaDecodeTime;return{sampleList:h,sequenceNumber:_,totalDuration:b}}function i(e){var r=t.parse(e);var n=r.getBox("mdhd");return n?n.timescale:NaN}e={getSamplesInfo:n,getMediaTimescaleFromMoov:i,setConfig:r};return e}o.__dashjs_factory_name="FragmentedTextBoxParser";t["default"]=a["default"].getSingletonFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(56);function s(e,t){var r=e.timelineConverter;var n=undefined;function i(e,n,i,a){var s=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList;var u=s.SegmentURL_asArray.length;var l=[];var f,c,d,p,h,v,y;y=e.startNumber;p=(0,o.decideSegmentListRangeForTemplate)(r,t,e,n,i,a);h=Math.max(p.start,0);v=Math.min(p.end,s.SegmentURL_asArray.length-1);for(f=h;f<=v;f++){d=s.SegmentURL_asArray[f];c=(0,o.getIndexBasedSegment)(r,t,e,f);c.replacementTime=(y+f-1)*e.segmentDuration;c.media=d.media?d.media:"";c.mediaRange=d.mediaRange;c.index=d.index;c.indexRange=d.indexRange;l.push(c);c=null}e.availableSegmentsNumber=u;return l}n={getSegments:i};return n}s.__dashjs_factory_name="ListSegmentsGetter";var u=a["default"].getClassFactory(s);t["default"]=u;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(221);var s=n(o);var u=r(220);var l=n(u);var f=r(218);var c=n(f);function d(e,t){var r=this.context;var n=undefined,i=undefined,a=undefined,o=undefined;function u(){i=(0,s["default"])(r).create(e,t);a=(0,l["default"])(r).create(e,t);o=(0,c["default"])(r).create(e,t)}function f(e,t,r,n,s){var u;var l=e.segmentInfoType;if(l==="SegmentBase"||l==="BaseURL"||!d(e,r)){u=e.segments}else{if(l==="SegmentTimeline"){u=i.getSegments(e,t,r,s)}else if(l==="SegmentTemplate"){u=a.getSegments(e,t,r,s)}else if(l==="SegmentList"){u=o.getSegments(e,t,r,s)}if(n){n(e,u)}}return u}function d(e,t){var r=e.segments;var n=false;var i,a;if(!r||r.length===0){n=true}else{a=r[0].availabilityIdx;i=r[r.length-1].availabilityIdx;n=t<a||t>i}return n}n={getSegments:f};u();return n}d.__dashjs_factory_name="SegmentsGetter";var p=a["default"].getClassFactory(d);t["default"]=p;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(56);function s(e,t){var r=e.timelineConverter;var n=undefined;function i(e,n,i,a){var s=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate;var u=e.segmentDuration;var l=e.segmentAvailabilityRange;var f=[];var c=null;var d=null;var p,h,v,y,g;g=e.startNumber;if(isNaN(u)&&!t){p={start:g,end:g}}else{p=(0,o.decideSegmentListRangeForTemplate)(r,t,e,n,i,a)}v=p.start;y=p.end;for(h=v;h<=y;h++){d=(0,o.getIndexBasedSegment)(r,t,e,h);d.replacementTime=(g+h-1)*e.segmentDuration;c=s.media;c=(0,o.replaceTokenForTemplate)(c,"Number",d.replacementNumber);c=(0,o.replaceTokenForTemplate)(c,"Time",d.replacementTime);d.media=c;f.push(d);d=null}if(isNaN(u)){e.availableSegmentsNumber=1}else{e.availableSegmentsNumber=Math.ceil((l.end-l.start)/u)}return f}n={getSegments:i};return n}s.__dashjs_factory_name="TemplateSegmentsGetter";var u=a["default"].getClassFactory(s);t["default"]=u;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(56);function s(e,t){var r=e.timelineConverter;var n=undefined;function i(e,n,i,a){var s=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList;var u=s.SegmentTimeline;var l=s.SegmentURL_asArray;var f=e.availableSegmentsNumber>0;var c=10;var d=0;var p=0;var h=-1;var v=[];var y=false;var g,m,_,b,T,E,w,S,C,O,k,P,x,A;var M=function n(i,a){var u=s.media;var f=i.mediaRange;if(l){u=l[a].media||"";f=l[a].mediaRange}return(0,o.getTimeBasedSegment)(r,t,e,d,i.d,A,u,f,h)};A=e.timescale;g=u.S_asArray;C=(0,o.decideSegmentListRangeForTimeline)(r,t,n,i,a);if(C){P=C.start;x=C.end}else{k=r.calcMediaTimeFromPresentationTime(n||0,e)}for(_=0,b=g.length;_<b;_++){m=g[_];E=0;if(m.hasOwnProperty("r")){E=m.r}if(m.hasOwnProperty("t")){d=m.t;p=d/A}if(E<0){S=g[_+1];if(S&&S.hasOwnProperty("t")){w=S.t/A}else{var I=e.segmentAvailabilityRange?e.segmentAvailabilityRange.end:r.calcSegmentAvailabilityRange(e,t).end;w=r.calcMediaTimeFromPresentationTime(I,e);e.segmentDuration=m.d/A}E=Math.ceil((w-p)/(m.d/A))-1}if(O){if(f)break;h+=E+1;continue}for(T=0;T<=E;T++){h++;if(C){if(h>x){O=true;if(f)break;continue}if(h>=P){v.push(M(m,h))}}else{if(v.length>c){O=true;if(f)break;continue}if(y){v.push(M(m,h))}else if(p>=k-m.d/A*1.5){y=true;v.push(M(m,h))}}d+=m.d;p=d/A}}if(!f){e.availableSegmentsNumber=h+1}return v}n={getSegments:i};return n}s.__dashjs_factory_name="TimelineSegmentsGetter";var u=a["default"].getClassFactory(s);t["default"]=u;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.period=null;this.index=-1;this.type=null};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.adaptionSet=null;this.representation=null;this.period=null;this.timescale=1;this.value="";this.schemeIdUri=""};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.manifest=null;this.suggestedPresentationDelay=0;this.availabilityStartTime=null;this.availabilityEndTime=Number.POSITIVE_INFINITY;this.timeShiftBufferDepth=Number.POSITIVE_INFINITY;this.maxSegmentDuration=Number.POSITIVE_INFINITY;this.minimumUpdatePeriod=NaN;this.mediaPresentationDuration=NaN};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.id=null;this.index=-1;this.duration=NaN;this.start=NaN;this.mpd=null};i.DEFAULT_ID="defaultId";t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(42);var a=n(i);var o=r(301);var s=n(o);var u=r(16);var l=n(u);var f=r(3);var c=n(f);var d=r(2);var p=n(d);var h=r(0);var v=n(h);var y=1;var g=2;var m="request is null";function _(e){var t=this.context;var r=(0,c["default"])(t).getInstance();var n=undefined,i=undefined;function o(){i=(0,a["default"])(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}function u(e){var t=function t(n){r.trigger(p["default"].CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:n})};if(e){var n=new s["default"](e.url);i.load({request:n,success:function e(){t(true)},error:function e(){t(false)}})}else{t(false)}}function f(e){var t=function t(i,a){r.trigger(p["default"].LOADING_COMPLETED,{request:e,response:i||null,error:a||null,sender:n})};if(e){i.load({request:e,progress:function t(){r.trigger(p["default"].LOADING_PROGRESS,{request:e})},success:function e(r){t(r)},error:function e(r,n,i){t(undefined,new l["default"](y,i,n))}})}else{t(undefined,new l["default"](g,m))}}function d(){if(i){i.abort()}}function h(){if(i){i.abort();i=null}}n={checkForExistence:u,load:f,abort:d,reset:h};o();return n}_.__dashjs_factory_name="FragmentLoader";var b=v["default"].getClassFactory(_);b.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=y;b.FRAGMENT_LOADER_ERROR_NULL_REQUEST=g;t["default"]=b;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(240);var a=n(i);var o=r(42);var s=n(o);var u=r(45);var l=n(u);var f=r(22);var c=n(f);var d=r(132);var p=n(d);var h=r(16);var v=n(h);var y=r(13);var g=r(3);var m=n(g);var _=r(2);var b=n(_);var T=r(0);var E=n(T);var w=r(209);var S=n(w);var C=1;var O=2;var k="parsing failed";function P(e){var t=this.context;var r=(0,m["default"])(t).getInstance();var n=(0,l["default"])(t).getInstance();var i=(0,c["default"])(t).getInstance();var o=undefined,u=undefined,f=undefined,d=undefined;var h=e.mssHandler;function g(){r.on(b["default"].XLINK_READY,_,o);u=(0,s["default"])(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier});f=(0,a["default"])(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier});d=null}function _(e){r.trigger(b["default"].INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}function T(e){var r=null;if(e.indexOf("SmoothStreamingMedia")>-1){if(h){r=h.createMssParser();h.registerEvents()}else{i.manifestError("manifest type unsupported","createParser")}return r}else if(e.indexOf("MPD")>-1){return(0,S["default"])(t).create()}else{return r}}function E(e){var t=new p["default"](e,y.HTTPRequest.MPD_TYPE);u.load({request:t,success:function t(i,a,o){var s;var u;if(o.responseURL&&o.responseURL!==e){u=n.parseBaseUrl(o.responseURL);s=o.responseURL}else{if(n.isRelative(e)){e=n.resolve(e,window.location.href)}u=n.parseBaseUrl(e)}if(d===null){d=T(i)}if(d===null){r.trigger(b["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new v["default"](C,"Failed detecting manifest type: "+e)});return}var l=d.parse(i,f);if(l){l.url=s||e;if(!l.originalUrl){l.originalUrl=l.url}l.baseUri=u;l.loadedTime=new Date;f.resolveManifestOnLoad(l)}else{r.trigger(b["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new v["default"](C,k)})}},error:function t(n,i,a){r.trigger(b["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new v["default"](O,"Failed loading manifest: "+e+", "+a)})}})}function w(){r.off(b["default"].XLINK_READY,_,o);if(f){f.reset();f=null}if(u){u.abort();u=null}if(h){h.reset()}}o={load:E,reset:w};g();return o}P.__dashjs_factory_name="ManifestLoader";var x=E["default"].getClassFactory(P);x.MANIFEST_LOADER_ERROR_PARSING_FAILURE=C;x.MANIFEST_LOADER_ERROR_LOADING_FAILURE=O;t["default"]=x;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(3);var a=n(i);var o=r(2);var s=n(o);var u=r(0);var l=n(u);var f=r(10);var c=n(f);var d=r(4);var p=n(d);function h(){var e=this.context;var t=(0,p["default"])(e).getInstance().log;var r=(0,a["default"])(e).getInstance();var n=undefined,i=undefined,o=undefined,u=undefined,l=undefined,f=undefined,d=undefined,h=undefined,v=undefined;function y(e){if(!e)return;if(e.manifestModel){d=e.manifestModel}if(e.dashManifestModel){h=e.dashManifestModel}}function g(t){f=t;i=NaN;o=null;l=false;u=true;v=(0,c["default"])(e).getInstance();r.on(s["default"].STREAMS_COMPOSED,x,this);r.on(s["default"].PLAYBACK_STARTED,k,this);r.on(s["default"].PLAYBACK_PAUSED,P,this);r.on(s["default"].INTERNAL_MANIFEST_LOADED,O,this)}function m(e){S(e)}function _(){return f}function b(){r.off(s["default"].PLAYBACK_STARTED,k,this);r.off(s["default"].PLAYBACK_PAUSED,P,this);r.off(s["default"].STREAMS_COMPOSED,x,this);r.off(s["default"].INTERNAL_MANIFEST_LOADED,O,this);T();u=true;l=false;i=NaN;v=null}function T(){if(o!==null){clearInterval(o);o=null}}function E(){T();if(!isNaN(i)){t("Refresh manifest in "+i+" seconds.");o=setTimeout(C,i*1e3)}}function w(){l=true;var e=d.getValue();var t=e.url;var r=h.getLocation(e);if(r){t=r}f.load(t)}function S(e){d.setValue(e);var n=new Date;var a=(n.getTime()-e.loadedTime.getTime())/1e3;i=h.getManifestUpdatePeriod(e,a);r.trigger(s["default"].MANIFEST_UPDATED,{manifest:e});t("Manifest has been refreshed at "+n+"["+n.getTime()/1e3+"] ");if(!u){E()}}function C(){if(u&&!v.getScheduleWhilePaused()||l)return;w()}function O(e){if(!e.error){S(e.manifest)}}function k(){u=false;E()}function P(){u=true;T()}function x(){l=false}n={initialize:g,setManifest:m,getManifestLoader:_,refreshManifest:w,setConfig:y,reset:b};return n}h.__dashjs_factory_name="ManifestUpdater";t["default"]=l["default"].getSingletonFactory(h);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(123);var a=n(i);function o(){var e="application/dash+xml";function t(t,r,n){if(!t||t.nodeName!=="VIDEO")return null;if(t._dashjs_player)return t._dashjs_player;var i;var o=t.id||t.name||"video element";r=r||[].slice.call(t.querySelectorAll("source")).filter(function(t){return t.type==e})[0];if(!r&&t.src){r=document.createElement("source");r.src=t.src}else if(!r&&!t.src){return null}n=n||{};i=(0,a["default"])(n).create();i.initialize(t,r.src,t.autoplay);i.getDebug().log("Converted "+o+" to dash.js player and added content: "+r.src);t._dashjs_player=i;return i}function r(r,i){var a=[];r=r||"[data-dashjs-player]";i=i||document;var o=i.querySelectorAll(r);for(var s=0;s<o.length;s++){var u=t(o[s],null);a.push(u)}var l=i.querySelectorAll('source[type="'+e+'"]');for(var s=0;s<l.length;s++){var f=n(l[s]);var u=t(f,null);a.push(u)}return a}function n(e){var t=true;e:while(t){var r=e;t=false;if(r.nodeName.toLowerCase()==="video"){return r}else{e=r.parentNode;t=true;continue e}}}return{create:t,createAll:r}}var s=o();var u=undefined;function l(){window.removeEventListener("load",l);s.createAll()}function f(){if(window.dashjs){window.clearInterval(u);s.createAll()}}var c=typeof window!=="undefined"&&window&&window.dashjs&&window.dashjs.skipAutoCreate;if(!c&&typeof window!=="undefined"&&window&&window.addEventListener){if(window.document.readyState==="complete"){if(window.dashjs){s.createAll()}else{u=window.setInterval(f,500)}}else{window.addEventListener("load",l)}}t["default"]=s;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(93);var a=n(i);var o=r(231);var s=n(o);var u=r(34);var l=n(u);var f=r(235);var c=n(f);var d=r(236);var p=n(d);var h=r(28);var v=n(h);var y=r(43);var g=n(y);var m=r(21);var _=n(m);var b=r(30);var T=n(b);var E=r(205);var w=n(E);var S=r(206);var C=n(S);var O=r(207);var k=n(O);var P=r(26);var x=n(P);var A=r(3);var M=n(A);var I=r(2);var R=n(I);var D=r(4);var j=n(D);var L=r(0);var N=n(L);var F=r(35);var B=n(F);function U(e){var t=1;var r=this.context;var n=(0,j["default"])(r).getInstance().log;var i=(0,M["default"])(r).getInstance();var o=e.manifestModel;var u=e.manifestUpdater;var f=e.adapter;var d=e.capabilities;var h=e.errHandler;var y=e.timelineConverter;var m=e.baseURLController;var b=undefined,E=undefined,S=undefined,O=undefined,P=undefined,A=undefined,I=undefined,D=undefined,L=undefined,N=undefined,F=undefined,U=undefined,H=undefined,V=undefined,q=undefined,G=undefined;function z(){E=[];S=false;O=false;P=null;A={};I=false;D=false;N=(0,a["default"])(r).getInstance();F=(0,T["default"])(r).getInstance();q=(0,v["default"])(r).getInstance();U=(0,l["default"])(r).getInstance();H=(0,p["default"])(r).create();G=(0,B["default"])(r).getInstance();i.on(R["default"].BUFFERING_COMPLETED,_e,b);i.on(R["default"].DATA_UPDATE_COMPLETED,be,b)}function K(e,t){P=e;L=t;if(L){i.on(R["default"].KEY_ERROR,se,b);i.on(R["default"].SERVER_CERTIFICATE_UPDATED,se,b);i.on(R["default"].LICENSE_REQUEST_COMPLETE,se,b);i.on(R["default"].KEY_SYSTEM_SELECTED,se,b);i.on(R["default"].KEY_SESSION_CREATED,se,b)}}function Y(e){if(!S){i.on(R["default"].CURRENT_TRACK_CHANGED,fe,b);ve(e);S=true}}function W(){var e=E.length;for(var t=0;t<e;t++){E[t].reset()}E=[];S=false;O=false;ie();i.off(R["default"].CURRENT_TRACK_CHANGED,fe,b)}function X(){if(F){F.pause();F=null}if(H){H.reset();H=null}W();U=null;q=null;u=null;o=null;f=null;d=null;n=null;h=null;I=false;D=false;A={};i.off(R["default"].DATA_UPDATE_COMPLETED,be,b);i.off(R["default"].BUFFERING_COMPLETED,_e,b);i.off(R["default"].KEY_ERROR,se,b);i.off(R["default"].SERVER_CERTIFICATE_UPDATED,se,b);i.off(R["default"].LICENSE_REQUEST_COMPLETE,se,b);i.off(R["default"].KEY_SYSTEM_SELECTED,se,b);i.off(R["default"].KEY_SESSION_CREATED,se,b)}function Q(){return P.duration}function $(){return P.start}function J(){return P.index}function Z(){return P.id}function ee(){return P}function te(e){return ge(e)!==null}function re(e){var t=ge(e);return q.getBitrateList(t)}function ne(){if(V){V.start()}}function ie(){if(V){V.clear()}}function ae(){return S}function oe(){return D}function se(e){if(e.error){h.mediaKeySessionError(e.error);n(e.error);X()}}function ue(e){return e.type==="text"?e.mimeType:e.type}function le(e,t,i){var a=e.type;var s,u;if(a==="muxed"&&e){u="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines";n(u);h.manifestError(u,"multiplexedrep",o.getValue());return false}if(a==="text"||a==="fragmentedText"||a==="embeddedText")return true;s=e.codec;n(a+" codec: "+s);if(!!e.contentProtection&&!d.supportsEncryptedMedia()){h.capabilityError("encryptedmedia")}else if(!d.supportsCodec((0,g["default"])(r).getInstance().getElement(),s)){u=a+"Codec ("+s+") is not supported.";h.manifestError(u,"codec",i);n(u);return false}return true}function fe(e){if(e.newMediaInfo.streamInfo.id!==P.id)return;var t=Te(e.oldMediaInfo);if(!t)return;var r=F.getTime();var n=t.getBuffer();var i=e.newMediaInfo;var a=o.getValue();var s=E.indexOf(t);var u=t.getMediaSource();if(i.type!=="fragmentedText"){t.reset(true);pe(i,a,u,{buffer:n,replaceIdx:s,currentTime:r});F.seek(F.getTime())}else{t.updateMediaInfo(a,i)}}function ce(e){var t=e.split("/")[1];return"webm"===t.toLowerCase()}function de(e){var t=ce(e.mimeType)?(0,k["default"])(r).getInstance():(0,C["default"])(r).getInstance();t.setConfig({baseURLController:m,metricsModel:(0,_["default"])(r).getInstance()});t.initialize();var n=(0,w["default"])(r).create({segmentBaseLoader:t,timelineConverter:y,dashMetrics:(0,x["default"])(r).getInstance(),metricsModel:(0,_["default"])(r).getInstance(),baseURLController:m});return n}function pe(e,t,n,i){var a=(0,s["default"])(r).create({indexHandler:de(e),timelineConverter:y,adapter:f,manifestModel:o});var u=f.getAllMediaInfoForType(t,P,e.type);a.initialize(ue(e),H,n,b,V);q.updateTopQualityIndex(e);if(i){a.setBuffer(i.buffer);a.getIndexHandler().setCurrentTime(i.currentTime);E[i.replaceIdx]=a}else{E.push(a)}if(e.type==="text"||e.type==="fragmentedText"){var l;for(var c=0;c<u.length;c++){if(u[c].index===e.index){l=c}a.updateMediaInfo(t,u[c])}if(e.type==="fragmentedText"){a.updateMediaInfo(t,u[l])}}else{a.updateMediaInfo(t,e)}}function he(e,t){var r=o.getValue();var i=f.getAllMediaInfoForType(r,P,e);var a=null;var s;if(!i||i.length===0){n("No "+e+" data.");return}for(var u=0,l=i.length;u<l;u++){a=i[u];if(e==="embeddedText"){G.addEmbeddedTrack(a)}else{if(!le(a,t,r))continue;if(U.isMultiTrackSupportedByType(a.type)){U.addTrack(a,P)}}}if(e==="embeddedText"||U.getTracksFor(e,P).length===0){return}U.checkInitialMediaSettingsForType(e,P);s=U.getCurrentTrackFor(e,P);pe(s,r,t)}function ve(e){var t=o.getValue();var i;V=(0,c["default"])(r).getInstance();V.initialize();V.setConfig({manifestModel:o,manifestUpdater:u});i=f.getEventsFor(t,P);V.addInlineEvents(i);I=true;he("video",e);he("audio",e);he("text",e);he("fragmentedText",e);he("embeddedText",e);he("muxed",e);me();O=true;I=false;if(E.length===0){var a="No streams to play.";h.manifestError(a,"nostreams",t);n(a)}else{N.initialize(y,E[0]);ye()}}function ye(){var e=E.length;var r=!!A.audio||!!A.video;var n=r?new Error(t,"Data update failed",null):null;var a=0;for(a;a<e;a++){if(E[a].isUpdating()||I)return}D=true;if(!O)return;if(L){L.initialize(o.getValue(),ge("audio"),ge("video"))}i.trigger(R["default"].STREAM_INITIALIZED,{streamInfo:P,error:n})}function ge(e){var t=E.length;var r=null;for(var n=0;n<t;n++){r=E[n];if(r.getType()===e)return r.getMediaInfo()}return null}function me(){for(var e=0,t=E.length;e<t;e++){E[e].createBuffer()}}function _e(e){if(e.streamInfo!==P)return;var t=Ee();var r=t.length;var n=0;for(n;n<r;n++){if(!t[n].isBufferingCompleted())return}i.trigger(R["default"].STREAM_BUFFERING_COMPLETED,{streamInfo:P})}function be(e){var t=e.sender.getStreamProcessor();if(t.getStreamInfo()!==P)return;A[t.getType()]=e.error;ye()}function Te(e){if(!e)return false;var t=Ee();return t.filter(function(t){return t.getType()===e.type})[0]}function Ee(){var e=E.length;var t=[];var r=0;var n,i;for(r;r<e;r++){i=E[r];n=i.getType();if(n==="audio"||n==="video"||n==="fragmentedText"){t.push(i)}}return t}function we(e){n("Manifest updated... updating data system wide.");var t=o.getValue();S=false;I=true;D=false;P=e;if(V){var r=f.getEventsFor(t,P);V.addInlineEvents(r)}for(var i=0,a=E.length;i<a;i++){var s=E[i];var u=f.getMediaInfoForType(t,P,s.getType());q.updateTopQualityIndex(u);s.updateMediaInfo(t,u)}I=false;ye()}b={initialize:K,activate:Y,deactivate:W,getDuration:Q,getStartTime:$,getStreamIndex:J,getId:Z,getStreamInfo:ee,hasMedia:te,getBitrateListFor:re,startEventController:ne,isActivated:ae,isInitialized:oe,updateData:we,reset:X,getProcessors:Ee};z();return b}U.__dashjs_factory_name="Stream";t["default"]=N["default"].getClassFactory(U);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(28);var a=n(i);var o=r(29);var s=n(o);var u=r(82);var l=n(u);var f=r(34);var c=n(f);var d=r(288);var p=n(d);var h=r(238);var v=n(h);var y=r(10);var g=n(y);var m=r(21);var _=n(m);var b=r(226);var T=n(b);var E=r(62);var w=n(E);var S=r(57);var C=n(S);var O=r(35);var k=n(O);var P=r(27);var x=n(P);var A=r(26);var M=n(A);var I=r(208);var R=n(I);var D=r(22);var j=n(D);var L=r(0);var N=n(L);function F(e){var t=this.context;var r=e.indexHandler;var n=e.timelineConverter;var i=e.adapter;var o=e.manifestModel;var u=undefined,f=undefined,d=undefined,h=undefined,y=undefined,m=undefined,b=undefined,E=undefined,S=undefined,O=undefined,P=undefined,A=undefined,I=undefined,D=undefined;function L(){y=[]}function N(e,s,u,l,c){h=e;m=l;b=c;A=s;f=m.getStreamInfo().manifestInfo.isDynamic;r.initialize(this);E=(0,a["default"])(t).getInstance();E.initialize(h,this);S=fe(e);O=(0,v["default"])(t).create({metricsModel:(0,_["default"])(t).getInstance(),manifestModel:o,adapter:i,dashMetrics:(0,M["default"])(t).getInstance(),dashManifestModel:(0,x["default"])(t).getInstance(),timelineConverter:n,mediaPlayerModel:(0,g["default"])(t).getInstance()});S.initialize(h,u,this);O.initialize(h,this);I=(0,T["default"])(t).create({metricsModel:(0,_["default"])(t).getInstance(),errHandler:(0,j["default"])(t).getInstance(),requestModifier:(0,w["default"])(t).getInstance()});D=O.getFragmentModel();D.setLoader(I);P=(0,R["default"])(t).create();P.initialize(this)}function F(e){r.reset();if(S){S.reset(e);S=null}if(O){O.reset();O=null}if(P){P.reset();P=null}A=null;I=null;b=null;m=null;f=null;d=null;y=[];h=null}function B(){return P.isUpdating()}function U(){return h}function H(){return E}function V(){return P}function q(){return I}function G(){return r}function z(){return A}function K(){return S.getBuffer()}function Y(e){S.setBuffer(e)}function W(){return S}function X(){return D}function Q(){return m?m.getStreamInfo():null}function $(e,t){if(t!==d&&(!t||!d||t.type===d.type)){d=t}if(y.indexOf(t)===-1){y.push(t)}i.updateData(e,this)}function J(){return y}function Z(){return d}function ee(){return S.getMediaSource()}function te(){return O}function re(){return b}function ne(){O.start()}function ie(){O.stop()}function ae(){return i.getCurrentRepresentationInfo(o.getValue(),P)}function oe(e){return i.getRepresentationInfoForQuality(o.getValue(),P,e)}function se(){return S.getIsBufferingCompleted()}function ue(){return S.getBuffer()||S.createBuffer(d)}function le(){return f}function fe(e){var r=null;if(e==="video"||e==="audio"){r=(0,s["default"])(t).create({metricsModel:(0,_["default"])(t).getInstance(),manifestModel:o,sourceBufferController:(0,C["default"])(t).getInstance(),errHandler:(0,j["default"])(t).getInstance(),streamController:(0,l["default"])(t).getInstance(),mediaController:(0,c["default"])(t).getInstance(),adapter:i,textController:(0,k["default"])(t).getInstance()})}else{r=(0,p["default"])(t).create({type:e,metricsModel:(0,_["default"])(t).getInstance(),manifestModel:o,sourceBufferController:(0,C["default"])(t).getInstance(),errHandler:(0,j["default"])(t).getInstance(),streamController:(0,l["default"])(t).getInstance(),mediaController:(0,c["default"])(t).getInstance(),adapter:i,textController:(0,k["default"])(t).getInstance()})}return r}u={initialize:N,isUpdating:B,getType:U,getBufferController:W,getABRController:H,getFragmentLoader:q,getFragmentModel:X,getScheduleController:te,getEventController:re,getFragmentController:z,getRepresentationController:V,getIndexHandler:G,getCurrentRepresentationInfo:ae,getRepresentationInfoForQuality:oe,isBufferingCompleted:se,createBuffer:ue,getStreamInfo:Q,updateMediaInfo:$,getMediaInfoArr:J,getMediaInfo:Z,getMediaSource:ee,getBuffer:K,setBuffer:Y,start:ne,stop:ie,isDynamic:le,reset:F};L();return u}F.__dashjs_factory_name="StreamProcessor";t["default"]=N["default"].getClassFactory(F);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(16);var a=n(i);var o=r(42);var s=n(o);var u=r(13);var l=r(132);var f=n(l);var c=r(3);var d=n(c);var p=r(2);var h=n(p);var v=r(0);var y=n(v);var g=1;function m(e){var t="urn:mpeg:dash:resolve-to-zero:2013";var r=this.context;var n=(0,d["default"])(r).getInstance();var i=(0,s["default"])(r).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier});var o=undefined;function l(e,r,o){var s=function t(i,s){r.resolved=true;r.resolvedContent=i?i:null;n.trigger(h["default"].XLINK_ELEMENT_LOADED,{element:r,resolveObject:o,error:i||s?null:new a["default"](g,"Failed loading Xlink element: "+e)})};if(e===t){s(null,true)}else{var l=new f["default"](e,u.HTTPRequest.XLINK_TYPE);i.load({request:l,success:function e(t){s(t)},error:function e(){s(null)}})}}function c(){if(i){i.abort();i=null}}o={load:l,reset:c};return o}m.__dashjs_factory_name="XlinkLoader";var _=y["default"].getClassFactory(m);_.XLINK_LOADER_ERROR_LOADING_FAILURE=g;t["default"]=_;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(260);var a=n(i);var o=r(290);var s=n(o);var u=r(45);var l=n(u);var f=r(120);var c=n(f);var d=r(0);var p=n(d);var h=r(3);var v=n(h);var y=r(2);var g=n(y);function m(){var e=undefined;var t=this.context;var r=(0,v["default"])(t).getInstance();var n=(0,l["default"])(t).getInstance();var i=undefined,o=undefined;function u(e){i.invalidateSelectedIndexes(e.entry)}function f(){i=(0,a["default"])(t).create();o=(0,s["default"])(t).create();r.on(g["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,u,e)}function d(e){if(e.baseURLTreeModel){i=e.baseURLTreeModel}if(e.baseURLSelector){o=e.baseURLSelector}}function p(e){i.update(e);o.chooseSelectorFromManifest(e)}function h(e){var t=i.getForPath(e);var r=t.reduce(function(e,t){var r=o.select(t);if(r){if(!n.isRelative(r.url)){e.url=r.url;e.serviceLocation=r.serviceLocation}else{e.url=n.resolve(r.url,e.url)}}else{return new c["default"]}return e},new c["default"]);if(!n.isRelative(r.url)){return r}}function y(){i.reset();o.reset()}function m(e){p(e)}e={reset:y,initialize:m,resolve:h,setConfig:d};f();return e}m.__dashjs_factory_name="BaseURLController";t["default"]=p["default"].getSingletonFactory(m);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(3);var s=n(o);function u(e){var t=[];var r=(0,s["default"])(this.context).getInstance();var n=e.updateEventName;var i=e.loadFailedEventName;function a(e){if(!t.length||!e||!e.length){return false}return t.indexOf(e)!==-1}function o(e){if(t.indexOf(e)!==-1){return}t.push(e);r.trigger(n,{entry:e})}function u(e){if(e.error){o(e.request.serviceLocation)}}function l(){if(i){r.on(i,u,this)}}function f(){t=[]}l();return{add:o,contains:a,reset:f}}u.__dashjs_factory_name="BlackListController";t["default"]=a["default"].getClassFactory(u);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(30);var a=n(i);var o=r(0);var s=n(o);var u=r(4);var l=n(u);var f=r(3);var c=n(f);function d(){var e="urn:mpeg:dash:event:2012";var t=1;var r=this.context;var n=(0,l["default"])(r).getInstance().log;var i=(0,c["default"])(r).getInstance();var o=undefined,s=undefined,u=undefined,f=undefined,d=undefined,p=undefined,h=undefined,v=undefined,y=undefined,g=undefined,m=undefined;function _(){m=false;s={};u={};f={};d=null;p=100;h=p/1e3;g=(0,a["default"])(r).getInstance()}function b(){if(d!==null&&m){clearInterval(d);d=null;m=false}}function T(){n("Start Event Controller");if(!m&&!isNaN(p)){m=true;d=setInterval(C,p)}}function E(e){s={};if(e){for(var t=0;t<e.length;t++){var r=e[t];s[r.id]=r;n("Add inline event with id "+r.id)}}n("Added "+e.length+" inline events")}function w(e){for(var t=0;t<e.length;t++){var r=e[t];if(!(r.id in u)){u[r.id]=r;n("Add inband event with id "+r.id)}else{n("Repeated event with id "+r.id)}}}function S(){if(f){var e=g.getTime();var t=Object.keys(f);for(var r=0;r<t.length;r++){var i=t[r];var a=f[i];if(a!==null&&(a.duration+a.presentationTime)/a.eventStream.timescale<e){n("Remove Event "+i+" at time "+e);a=null;delete f[i]}}}}function C(){k(u);k(s);S()}function O(){var e=v.getValue();var t=e.url;if(e.hasOwnProperty("Location")){t=e.Location}n("Refresh manifest @ "+t);y.getManifestLoader().load(t)}function k(r){var a=g.getTime();var o;if(r){var s=Object.keys(r);for(var u=0;u<s.length;u++){var l=s[u];var c=r[l];if(c!==undefined){o=c.presentationTime/c.eventStream.timescale;if(o===0||o<=a&&o+h>a){n("Start Event "+l+" at "+a);if(c.duration>0){f[l]=c}if(c.eventStream.schemeIdUri==e&&c.eventStream.value==t){O()}else{i.trigger(c.eventStream.schemeIdUri,{event:c})}delete r[l]}}}}}function P(e){if(!e)return;if(e.manifestModel){v=e.manifestModel}if(e.manifestUpdater){y=e.manifestUpdater}}function x(){b();s=null;u=null;f=null;g=null}o={initialize:_,addInlineEvents:E,addInbandEvents:w,clear:b,start:T,setConfig:P,reset:x};return o}d.__dashjs_factory_name="EventController";t["default"]=s["default"].getSingletonFactory(d);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(13);var a=r(300);var o=n(a);var s=r(59);var u=n(s);var l=r(21);var f=n(l);var c=r(3);var d=n(c);var p=r(2);var h=n(p);var v=r(0);var y=n(v);var g=r(4);var m=n(g);function _(){var e=this.context;var t=(0,m["default"])(e).getInstance().log;var r=(0,d["default"])(e).getInstance();var n=undefined,a=undefined;function s(){a={};r.on(h["default"].FRAGMENT_LOADING_COMPLETED,y,n)}function l(t){var r=a[t];if(!r){r=(0,u["default"])(e).create({metricsModel:(0,f["default"])(e).getInstance()});a[t]=r}return r}function c(e){return e&&e.type&&e.type===i.HTTPRequest.INIT_SEGMENT_TYPE}function p(){r.off(h["default"].FRAGMENT_LOADING_COMPLETED,y,this);for(var e in a){a[e].reset()}a={}}function v(e,t,r){var n=new o["default"];n.streamId=r;n.mediaInfo=t.mediaInfo;n.segmentType=t.type;n.start=t.startTime;n.duration=t.duration;n.end=n.start+n.duration;n.bytes=e;n.index=t.index;n.quality=t.quality;n.representationId=t.representationId;return n}function y(e){if(a[e.request.mediaType]!==e.sender)return;var n=e.request;var i=e.response;var o=c(n);var s=n.mediaInfo.streamInfo;if(!i||!s){t("No "+n.mediaType+" bytes to push or stream is inactive.");return}var u=v(i,n,s.id);r.trigger(o?h["default"].INIT_FRAGMENT_LOADED:h["default"].MEDIA_FRAGMENT_LOADED,{chunk:u,fragmentModel:e.sender})}n={getModel:l,isInitializationRequest:c,reset:p};s();return n}_.__dashjs_factory_name="FragmentController";t["default"]=y["default"].getClassFactory(_);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e=undefined;function t(){var e="WebKitMediaSource"in window;var t="MediaSource"in window;if(t){return new MediaSource}else if(e){return new WebKitMediaSource}return null}function r(e,t){var r=window.URL.createObjectURL(e);t.setSource(r);return r}function n(e){e.setSource(null)}function i(e,t){if(e.duration!=t)e.duration=t;return e.duration}function a(e){var t=e.sourceBuffers;var r=t.length;var n=0;if(e.readyState!=="open")return;for(n;n<r;n++){if(t[n].updating)return;if(t[n].buffered.length===0)return}e.endOfStream()}e={createMediaSource:t,attachMediaSource:r,detachMediaSource:n,setDuration:i,signalEndOfStream:a};return e}o.__dashjs_factory_name="MediaSourceController";t["default"]=a["default"].getSingletonFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(133);var a=r(30);var o=n(a);var s=r(28);var u=n(s);var l=r(29);var f=n(l);var c=r(34);var d=n(c);var p=r(284);var h=n(p);var v=r(285);var y=n(v);var g=r(35);var m=n(g);var _=r(59);var b=n(_);var T=r(57);var E=n(T);var w=r(93);var S=n(w);var C=r(3);var O=n(C);var k=r(2);var P=n(k);var x=r(0);var A=n(x);var M=r(82);var I=n(M);var R=r(4);var D=n(R);function j(e){var t=this.context;var r=(0,D["default"])(t).getInstance().log;var n=(0,O["default"])(t).getInstance();var a=e.metricsModel;var s=e.manifestModel;var l=e.adapter;var c=e.dashMetrics;var p=e.dashManifestModel;var v=e.timelineConverter;var g=e.mediaPlayerModel;var _=undefined,T=undefined,w=undefined,C=undefined,k=undefined,x=undefined,A=undefined,M=undefined,R=undefined,j=undefined,L=undefined,N=undefined,F=undefined,B=undefined,U=undefined,H=undefined,V=undefined,q=undefined,G=undefined,z=undefined,K=undefined,Y=undefined,W=undefined,X=undefined,Q=undefined,$=undefined,J=undefined,Z=undefined;function ee(){x=true;J=NaN;Q=NaN;$={};Z=[];A=true;M=null;R=null;j=true;L=false;N=0;B=NaN}function te(e,r){T=e;q=r;U=(0,o["default"])(t).getInstance();H=(0,d["default"])(t).getInstance();V=(0,u["default"])(t).getInstance();G=(0,I["default"])(t).getInstance();z=q.getFragmentController();K=q.getBufferController();w=z.getModel(T);C=q.isDynamic();X=g.getScheduleWhilePaused();Y=(0,h["default"])(t).create({dashMetrics:c,metricsModel:a,textController:(0,m["default"])(t).getInstance()});W=(0,y["default"])(t).create({adapter:l,sourceBufferController:(0,E["default"])(t).getInstance(),textController:(0,m["default"])(t).getInstance()});if(p.getIsTextTrack(T)){n.on(P["default"].TIMED_TEXT_REQUESTED,Oe,this)}n.on(P["default"].QUALITY_CHANGE_REQUESTED,ce,this);n.on(P["default"].DATA_UPDATE_STARTED,Te,this);n.on(P["default"].DATA_UPDATE_COMPLETED,pe,this);n.on(P["default"].FRAGMENT_LOADING_COMPLETED,ge,this);n.on(P["default"].STREAM_COMPLETED,ye,this);n.on(P["default"].STREAM_INITIALIZED,he,this);n.on(P["default"].BUFFER_LEVEL_STATE_CHANGED,we,this);n.on(P["default"].BUFFER_CLEARED,Ee,this);n.on(P["default"].BYTES_APPENDED,_e,this);n.on(P["default"].INIT_REQUESTED,ue,this);n.on(P["default"].QUOTA_EXCEEDED,Se,this);n.on(P["default"].PLAYBACK_SEEKING,Pe,this);n.on(P["default"].PLAYBACK_STARTED,ke,this);n.on(P["default"].PLAYBACK_RATE_CHANGED,xe,this);n.on(P["default"].PLAYBACK_TIME_UPDATED,me,this);n.on(P["default"].URL_RESOLUTION_FAILED,Ce,this);n.on(P["default"].FRAGMENT_LOADING_ABANDONED,be,this)}function re(){if(!k||K.getIsBufferingCompleted())return;Ue();A=false;if(x){x=false}se(0);r("Schedule controller starting for "+T)}function ne(){if(A)return;A=true;clearTimeout(F);r("Schedule controller stopping for "+T)}function ie(e,t){$[t]=$[t]||{};var n=V.getTopQualityIndexFor(e,t);if($[t][e]!=n){r("Top quality"+e+" index has changed from "+$[t][e]+" to "+n);$[t][e]=n;return true}return false}function ae(){if(A||L||!K||U.isPaused()&&!X)return;oe();var e=Z.length>0;if(e||ie(k.mediaInfo.type,q.getStreamInfo().id)||Y.execute(q,T,G.isVideoTrackPresent())){var t=function e(){if(k.quality!==J){J=k.quality;K.switchInitData(q.getStreamInfo().id,k.id)}else{var t=Z.shift();if(z.isInitializationRequest(t)){K.switchInitData(t.mediaInfo.streamInfo.id,t.representationId)}else{var r=W.execute(q,t);if(r){w.executeRequest(r)}else{L=false;se(500)}}}};L=true;if(e){t()}else{V.getPlaybackQuality(q);t()}}else{se(500)}}function oe(){var e=k.fragmentDuration*1.5;var t=w.getRequests({state:b["default"].FRAGMENT_MODEL_EXECUTED,time:U.getTime()+e,threshold:0})[0];if(t&&Z.indexOf(t)===-1&&!p.getIsTextTrack(T)){if(!H.isCurrentTrack(t.mediaInfo)||g.getFastSwitchEnabled()&&t.quality<k.quality&&K.getBufferLevel()>=e&&V.getAbandonmentStateFor(T)!==u["default"].ABANDON_LOAD){fe(t);r("Reloading outdated fragment at index: ",t.index)}else if(t.quality>k.quality){Me(U.getTime()+K.getBufferLevel())}}}function se(e){clearTimeout(F);F=setTimeout(ae,e)}function ue(e){if(!e.sender||e.sender.getStreamProcessor()!==q)return;le(k.quality)}function le(e){J=e;var t=l.getInitRequest(q,e);if(t){L=true;w.executeRequest(t)}}function fe(e){Z.push(e)}function ce(e){if(T!==e.mediaType||q.getStreamInfo().id!==e.streamInfo.id)return;k=q.getRepresentationInfoForQuality(e.newQuality);if(k===null||k===undefined){throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined")}Be(new Date,i.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON);Ue()}function de(e){if(U){var t=w.getRequests({state:b["default"].FRAGMENT_MODEL_EXECUTED,time:U.getTime(),threshold:0})[0];if(t&&U.getTime()>=t.startTime){if(t.quality!==Q&&e){n.trigger(P["default"].QUALITY_CHANGE_RENDERED,{mediaType:T,oldQuality:Q,newQuality:t.quality})}Q=t.quality}}}function pe(e){if(e.error||e.sender.getStreamProcessor()!==q)return;k=l.convertDataToTrack(s.getValue(),e.currentRepresentation)}function he(e){if(e.error||q.getStreamInfo().id!==e.streamInfo.id)return;k=q.getCurrentRepresentationInfo();if(C&&x){v.setTimeSyncCompleted(true);ve()}if(A){re()}}function ve(){var e=(0,S["default"])(t).getInstance().getLiveEdge();var r=k.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2;var n=e-U.computeLiveDelay(k.fragmentDuration,r);var i=l.getFragmentRequestForTime(q,k,n,{ignoreIsFinished:true});B=U.getLiveStartTime();if(isNaN(B)||i.startTime>B){U.setLiveStartTime(i.startTime);B=i.startTime}var o=c.getCurrentManifestUpdate(a.getMetricsFor("stream"));a.updateManifestUpdateInfo(o,{currentTime:B,presentationStartTime:e,latency:e-B,clientTimeOffset:v.getClientTimeOffset()})}function ye(e){if(e.fragmentModel!==w)return;ne();L=false;r("Stream is complete")}function ge(e){if(e.sender!==w)return;if(p.getIsTextTrack(T)){L=false}if(e.error&&e.request.serviceLocation&&!A){fe(e.request);L=false;se(0)}}function me(){de(true)}function _e(e){if(e.sender.getStreamProcessor()!==q)return;L=false;se(0)}function be(e){if(e.streamProcessor!==q)return;fe(e.request);L=false;se(0)}function Te(e){if(e.sender.getStreamProcessor()!==q)return;ne()}function Ee(e){if(e.sender.getStreamProcessor()!==q)return;w.removeExecutedRequestsBeforeTime(e.to);if(e.hasEnoughSpaceToAppend&&A){re()}}function we(e){if(e.sender.getStreamProcessor()===q&&e.state===f["default"].BUFFER_EMPTY&&!U.isSeeking()){r("Buffer is empty! Stalling!");Be(new Date,i.PlayListTrace.REBUFFERING_REASON)}}function Se(e){if(e.sender.getStreamProcessor()!==q)return;ne()}function Ce(){w.abortRequests();ne()}function Oe(e){if(e.sender.getStreamProcessor()!==q)return;le(e.index)}function ke(){if(A||!X){re()}}function Pe(e){B=e.seekTime;Re(0);if(A){re()}var t=c.getCurrentManifestUpdate(a.getMetricsFor("stream"));var r=k.DVRWindow?k.DVRWindow.end-U.getTime():NaN;a.updateManifestUpdateInfo(t,{latency:r})}function xe(e){if(R){R.playbackspeed=e.playbackRate.toString()}}function Ae(){return B}function Me(e){B=e}function Ie(){return w}function Re(e){N=e}function De(){return N}function je(){return q}function Le(){return Y.getBufferTarget(q,T,G.isVideoTrackPresent())}function Ne(e){M=e}function Fe(e,t){Be(e,t);M=null}function Be(e,t){if(M&&j===false){var r=R.start;var n=e.getTime()-r.getTime();R.duration=n;R.stopreason=t;M.trace.push(R);j=true}}function Ue(){if(M&&j===true&&k){j=false;R=new i.PlayListTrace;R.representationid=k.id;R.start=new Date;R.mstart=U.getTime()*1e3;R.playbackspeed=U.getPlaybackRate().toString()}}function He(){n.off(P["default"].DATA_UPDATE_STARTED,Te,this);n.off(P["default"].DATA_UPDATE_COMPLETED,pe,this);n.off(P["default"].BUFFER_LEVEL_STATE_CHANGED,we,this);n.off(P["default"].QUALITY_CHANGE_REQUESTED,ce,this);n.off(P["default"].FRAGMENT_LOADING_COMPLETED,ge,this);n.off(P["default"].STREAM_COMPLETED,ye,this);n.off(P["default"].STREAM_INITIALIZED,he,this);n.off(P["default"].QUOTA_EXCEEDED,Se,this);n.off(P["default"].BYTES_APPENDED,_e,this);n.off(P["default"].BUFFER_CLEARED,Ee,this);n.off(P["default"].INIT_REQUESTED,ue,this);n.off(P["default"].PLAYBACK_RATE_CHANGED,xe,this);n.off(P["default"].PLAYBACK_SEEKING,Pe,this);n.off(P["default"].PLAYBACK_STARTED,ke,this);n.off(P["default"].PLAYBACK_TIME_UPDATED,me,this);n.off(P["default"].URL_RESOLUTION_FAILED,Ce,this);n.off(P["default"].FRAGMENT_LOADING_ABANDONED,be,this);if(p.getIsTextTrack(T)){n.off(P["default"].TIMED_TEXT_REQUESTED,Oe,this)}ne();de(false);L=false;N=0;B=NaN;U=null;M=null}_={initialize:te,getStreamProcessor:je,getSeekTarget:Ae,setSeekTarget:Me,getFragmentModel:Ie,setTimeToLoadDelay:Re,getTimeToLoadDelay:De,replaceRequest:fe,start:re,stop:ne,reset:He,setPlayList:Ne,getBufferTarget:Le,finalisePlayList:Fe};ee();return _}j.__dashjs_factory_name="ScheduleController";t["default"]=A["default"].getClassFactory(j);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(16);var a=n(i);var o=r(3);var s=n(o);var u=r(2);var l=n(u);var f=r(0);var c=n(f);var d=r(4);var p=n(d);var h=1;var v=5e3;function y(){var e=this.context;var t=(0,p["default"])(e).getInstance().log;var r=(0,s["default"])(e).getInstance();var n=undefined,i=undefined,o=undefined,u=undefined,f=undefined,c=undefined,d=undefined,y=undefined;function g(e,t){f=t;i=0;o=false;u=false;c={"urn:mpeg:dash:utc:http-head:2014":I,"urn:mpeg:dash:utc:http-xsdate:2014":M.bind(null,O),"urn:mpeg:dash:utc:http-iso:2014":M.bind(null,k),"urn:mpeg:dash:utc:direct:2014":A,"urn:mpeg:dash:utc:http-head:2012":I,"urn:mpeg:dash:utc:http-xsdate:2012":M.bind(null,O),"urn:mpeg:dash:utc:http-iso:2012":M.bind(null,k),"urn:mpeg:dash:utc:direct:2012":A,"urn:mpeg:dash:utc:http-ntp:2014":x,"urn:mpeg:dash:utc:ntp:2014":x,"urn:mpeg:dash:utc:sntp:2014":x};if(!T()){j(e);E(true)}}function m(e){if(!e)return;if(e.metricsModel){d=e.metricsModel}if(e.dashMetrics){y=e.dashMetrics}}function _(){return S()}function b(e){o=e}function T(){return o}function E(e){u=e}function w(e){i=e}function S(){return i}function C(e){var t=60;var r=60;var n=1e3;var i=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/;var a,o;var s=i.exec(e);a=Date.UTC(parseInt(s[1],10),parseInt(s[2],10)-1,parseInt(s[3],10),parseInt(s[4],10),parseInt(s[5],10),s[6]&&(parseInt(s[6],10)||0),s[7]&&parseFloat(s[7])*n||0);if(s[9]&&s[10]){o=parseInt(s[9],10)*r+parseInt(s[10],10);a+=(s[8]==="+"?-1:+1)*o*t*n}return new Date(a).getTime()}function O(e){var t=Date.parse(e);if(isNaN(t)){t=C(e)}return t}function k(e){return Date.parse(e)}function P(e){return Date.parse(e)}function x(e,t,r){r()}function A(e,t,r){var n=O(e);if(!isNaN(n)){t(n);return}r()}function M(e,t,r,n,i){var a,o;var s=false;var u=new XMLHttpRequest;var l=i?"HEAD":"GET";var f=t.match(/\S+/g);t=f.shift();a=function(){if(s){return}s=true;if(f.length){M(e,f.join(" "),r,n,i)}else{n()}};o=function(){var t,n;if(u.status===200){t=i?u.getResponseHeader("Date"):u.response;n=e(t);if(!isNaN(n)){r(n);s=true}}};u.open(l,t);u.timeout=v||0;u.onload=o;u.onloadend=a;u.send()}function I(e,t,r){M(P,e,t,r,true)}function R(){var e=d.getReadOnlyMetricsFor("stream");var t=y.getLatestMPDRequestHeaderValueByID(e,"Date");var r=t!==null?new Date(t).getTime():Number.NaN;if(!isNaN(r)){w(r-(new Date).getTime());D(false,r/1e3,i)}else{D(true)}}function D(e,t,n){b(false);r.trigger(l["default"].TIME_SYNCHRONIZATION_COMPLETED,{time:t,offset:n,error:e?new a["default"](h):null})}function j(e,r){var n=r||0;var i=e[n];var a=function e(t,r){var n=!t||!r;if(n&&f){R()}else{D(n,t,r)}};b(true);if(i){if(c.hasOwnProperty(i.schemeIdUri)){c[i.schemeIdUri](i.value,function(e){var r=(new Date).getTime();var n=e-r;w(n);t("Local time:      "+new Date(r));t("Server time:     "+new Date(e));t("Difference (ms): "+n);a(e,n)},function(){j(e,n+1)})}else{j(e,n+1)}}else{w(0);a()}}function L(){E(false);b(false)}n={initialize:g,getOffsetToDeviceTimeMs:_,setConfig:m,reset:L};return n}y.__dashjs_factory_name="TimeSyncController";var g=c["default"].getSingletonFactory(y);g.TIME_SYNC_FAILED_ERROR_CODE=h;g.HTTP_TIMEOUT_MS=v;t["default"]=g;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(232);var a=n(i);var o=r(3);var s=n(o);var u=r(2);var l=n(u);var f=r(0);var c=n(f);var d=r(77);var p=n(d);var h=r(45);var v=n(h);var y="onLoad";var g="onActuate";var m="Period";var _="AdaptationSet";var b="EventStream";var T="urn:mpeg:dash:resolve-to-zero:2013";function E(e){var t=this.context;var r=(0,s["default"])(t).getInstance();var n=(0,v["default"])(t).getInstance();var i=undefined,o=undefined,u=undefined,f=undefined,c=undefined,d=undefined;function h(){r.on(l["default"].XLINK_ELEMENT_LOADED,k,i);d=(0,a["default"])(t).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}function E(e){o=e}function w(e){u=e}function S(e){var t;c=new p["default"]({escapeMode:false,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:false,enableToStringFunc:false,ignoreRoot:true,matchers:o});f=e;t=x(f.Period_asArray,f,m,y);O(t,m,y)}function C(){r.off(l["default"].XLINK_ELEMENT_LOADED,k,i);if(d){d.reset();d=null}}function O(e,t,r){var i={};var a,o,s;i.elements=e;i.type=t;i.resolveType=r;if(i.elements.length===0){P(i)}for(s=0;s<i.elements.length;s++){a=i.elements[s];if(n.isHTTPURL(a.url)){o=a.url}else{o=a.originalContent.BaseURL+a.url}d.load(o,a,i)}}function k(e){var t,r,n;var i="<response>";var a="</response>";var o="";t=e.element;r=e.resolveObject;if(t.resolvedContent){n=t.resolvedContent.indexOf(">")+1;o=t.resolvedContent.substr(0,n)+i+t.resolvedContent.substr(n)+a;t.resolvedContent=c.xml_str2json(o)}if(I(r)){P(r)}}function P(e){var t=[];var n,i;A(e);if(e.resolveType===g){r.trigger(l["default"].XLINK_READY,{manifest:f})}if(e.resolveType===y){switch(e.type){case m:for(n=0;n<f[m+"_asArray"].length;n++){i=f[m+"_asArray"][n];if(i.hasOwnProperty(_+"_asArray")){t=t.concat(x(i[_+"_asArray"],i,_,y))}if(i.hasOwnProperty(b+"_asArray")){t=t.concat(x(i[b+"_asArray"],i,b,y))}}O(t,_,y);break;case _:r.trigger(l["default"].XLINK_READY,{manifest:f});break}}}function x(e,t,r,n){var i=[];var a,o,s;for(o=e.length-1;o>=0;o--){a=e[o];if(a.hasOwnProperty("xlink:href")&&a["xlink:href"]===T){e.splice(o,1)}}for(o=0;o<e.length;o++){a=e[o];if(a.hasOwnProperty("xlink:href")&&a.hasOwnProperty("xlink:actuate")&&a["xlink:actuate"]===n){s=M(a["xlink:href"],t,r,o,n,a);i.push(s)}}return i}function A(e){var t=[];var r,n,i,a,o,s;for(a=e.elements.length-1;a>=0;a--){r=e.elements[a];n=r.type+"_asArray";if(!r.resolvedContent||R()){delete r.originalContent["xlink:actuate"];delete r.originalContent["xlink:href"];t.push(r.originalContent)}else if(r.resolvedContent){for(o=0;o<r.resolvedContent[n].length;o++){i=r.resolvedContent[n][o];t.push(i)}}r.parentElement[n].splice(r.index,1);for(s=0;s<t.length;s++){r.parentElement[n].splice(r.index+s,0,t[s])}t=[]}if(e.elements.length>0){u.run(f)}}function M(e,t,r,n,i,a){return{url:e,parentElement:t,type:r,index:n,resolveType:i,originalContent:a,resolvedContent:null,resolved:false}}function I(e){var t,r;for(t=0;t<e.elements.length;t++){r=e.elements[t];if(r.resolved===false){return false}}return true}function R(){return false}i={resolveManifestOnLoad:S,setMatchers:E,setIron:w,reset:C};h();return i}E.__dashjs_factory_name="XlinkController";t["default"]=c["default"].getClassFactory(E);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(252);var a=n(i);var o=r(58);var s=n(o);var u=r(242);var l=n(u);var f=r(124);var c=n(f);var d=r(125);var p=n(d);var h=r(0);var v=n(h);function y(){var e=this.context;var t=undefined;var r=undefined;function n(t){r=(0,a["default"])(e).getInstance({eventBus:t.eventBus,metricsModel:t.metricsModel});return(0,l["default"])(e).create(t)}function i(){return(0,p["default"])(e).getInstance()}function o(){return(0,c["default"])(e).getInstance()}t={createMetricsReporting:n,getReportingFactory:i,getMetricsHandlerFactory:o};return t}y.__dashjs_factory_name="MetricsReporting";var g=v["default"].getClassFactory(y);g.events=s["default"];t["default"]=g;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(243);var a=n(i);var o=r(253);var s=n(o);var u=r(0);var l=n(u);var f=r(58);var c=n(f);var d=r(2);var p=n(d);function h(e){var t={};var r=this.context;var n=e.eventBus;function i(i){if(i.error){return}var o=Object.keys(t);var u=(0,s["default"])(r).getInstance({dashManifestModel:e.dashManifestModel}).getMetrics(i.manifest);u.forEach(function(n){var i=JSON.stringify(n);if(!t.hasOwnProperty(i)){try{var s=(0,a["default"])(r).create(e);s.initialize(n);t[i]=s}catch(e){}}else{o.splice(i,1)}});o.forEach(function(e){t[e].reset();delete t[e]});n.trigger(c["default"].METRICS_INITIALISATION_COMPLETE)}function o(){Object.keys(t).forEach(function(e){t[e].reset()});t={}}function u(){n.on(p["default"].MANIFEST_UPDATED,i);n.on(p["default"].STREAM_TEARDOWN_COMPLETE,o)}u();return{}}h.__dashjs_factory_name="MetricsCollectionController";t["default"]=l["default"].getClassFactory(h);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(245);var s=n(o);var u=r(246);var l=n(u);var f=r(244);var c=n(f);function d(e){var t=undefined,r=undefined,n=undefined,i=undefined;var a=this.context;function o(i){try{n=(0,s["default"])(a).create({mediaElement:e.mediaElement});n.initialize(i.Range);r=(0,l["default"])(a).create({log:e.log});r.initialize(i.Reporting,n);t=(0,c["default"])(a).create({log:e.log,eventBus:e.eventBus});t.initialize(i.metrics,r)}catch(e){u();throw e}}function u(){if(t){t.reset()}if(r){r.reset()}if(n){n.reset()}}i={initialize:o,reset:u};return i}d.__dashjs_factory_name="MetricsController";t["default"]=a["default"].getClassFactory(d);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(124);var a=n(i);var o=r(0);var s=n(o);var u=r(41);var l=n(u);function f(e){var t=[];var r=undefined;var n=this.context;var i=e.eventBus;var o=(0,a["default"])(n).getInstance({log:e.log,eventBus:e.eventBus});function s(e){t.forEach(function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)})}function u(e,n){e.split(",").forEach(function(e,r,i){var a;if(e.indexOf("(")!==-1&&e.indexOf(")")===-1){var s=i[r+1];if(s&&s.indexOf("(")===-1&&s.indexOf(")")!==-1){e+=","+s;delete i[r+1]}}a=o.create(e,n);if(a){t.push(a)}});i.on(l["default"].METRIC_ADDED,s,r);i.on(l["default"].METRIC_UPDATED,s,r)}function f(){i.off(l["default"].METRIC_ADDED,s,r);i.off(l["default"].METRIC_UPDATED,s,r);t.forEach(function(e){return e.reset()});t=[]}r={initialize:u,reset:f};return r}f.__dashjs_factory_name="MetricsHandlersController";t["default"]=s["default"].getClassFactory(f);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(131);var s=n(o);function u(e){var t=false;var r=this.context;var n=undefined,i=undefined;var a=e.mediaElement;function o(e){if(e&&e.length){e.forEach(function(e){var t=e.starttime;var r=t+e.duration;i.add(t,r)});t=!!e[0]._useWallClockTime}}function u(){i.clear()}function l(){i=(0,s["default"])(r).create()}function f(){var e=i.length;var r;if(!e){return true}r=t?(new Date).getTime()/1e3:a.currentTime;for(var n=0;n<e;n+=1){var o=i.start(n);var s=i.end(n);if(o<=r&&r<s){return true}}return false}n={initialize:o,reset:u,isEnabled:f};l();return n}u.__dashjs_factory_name="RangeController";t["default"]=a["default"].getClassFactory(u);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(125);var s=n(o);function u(e){var t=[];var r=undefined;var n=(0,s["default"])(this.context).getInstance({log:e.log});function i(e,r){e.some(function(e){var i=n.create(e,r);if(i){t.push(i);return true}})}function a(){t.forEach(function(e){return e.reset()});t=[]}function o(e,r){t.forEach(function(t){return t.report(e,r)})}r={initialize:i,reset:a,report:o};return r}u.__dashjs_factory_name="ReportingController";t["default"]=a["default"].getClassFactory(u);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(126);var s=n(o);function u(){var e=undefined,t=undefined,r=undefined,n=undefined,i=undefined,a=undefined;var o=this.context;var u=(0,s["default"])(o).getInstance();var l=[];function f(){try{return Object.keys(l).map(function(e){return l[e]}).reduce(function(e,t){return e.level<t.level?e:t})}catch(e){return}}function c(){var e=f();if(e){if(a!==e.t){a=e.t;t.report(n,e)}}}function d(e,a,o){if(a){r=u.validateN(o);t=a;n=u.reconstructFullMetricName(e,o);i=setInterval(c,r)}}function p(){clearInterval(i);i=null;r=0;t=null;a=null}function h(e,t,r){if(e==="BufferLevel"){l[r]=t}}e={initialize:d,reset:p,handleNewMetric:h};return e}u.__dashjs_factory_name="BufferLevelHandler";t["default"]=a["default"].getClassFactory(u);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(58);var s=n(o);function u(e){var t=undefined,r=undefined;var n=e.eventBus;function i(){n.off(s["default"].METRICS_INITIALISATION_COMPLETE,i,this);n.trigger(s["default"].BECAME_REPORTING_PLAYER)}function a(e,t){if(t){r=t;n.on(s["default"].METRICS_INITIALISATION_COMPLETE,i,this)}}function o(){r=null}function u(e,t){if(e==="DVBErrors"){if(r){r.report(e,t)}}}t={initialize:a,reset:o,handleNewMetric:u};return t}t["default"]=a["default"].getClassFactory(u);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e=undefined,t=undefined,r=undefined;function n(e,n){t=e;r=n}function i(){r=null;t=undefined}function a(e,n){if(e===t){if(r){r.report(t,n)}}}e={initialize:n,reset:i,handleNewMetric:a};return e}o.__dashjs_factory_name="GenericMetricHandler";t["default"]=a["default"].getClassFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(126);var s=n(o);function u(){var e=undefined,t=undefined,r=undefined,n=undefined,i=undefined,a=undefined;var o=[];var u=(0,s["default"])(this.context).getInstance();function l(){var e=o;if(e.length){if(t){t.report(i,e)}}o=[]}function f(e,o,s,f){if(o){r=u.validateN(s);t=o;if(f&&f.length){n=f}i=u.reconstructFullMetricName(e,s,f);a=setInterval(l,r)}}function c(){clearInterval(a);a=null;r=null;n=null;o=[];t=null}function d(e,t){if(e==="HttpList"){if(!n||n===t.type){o.push(t)}}}e={initialize:f,reset:c,handleNewMetric:d};return e}u.__dashjs_factory_name="HttpListHandler";t["default"]=a["default"].getClassFactory(u);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(254);var s=n(o);var u=r(255);var l=n(u);function f(){var e=undefined;var t=this.context;var r=(0,s["default"])(t).getInstance();var n=(0,l["default"])(t).getInstance();var i=true;var a=false;var o=false;var u=null;var f=null;var c=true;var d=[];function p(e,t,r){var n=new XMLHttpRequest;var i=function e(){var i=d.indexOf(n);if(i===-1){return}else{d.splice(i,1)}if(n.status>=200&&n.status<300){if(t){t()}}else{if(r){r()}}};d.push(n);try{n.open("GET",e);n.onloadend=i;n.onerror=i;n.send()}catch(e){n.onerror()}}function h(e,t){if(!Array.isArray(t)){t=[t]}if(a&&f.isEnabled()){t.forEach(function(t){var n=r.serialise(t);if(i&&e!=="DVBErrors"){n="metricname="+e+"&"+n}n=u+"?"+n;p(n,null,function(){a=false})})}}function v(e,t){var r;f=t;u=e["dvb:reportingUrl"];if(!u){throw new Error("required parameter missing (dvb:reportingUrl)")}if(!o){r=e["dvb:probability"]||e["dvb:priority"]||0;if(r&&(r===1e3||r/1e3>=n.random())){a=true}o=true}}function y(){if(!c){d.forEach(function(e){return e.abort()});d=[]}o=false;a=false;u=null;f=null}e={report:h,initialize:v,reset:y};return e}f.__dashjs_factory_name="DVBReporting";t["default"]=a["default"].getClassFactory(f);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(256);var a=n(i);var o=r(2);var s=n(o);var u=r(41);var l=n(u);var f=r(58);var c=n(f);var d=r(0);var p=n(d);function h(e){var t=undefined;var r=e.eventBus;var n=e.metricsModel;var i=undefined;function o(e){var t=new a["default"];if(!i){return}for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}if(!t.mpdurl){t.mpdurl=i.originalUrl||i.url}if(!t.terror){t.terror=new Date}n.addDVBErrors(t)}function u(e){if(e.error){return}i=e.manifest}function f(e){o({errorcode:a["default"].BASE_URL_CHANGED,servicelocation:e.entry})}function d(){o({errorcode:a["default"].BECAME_REPORTER})}function p(e){if(e.responsecode===0||e.responsecode>=400||e.responsecode<100||e.responsecode>=600){o({errorcode:e.responsecode||a["default"].CONNECTION_ERROR,url:e.url,terror:e.tresponse,servicelocation:e._serviceLocation})}}function h(e){switch(e.metric){case"HttpList":p(e.value);break;default:break}}function v(e){var t=e.error?e.error.code:0;var r;switch(t){case MediaError.MEDIA_ERR_NETWORK:r=a["default"].CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:r=a["default"].CORRUPT_MEDIA_OTHER;break;default:return}o({errorcode:r})}function y(){r.on(s["default"].MANIFEST_UPDATED,u,t);r.on(s["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,f,t);r.on(l["default"].METRIC_ADDED,h,t);r.on(l["default"].METRIC_UPDATED,h,t);r.on(l["default"].PLAYBACK_ERROR,v,t);r.on(c["default"].BECAME_REPORTING_PLAYER,d,t)}function g(){r.off(s["default"].MANIFEST_UPDATED,u,t);r.off(s["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,f,t);r.off(l["default"].METRIC_ADDED,h,t);r.off(l["default"].METRIC_UPDATED,h,t);r.off(l["default"].PLAYBACK_ERROR,v,t);r.off(c["default"].BECAME_REPORTING_PLAYER,d,t)}t={initialise:y,reset:g};y();return t}h.__dashjs_factory_name="DVBErrorsTranslator";t["default"]=p["default"].getSingletonFactory(h);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(257);var a=n(i);var o=r(258);var s=n(o);var u=r(259);var l=n(u);var f=r(0);var c=n(f);function d(e){var t=undefined;var r=e.dashManifestModel;function n(e,t,n){var i=r.getMpd(e);var a;var o=0;var s;if(t){o=i.availabilityStartTime.getTime()/1e3}else{a=this.getRegularPeriods(e,i);if(a.length){o=a[0].start}}s=o;if(n&&n.hasOwnProperty("starttime")){s+=n.starttime}return s}function i(e){var t=[];if(e.Metrics_asArray){e.Metrics_asArray.forEach(function(i){var o=new a["default"];var u=r.getIsDynamic(e);if(i.hasOwnProperty("metrics")){o.metrics=i.metrics}else{return}if(i.Range_asArray){i.Range_asArray.forEach(function(t){var i=new s["default"];i.starttime=n(e,u,t);if(t.hasOwnProperty("duration")){i.duration=t.duration}else{i.duration=r.getDuration(e)}i._useWallClockTime=u;o.Range.push(i)})}if(i.Reporting_asArray){i.Reporting_asArray.forEach(function(e){var t=new l["default"];if(e.hasOwnProperty("schemeIdUri")){t.schemeIdUri=e.schemeIdUri}else{return}for(var r in e){if(e.hasOwnProperty(r)){t[r]=e[r]}}o.Reporting.push(t)})}else{return}t.push(o)})}return t}t={getMetrics:i};return t}d.__dashjs_factory_name="ManifestParsing";t["default"]=c["default"].getSingletonFactory(d);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){function e(t){var r=[];var n=[];var i,a;for(i in t){if(t.hasOwnProperty(i)&&i.indexOf("_")!==0){a=t[i];if(a===undefined||a===null){a=""}if(Array.isArray(a)){if(!a.length){continue}n=[];a.forEach(function(t){var r=Object.prototype.toString.call(t).slice(8,-1)!=="Object";n.push(r?t:e(t))});a=n.map(encodeURIComponent).join(",")}else if(typeof a==="string"){a=encodeURIComponent(a)}else if(a instanceof Date){a=a.toISOString()}else if(typeof a==="number"){a=Math.round(a)}r.push(i+"="+a)}}return r.join("&")}return{serialise:e}}o.__dashjs_factory_name="MetricSerialiser";t["default"]=a["default"].getSingletonFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e=window.crypto||window.msCrypto;var t=Uint32Array;var r=Math.pow(2,t.BYTES_PER_ELEMENT*8)-1;var n=10;var i=undefined,a=undefined,o=undefined;function s(){if(e){if(!i){i=new t(n)}e.getRandomValues(i);a=0}}function u(t,n){var o;if(!t){t=0}if(!n){n=1}if(e){if(a===i.length){s()}o=i[a]/r;a+=1}else{o=Math.random()}return o*(n-t)+t}o={random:u};s();return o}o.__dashjs_factory_name="RNG";t["default"]=a["default"].getSingletonFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.mpdurl=null;this.errorcode=null;this.terror=null;this.url=null;this.ipaddress=null;this.servicelocation=null};i.SSL_CONNECTION_FAILED_PREFIX="SSL";i.DNS_RESOLUTION_FAILED="C00";i.HOST_UNREACHABLE="C01";i.CONNECTION_REFUSED="C02";i.CONNECTION_ERROR="C03";i.CORRUPT_MEDIA_ISOBMFF="M00";i.CORRUPT_MEDIA_OTHER="M01";i.BASE_URL_CHANGED="F00";i.BECAME_REPORTER="S00";t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.metrics="";this.Range=[];this.Reporting=[]};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.starttime=0;this.duration=Infinity;this._useWallClockTime=false};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.schemeIdUri="";this.value=""};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=r(27);var o=n(a);var s=r(294);var u=n(s);var l=r(0);var f=n(l);var c=NaN;var d=function e(t,r){i(this,e);this.data={baseUrls:t||null,selectedIdx:r||c};this.children=[]};function p(){var e=undefined;var t=undefined;var r=this.context;var n=(0,o["default"])(r).getInstance();var i=(0,u["default"])(r).getInstance();function a(){t=new d}function s(e,t,r){var a=n.getBaseURLsFromElement(r);if(!e[t]){e[t]=new d(a)}else{if(!i.areSimpleEquivalent(a,e[t].data.baseUrls)){e[t].data.baseUrls=a;e[t].data.selectedIdx=c}}}function l(e){var r=n.getBaseURLsFromElement(e);if(!i.areSimpleEquivalent(r,t.data.baseUrls)){t.data.baseUrls=r;t.data.selectedIdx=c}if(e.Period_asArray){e.Period_asArray.forEach(function(e,r){s(t.children,r,e);if(e.AdaptationSet_asArray){e.AdaptationSet_asArray.forEach(function(e,i){s(t.children[r].children,i,e);if(e.Representation_asArray){e.Representation_asArray.sort(n.getRepresentationSortFunction()).forEach(function(e,n){s(t.children[r].children[i].children,n,e)})}})}})}}function f(e,r){var n=r||t;e(n.data);if(n.children){n.children.forEach(function(t){return f(e,t)})}}function p(e){f(function(t){if(!isNaN(t.selectedIdx)){if(e===t.baseUrls[t.selectedIdx].serviceLocation){t.selectedIdx=c}}})}function h(e){l(e)}function v(){t=new d}function y(e){var r=t;var n=[r.data];e.forEach(function(e){r=r.children[e];if(r){n.push(r.data)}});return n.filter(function(e){return e.baseUrls.length})}e={reset:v,update:h,getForPath:y,invalidateSelectedIndexes:p};a();return e}p.__dashjs_factory_name="BaseURLTreeModel";t["default"]=f["default"].getClassFactory(p);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=r(54);var u=i(s);var l=function(e){o(t,e);function t(){a(this,t);n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.INTERNAL_KEY_MESSAGE="internalKeyMessage";this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected";this.KEY_ADDED="public_keyAdded";this.KEY_ERROR="public_keyError";this.KEY_MESSAGE="public_keyMessage";this.KEY_SESSION_CLOSED="public_keySessionClosed";this.KEY_SESSION_CREATED="public_keySessionCreated";this.KEY_SESSION_REMOVED="public_keySessionRemoved";this.KEY_STATUSES_CHANGED="public_keyStatusesChanged";this.KEY_SYSTEM_ACCESS_COMPLETE="keySystemAccessComplete";this.KEY_SYSTEM_SELECTED="public_keySystemSelected";this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete";this.NEED_KEY="needkey";this.PROTECTION_CREATED="public_protectioncreated";this.PROTECTION_DESTROYED="public_protectiondestroyed";this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated";this.TEARDOWN_COMPLETE="protectionTeardownComplete";this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return t}(u["default"]);var f=new l;t["default"]=f;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(44);var a=n(i);var o=r(2);var s=n(o);var u=r(273);var l=n(u);var f=r(87);var c=n(f);var d=r(0);var p=n(d);var h=r(127);var v=n(h);function y(e){var t=e.protectionKeyController;var r=e.protectionModel;var n=e.adapter;var i=e.eventBus;var o=e.log;var u=undefined,f=undefined,d=undefined,p=undefined,h=undefined,y=undefined,g=undefined,m=undefined,_=undefined,b=undefined;function T(){f=t.getKeySystems();d=[];g=false;m="temporary";_="";s["default"].extend(v["default"].events)}function E(e,r,i){if(!g){var a;if(!r&&!i){a=n.getStreamsInfo(e)[0]}p=r||(a?n.getMediaInfoForType(e,a,"audio"):null);h=i||(a?n.getMediaInfoForType(e,a,"video"):null);var o=h?h:p;var s=t.getSupportedKeySystemsFromContentProtection(o.contentProtection);if(s&&s.length>0){D(s,true)}g=true}}function w(e){var n=a["default"].getPSSHForKeySystem(b,e);if(n){var u=r.getAllInitData();for(var l=0;l<u.length;l++){if(t.initDataEquals(n,u[l])){o("DRM: Ignoring initData because we have already seen it!");return}}try{r.createKeySession(n,m)}catch(e){i.trigger(s["default"].KEY_SESSION_CREATED,{data:null,error:"Error creating key session! "+e.message})}}else{i.trigger(s["default"].KEY_SESSION_CREATED,{data:null,error:"Selected key system is "+b.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!"})}}function S(e){r.loadKeySession(e)}function C(e){r.removeKeySession(e)}function O(e){r.closeKeySession(e)}function k(e){r.setServerCertificate(e)}function P(e){if(e){r.setMediaElement(e);i.on(s["default"].NEED_KEY,N,this);i.on(s["default"].INTERNAL_KEY_MESSAGE,L,this)}else if(e===null){r.setMediaElement(e);i.off(s["default"].NEED_KEY,N,this);i.off(s["default"].INTERNAL_KEY_MESSAGE,L,this)}}function x(e){m=e}function A(e){_=e}function M(e){y=e}function I(){P(null);b=undefined;if(r){r.reset();r=null}}function R(e){var t=null;var r=e.systemString;if(y){t=r in y?y[r]:null}return t}function D(e,t){var n=this;var a=[];var u=[];if(h){u.push(new l["default"](h.codec,_))}if(p){a.push(new l["default"](p.codec,_))}var f=new c["default"](a,u,"optional",m==="temporary"?"optional":"required",[m]);var v=[];var y;if(b){for(y=0;y<e.length;y++){if(b===e[y].ks){var g=function(){v.push({ks:e[y].ks,configs:[f]});var a=function r(a){i.off(s["default"].KEY_SYSTEM_ACCESS_COMPLETE,r,n);if(a.error){if(!t){i.trigger(s["default"].KEY_SYSTEM_SELECTED,{error:"DRM: KeySystem Access Denied! -- "+a.error})}}else{o("DRM: KeySystem Access Granted");i.trigger(s["default"].KEY_SYSTEM_SELECTED,{data:a.data});w(e[y].initData)}};i.on(s["default"].KEY_SYSTEM_ACCESS_COMPLETE,a,n);r.requestKeySystemAccess(v);return"break"}();if(g==="break")break}}}else if(b===undefined){b=null;d.push(e);for(var T=0;T<e.length;T++){v.push({ks:e[T].ks,configs:[f]})}var E;var S=function e(a){i.off(s["default"].KEY_SYSTEM_ACCESS_COMPLETE,e,n);if(a.error){b=undefined;i.off(s["default"].INTERNAL_KEY_SYSTEM_SELECTED,C,n);if(!t){i.trigger(s["default"].KEY_SYSTEM_SELECTED,{data:null,error:"DRM: KeySystem Access Denied! -- "+a.error})}}else{E=a.data;o("DRM: KeySystem Access Granted ("+E.keySystem.systemString+")!  Selecting key system...");r.selectKeySystem(E)}};var C=function e(a){i.off(s["default"].INTERNAL_KEY_SYSTEM_SELECTED,e,n);i.off(s["default"].KEY_SYSTEM_ACCESS_COMPLETE,S,n);if(!a.error){b=r.getKeySystem();i.trigger(s["default"].KEY_SYSTEM_SELECTED,{data:E});for(var o=0;o<d.length;o++){for(y=0;y<d[o].length;y++){if(b===d[o][y].ks){w(d[o][y].initData);break}}}}else{b=undefined;if(!t){i.trigger(s["default"].KEY_SYSTEM_SELECTED,{data:null,error:"DRM: Error selecting key system! -- "+a.error})}}};i.on(s["default"].INTERNAL_KEY_SYSTEM_SELECTED,C,n);i.on(s["default"].KEY_SYSTEM_ACCESS_COMPLETE,S,n);r.requestKeySystemAccess(v)}else{d.push(e)}}function j(e,t){i.trigger(s["default"].LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function L(e){o("DRM: onKeyMessage");if(e.error){o(e.error);return}var n=e.data;i.trigger(s["default"].KEY_MESSAGE,{data:n});var u=n.messageType?n.messageType:"license-request";var l=n.message;var f=n.sessionToken;var c=R(b);var d=b.systemString;var p=t.getLicenseServer(b,c,u);var h={sessionToken:f,messageType:u};if(!p){o("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+f.getSessionID());j(h);return}if(t.isClearKey(b)){var v=t.processClearKeyLicenseRequest(c,l);if(v){o("DRM: ClearKey license request handled by application!");j(h);r.updateKeySession(f,v);return}}var y=new XMLHttpRequest;var g=null;if(c&&c.serverURL){var m=c.serverURL;if(typeof m==="string"&&m!==""){g=m}else if(typeof m==="object"&&m.hasOwnProperty(u)){g=m[u]}}else if(c&&c.laURL&&c.laURL!==""){g=c.laURL}else{g=b.getLicenseServerURLFromInitData(a["default"].getPSSHData(f.initData));if(!g){g=e.data.laURL}}g=p.getServerURLFromMessage(g,l,u);if(!g){j(h,"DRM: No license server URL specified!");return}y.open(p.getHTTPMethod(u),g,true);y.responseType=p.getResponseType(d,u);y.onload=function(){if(this.status==200){j(h);r.updateKeySession(f,p.getLicenseMessage(this.response,d,u))}else{j(h,"DRM: "+d+' update, XHR status is "'+this.statusText+'" ('+this.status+"), expected to be 200. readyState is "+this.readyState+".  Response is "+(this.response?p.getErrorResponse(this.response,d,u):"NONE"))}};y.onabort=function(){j(h,"DRM: "+d+' update, XHR aborted. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)};y.onerror=function(){j(h,"DRM: "+d+' update, XHR error. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)};var _=function e(t){var r;if(t){for(r in t){if("authorization"===r.toLowerCase()){y.withCredentials=true}y.setRequestHeader(r,t[r])}}};if(c){_(c.httpRequestHeaders)}_(b.getRequestHeadersFromMessage(l));if(c&&c.withCredentials){y.withCredentials=true}y.send(b.getLicenseRequestFromMessage(l))}function N(e){o("DRM: onNeedKey");if(e.key.initDataType!=="cenc"){o("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType);return}var r=e.key.initData;if(ArrayBuffer.isView(r)){r=r.buffer}o("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(r)));var n=t.getSupportedKeySystems(r,y);if(n.length===0){o("DRM: Received needkey event with initData, but we don't support any of the key systems!");return}D(n,false)}u={initialize:E,createKeySession:w,loadKeySession:S,removeKeySession:C,closeKeySession:O,setServerCertificate:k,setMediaElement:P,setSessionType:x,setRobustnessLevel:A,setProtectionData:M,reset:I};T();return u}y.__dashjs_factory_name="ProtectionController";t["default"]=p["default"].getClassFactory(y);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(129);var a=n(i);var o=r(128);var s=n(o);var u=r(44);var l=n(u);var f=r(0);var c=n(f);var d="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b";var p="org.w3.clearkey";var h="urn:uuid:"+d;function v(){var e=undefined;function t(e,t){var r=null;if(e){var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));var i=[];for(var o=0;o<n.kids.length;o++){var u=n.kids[o];var l=e.clearkeys.hasOwnProperty(u)?e.clearkeys[u]:null;if(!l){throw new Error("DRM: ClearKey keyID ("+u+") is not known!")}i.push(new a["default"](u,l))}r=new s["default"](i)}return r}function r(e){return l["default"].parseInitDataFromContentProtection(e)}function n(){return null}function i(e){return new Uint8Array(e)}function o(){return null}e={uuid:d,schemeIdURI:h,systemString:p,getInitData:r,getRequestHeadersFromMessage:n,getLicenseRequestFromMessage:i,getLicenseServerURLFromInitData:o,getClearKeysFromProtectionData:t};return e}v.__dashjs_factory_name="KeySystemClearKey";t["default"]=c["default"].getSingletonFactory(v);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(44);var a=n(i);var o=r(16);var s=n(o);var u=r(0);var l=n(u);var f=r(76);var c=n(f);var d="9a04f079-9840-4286-ab92-e65be0885f95";var p="com.microsoft.playready";var h="urn:uuid:"+d;function v(){var e=undefined;var t="utf16";function r(e){var r,n;var i={};var a=new DOMParser;var o=t==="utf16"?new Uint16Array(e):new Uint8Array(e);r=String.fromCharCode.apply(null,o);n=a.parseFromString(r,"application/xml");var s=n.getElementsByTagName("name");var u=n.getElementsByTagName("value");for(var l=0;l<s.length;l++){i[s[l].childNodes[0].nodeValue]=u[l].childNodes[0].nodeValue}if(i.hasOwnProperty("Content")){i["Content-Type"]=i.Content;delete i.Content}return i}function n(e){var r,n;var i=null;var a=new DOMParser;var o=t==="utf16"?new Uint16Array(e):new Uint8Array(e);r=String.fromCharCode.apply(null,o);n=a.parseFromString(r,"application/xml");if(n.getElementsByTagName("Challenge")[0]){var s=n.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;if(s){i=c["default"].decode(s)}}return i}function i(e){if(e){var t=new DataView(e);var r=t.getUint16(4,true);var n=6;var i=new DOMParser;for(var a=0;a<r;a++){var o=t.getUint16(n,true);n+=2;var s=t.getUint16(n,true);n+=2;if(o!==1){n+=s;continue}var u=e.slice(n,n+s);var l=String.fromCharCode.apply(null,new Uint16Array(u));var f=i.parseFromString(l,"application/xml");if(f.getElementsByTagName("LA_URL")[0]){var c=f.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(c){return c}}if(f.getElementsByTagName("LUI_URL")[0]){var d=f.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(d){return d}}}}return null}function o(e){var t=new Uint8Array([112,115,115,104,0,0,0,0]);var r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);var n=0;var i=null;var o,s,u,l,f;if("pssh"in e){return a["default"].parseInitDataFromContentProtection(e)}if("pro"in e){i=c["default"].decodeArray(e.pro.__text)}else if("prheader"in e){i=c["default"].decodeArray(e.prheader.__text)}else{return null}o=i.length;s=4+t.length+r.length+4+o;u=new ArrayBuffer(s);l=new Uint8Array(u);f=new DataView(u);f.setUint32(n,s);n+=4;l.set(t,n);n+=t.length;l.set(r,n);n+=r.length;f.setUint32(n,o);n+=4;l.set(i,n);n+=o;return l.buffer}function u(e){if(e!=="utf8"&&e!=="utf16"){throw new s["default"]("Illegal PlayReady message format! -- "+e)}t=e}e={uuid:d,schemeIdURI:h,systemString:p,getInitData:o,getRequestHeadersFromMessage:r,getLicenseRequestFromMessage:n,getLicenseServerURLFromInitData:i,setPlayReadyMessageFormat:u};return e}v.__dashjs_factory_name="KeySystemPlayReady";t["default"]=l["default"].getSingletonFactory(v);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(44);var a=n(i);var o=r(0);var s=n(o);var u="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";var l="com.widevine.alpha";var f="urn:uuid:"+u;function c(){var e=undefined;function t(e){return a["default"].parseInitDataFromContentProtection(e)}function r(){return null}function n(e){return new Uint8Array(e)}function i(){return null}e={uuid:u,schemeIdURI:f,systemString:l,getInitData:t,getRequestHeadersFromMessage:r,getLicenseRequestFromMessage:n,getLicenseServerURLFromInitData:i};return e}c.__dashjs_factory_name="KeySystemWidevine";t["default"]=s["default"].getSingletonFactory(c);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(61);var a=n(i);var o=r(88);var s=n(o);var u=r(84);var l=n(u);var f=r(85);var c=n(f);var d=r(87);var p=n(d);var h=r(86);var v=n(h);var y=r(2);var g=n(y);var m=r(22);var _=n(m);var b=r(0);var T=n(b);function E(e){var t=this.context;var r=e.eventBus;var n=e.log;var i=e.api;var o=undefined,u=undefined,f=undefined,d=undefined,h=undefined,y=undefined,m=undefined,b=undefined,T=undefined;function E(){u=null;f=null;y=[];m=[];d=(0,a["default"])(t).getInstance();h=(0,_["default"])(t).getInstance();T=j()}function w(){if(u){N()}for(var e=0;e<m.length;e++){M(m[e])}r.trigger(g["default"].TEARDOWN_COMPLETE)}function S(){return f}function C(){var e=[];for(var t=0;t<y.length;t++){e.push(y[t].initData)}for(var t=0;t<m.length;t++){e.push(m[t].initData)}return e}function O(e){var t=u;if(!t){t=document.createElement("video")}var n=false;for(var i=0;i<e.length;i++){var a=e[i].ks.systemString;var o=e[i].configs;var s=null;var l=null;for(var f=0;f<o.length;f++){var c=o[f].videoCapabilities;if(c&&c.length!==0){l=[];for(var h=0;h<c.length;h++){if(t.canPlayType(c[h].contentType,a)!==""){l.push(c[h])}}}if(!s&&!l||s&&s.length===0||l&&l.length===0){continue}n=true;var y=new p["default"](s,l);var m=d.getKeySystemBySystemString(a);r.trigger(g["default"].KEY_SYSTEM_ACCESS_COMPLETE,{data:new v["default"](m,y)});break}}if(!n){r.trigger(g["default"].KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}}function k(e){f=e.keySystem;r.trigger(g["default"].INTERNAL_KEY_SYSTEM_SELECTED)}function P(e){if(u===e){return}if(u){N()}u=e;if(u){u.addEventListener(i.keyerror,T);u.addEventListener(i.needkey,T);u.addEventListener(i.keymessage,T);u.addEventListener(i.keyadded,T);r.trigger(g["default"].VIDEO_ELEMENT_SELECTED)}}function x(e){if(!f){throw new Error("Can not create sessions until you have selected a key system")}if(b||m.length===0){var t={sessionID:null,initData:e,getSessionID:function e(){return this.sessionID},getExpirationTime:function e(){return NaN},getSessionType:function e(){return"temporary"}};y.push(t);u[i.generateKeyRequest](f.systemString,new Uint8Array(e));return t}else{throw new Error("Multiple sessions not allowed!")}}function A(e,t){var r=e.sessionID;if(!d.isClearKey(f)){u[i.addKey](f.systemString,new Uint8Array(t),e.initData,r)}else{for(var n=0;n<t.keyPairs.length;n++){u[i.addKey](f.systemString,t.keyPairs[n].key,t.keyPairs[n].keyID,r)}}}function M(e){u[i.cancelKeyRequest](f.systemString,e.sessionID)}function I(){}function R(){}function D(){}function j(){return{handleEvent:function e(t){var a=null;switch(t.type){case i.needkey:var o=ArrayBuffer.isView(t.initData)?t.initData.buffer:t.initData;r.trigger(g["default"].NEED_KEY,{key:new s["default"](o,"cenc")});break;case i.keyerror:a=L(m,t.sessionId);if(!a){a=L(y,t.sessionId)}if(a){var u="";switch(t.errorCode.code){case 1:u+="MEDIA_KEYERR_UNKNOWN - An unspecified error occurred. This value is used for errors that don't match any of the other codes.";break;case 2:u+="MEDIA_KEYERR_CLIENT - The Key System could not be installed or updated.";break;case 3:u+="MEDIA_KEYERR_SERVICE - The message passed into update indicated an error from the license service.";break;case 4:u+="MEDIA_KEYERR_OUTPUT - There is no available output device with the required characteristics for the content protection system.";break;case 5:u+="MEDIA_KEYERR_HARDWARECHANGE - A hardware configuration change caused a content protection error.";break;case 6:u+="MEDIA_KEYERR_DOMAIN - An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.";break}u+="  System Code = "+t.systemCode;r.trigger(g["default"].KEY_ERROR,{data:new l["default"](a,u)})}else{n("No session token found for key error")}break;case i.keyadded:a=L(m,t.sessionId);if(!a){a=L(y,t.sessionId)}if(a){n("DRM: Key added.");r.trigger(g["default"].KEY_ADDED,{data:a})}else{n("No session token found for key added")}break;case i.keymessage:b=t.sessionId!==null&&t.sessionId!==undefined;if(b){a=L(m,t.sessionId);if(!a&&y.length>0){a=y.shift();m.push(a);a.sessionID=t.sessionId}}else if(y.length>0){a=y.shift();m.push(a);if(y.length!==0){h.mediaKeyMessageError("Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!")}}if(a){var f=ArrayBuffer.isView(t.message)?t.message.buffer:t.message;a.keyMessage=f;r.trigger(g["default"].INTERNAL_KEY_MESSAGE,{data:new c["default"](a,f,t.defaultURL)})}else{n("No session token found for key message")}break}}}}function L(e,t){if(!t||!e){return null}else{var r=e.length;for(var n=0;n<r;n++){if(e[n].sessionID==t){return e[n]}}return null}}function N(){u.removeEventListener(i.keyerror,T);u.removeEventListener(i.needkey,T);u.removeEventListener(i.keymessage,T);u.removeEventListener(i.keyadded,T)}o={getAllInitData:C,requestKeySystemAccess:O,getKeySystem:S,selectKeySystem:k,setMediaElement:P,createKeySession:x,updateKeySession:A,closeKeySession:M,setServerCertificate:I,loadKeySession:R,removeKeySession:D,reset:w};E();return o}E.__dashjs_factory_name="ProtectionModel_01b";t["default"]=T["default"].getClassFactory(E);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(61);var a=n(i);var o=r(88);var s=n(o);var u=r(84);var l=n(u);var f=r(85);var c=n(f);var d=r(86);var p=n(d);var h=r(2);var v=n(h);var y=r(0);var g=n(y);function m(e){var t=this.context;var r=e.eventBus;var n=e.log;var i,o,u,f,d,h,y;function g(){o=null;u=null;f=null;d=[];y=(0,a["default"])(t).getInstance();h=I()}function m(){var e=d.length;var t;if(e!==0){var n=function e(t){R(t);if(d.length===0){if(u){u.removeEventListener("encrypted",h);u.setMediaKeys(null).then(function(){r.trigger(v["default"].TEARDOWN_COMPLETE)})}else{r.trigger(v["default"].TEARDOWN_COMPLETE)}}};for(var i=0;i<e;i++){t=d[i];(function(e){t.session.closed.then(function(){n(e)});M(t)["catch"](function(){n(e)})})(t)}}else{r.trigger(v["default"].TEARDOWN_COMPLETE)}}function _(){return o}function b(){var e=[];for(var t=0;t<d.length;t++){e.push(d[t].initData)}return e}function T(e){A(e,0)}function E(e){e.mksa.createMediaKeys().then(function(t){o=e.keySystem;f=t;if(u){u.setMediaKeys(f)}r.trigger(v["default"].INTERNAL_KEY_SYSTEM_SELECTED)})["catch"](function(){r.trigger(v["default"].INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})}function w(e){if(u===e)return;if(u){u.removeEventListener("encrypted",h);u.setMediaKeys(null)}u=e;if(u){u.addEventListener("encrypted",h);if(f){u.setMediaKeys(f)}}}function S(e){if(!o||!f){throw new Error("Can not set server certificate until you have selected a key system")}f.setServerCertificate(e).then(function(){n("DRM: License server certificate successfully updated.");r.trigger(v["default"].SERVER_CERTIFICATE_UPDATED)})["catch"](function(e){r.trigger(v["default"].SERVER_CERTIFICATE_UPDATED,{error:"Error updating server certificate -- "+e.name})})}function C(e,t){if(!o||!f){throw new Error("Can not create sessions until you have selected a key system")}var i=f.createSession(t);var a=D(i,e,t);i.generateRequest("cenc",e).then(function(){n("DRM: Session created.  SessionID = "+a.getSessionID());r.trigger(v["default"].KEY_SESSION_CREATED,{data:a})})["catch"](function(e){R(a);r.trigger(v["default"].KEY_SESSION_CREATED,{data:null,error:"Error generating key request -- "+e.name})})}function O(e,t){var n=e.session;if(y.isClearKey(o)){t=t.toJWK()}n.update(t)["catch"](function(t){r.trigger(v["default"].KEY_ERROR,{data:new l["default"](e,"Error sending update() message! "+t.name)})})}function k(e){if(!o||!f){throw new Error("Can not load sessions until you have selected a key system")}var t=f.createSession();t.load(e).then(function(i){if(i){var a=D(t);n("DRM: Session created.  SessionID = "+a.getSessionID());r.trigger(v["default"].KEY_SESSION_CREATED,{data:a})}else{r.trigger(v["default"].KEY_SESSION_CREATED,{data:null,error:"Could not load session! Invalid Session ID ("+e+")"})}})["catch"](function(t){r.trigger(v["default"].KEY_SESSION_CREATED,{data:null,error:"Could not load session ("+e+")! "+t.name})})}function P(e){var t=e.session;t.remove().then(function(){n("DRM: Session removed.  SessionID = "+e.getSessionID());r.trigger(v["default"].KEY_SESSION_REMOVED,{data:e.getSessionID()})},function(t){r.trigger(v["default"].KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionID()+"). "+t.name})})}function x(e){M(e)["catch"](function(t){R(e);r.trigger(v["default"].KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionID()+") "+t.name})})}function A(e,t){(function(t){var n=e[t].ks;var i=e[t].configs;navigator.requestMediaKeySystemAccess(n.systemString,i).then(function(e){var t=typeof e.getConfiguration==="function"?e.getConfiguration():null;var i=new p["default"](n,t);i.mksa=e;r.trigger(v["default"].KEY_SYSTEM_ACCESS_COMPLETE,{data:i})})["catch"](function(){if(++t<e.length){A(e,t)}else{r.trigger(v["default"].KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied!"})}})})(t)}function M(e){var t=e.session;t.removeEventListener("keystatuseschange",e);t.removeEventListener("message",e);return t.close()}function I(){return{handleEvent:function e(t){switch(t.type){case"encrypted":if(t.initData){var n=ArrayBuffer.isView(t.initData)?t.initData.buffer:t.initData;r.trigger(v["default"].NEED_KEY,{key:new s["default"](n,t.initDataType)})}break}}}}function R(e){for(var t=0;t<d.length;t++){if(d[t]===e){d.splice(t,1);break}}}function D(e,t,i){var a={session:e,initData:t,handleEvent:function e(t){switch(t.type){case"keystatuseschange":r.trigger(v["default"].KEY_STATUSES_CHANGED,{data:this});break;case"message":var n=ArrayBuffer.isView(t.message)?t.message.buffer:t.message;r.trigger(v["default"].INTERNAL_KEY_MESSAGE,{data:new c["default"](this,n,undefined,t.messageType)});break}},getSessionID:function t(){return e.sessionId},getExpirationTime:function t(){return e.expiration},getKeyStatuses:function t(){return e.keyStatuses},getSessionType:function e(){return i}};e.addEventListener("keystatuseschange",a);e.addEventListener("message",a);e.closed.then(function(){R(a);n("DRM: Session closed.  SessionID = "+a.getSessionID());r.trigger(v["default"].KEY_SESSION_CLOSED,{data:a.getSessionID()})});d.push(a);return a}i={getAllInitData:b,requestKeySystemAccess:T,getKeySystem:_,selectKeySystem:E,setMediaElement:w,setServerCertificate:S,createKeySession:C,updateKeySession:O,loadKeySession:k,removeKeySession:P,closeKeySession:x,reset:m};g();return i}m.__dashjs_factory_name="ProtectionModel_21Jan2015";t["default"]=g["default"].getClassFactory(m);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(61);var a=n(i);var o=r(88);var s=n(o);var u=r(84);var l=n(u);var f=r(85);var c=n(f);var d=r(87);var p=n(d);var h=r(86);var v=n(h);var y=r(2);var g=n(y);var m=r(0);var _=n(m);function b(e){var t=this.context;var r=e.eventBus;var n=e.log;var i=e.api;var o=undefined,u=undefined,f=undefined,d=undefined,h=undefined,y=undefined,m=undefined,_=undefined;function b(){u=null;f=null;d=null;h=null;y=[];_=(0,a["default"])(t).getInstance();m=R()}function T(){try{for(var e=0;e<y.length;e++){x(y[e])}if(u){u.removeEventListener(i.needkey,m)}r.trigger(g["default"].TEARDOWN_COMPLETE)}catch(e){r.trigger(g["default"].TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}function E(){return f}function w(){var e=[];for(var t=0;t<y.length;t++){e.push(y[t].initData)}return e}function S(e){var t=false;for(var n=0;n<e.length;n++){var a=e[n].ks.systemString;var o=e[n].configs;var s=null;var u=null;for(var l=0;l<o.length;l++){var f=o[l].audioCapabilities;var c=o[l].videoCapabilities;if(f&&f.length!==0){s=[];for(var d=0;d<f.length;d++){if(window[i.MediaKeys].isTypeSupported(a,f[d].contentType)){s.push(f[d])}}}if(c&&c.length!==0){u=[];for(var h=0;h<c.length;h++){if(window[i.MediaKeys].isTypeSupported(a,c[h].contentType)){u.push(c[h])}}}if(!s&&!u||s&&s.length===0||u&&u.length===0){continue}t=true;var y=new p["default"](s,u);var m=_.getKeySystemBySystemString(a);r.trigger(g["default"].KEY_SYSTEM_ACCESS_COMPLETE,{data:new v["default"](m,y)});break}}if(!t){r.trigger(g["default"].KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}}function C(e){try{d=e.mediaKeys=new window[i.MediaKeys](e.keySystem.systemString);f=e.keySystem;h=e;if(u){D()}r.trigger(g["default"].INTERNAL_KEY_SYSTEM_SELECTED)}catch(e){r.trigger(g["default"].INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+f.systemString+")! Could not create MediaKeys -- TODO"})}}function O(e){if(u===e)return;if(u){u.removeEventListener(i.needkey,m)}u=e;if(u){u.addEventListener(i.needkey,m);if(d){D()}}}function k(e){if(!f||!d||!h){throw new Error("Can not create sessions until you have selected a key system")}var t=null;if(h.ksConfiguration.videoCapabilities!==null&&h.ksConfiguration.videoCapabilities.length>0)t=h.ksConfiguration.videoCapabilities[0];if(t===null&&h.ksConfiguration.audioCapabilities!==null&&h.ksConfiguration.audioCapabilities.length>0)t=h.ksConfiguration.audioCapabilities[0];if(t===null)throw new Error("Can not create sessions for unknown content types.");var a=t.contentType;var o=d.createSession(a,new Uint8Array(e));var s=j(o,e);o.addEventListener(i.error,s);o.addEventListener(i.message,s);o.addEventListener(i.ready,s);o.addEventListener(i.close,s);y.push(s);n("DRM: Session created.  SessionID = "+s.getSessionID());r.trigger(g["default"].KEY_SESSION_CREATED,{data:s})}function P(e,t){var r=e.session;if(!_.isClearKey(f)){r.update(new Uint8Array(t))}else{r.update(new Uint8Array(t.toJWK()))}}function x(e){var t=e.session;t.removeEventListener(i.error,e);t.removeEventListener(i.message,e);t.removeEventListener(i.ready,e);t.removeEventListener(i.close,e);for(var r=0;r<y.length;r++){if(y[r]===e){y.splice(r,1);break}}t[i.release]()}function A(){}function M(){}function I(){}function R(){return{handleEvent:function e(t){switch(t.type){case i.needkey:if(t.initData){var n=ArrayBuffer.isView(t.initData)?t.initData.buffer:t.initData;r.trigger(g["default"].NEED_KEY,{key:new s["default"](n,"cenc")})}break}}}}function D(){var e=null;var t=function t(){u.removeEventListener("loadedmetadata",e);u[i.setMediaKeys](d);r.trigger(g["default"].VIDEO_ELEMENT_SELECTED)};if(u.readyState>=1){t()}else{e=t.bind(this);u.addEventListener("loadedmetadata",e)}}function j(e,t){return{session:e,initData:t,getSessionID:function e(){return this.session.sessionId},getExpirationTime:function e(){return NaN},getSessionType:function e(){return"temporary"},handleEvent:function e(t){switch(t.type){case i.error:var a="KeyError";r.trigger(g["default"].KEY_ERROR,{data:new l["default"](this,a)});break;case i.message:var o=ArrayBuffer.isView(t.message)?t.message.buffer:t.message;r.trigger(g["default"].INTERNAL_KEY_MESSAGE,{data:new c["default"](this,o,t.destinationURL)});break;case i.ready:n("DRM: Key added.");r.trigger(g["default"].KEY_ADDED);break;case i.close:n("DRM: Session closed.  SessionID = "+this.getSessionID());r.trigger(g["default"].KEY_SESSION_CLOSED,{data:this.getSessionID()});break}}}}o={getAllInitData:w,requestKeySystemAccess:S,getKeySystem:E,selectKeySystem:C,setMediaElement:O,createKeySession:k,updateKeySession:P,closeKeySession:x,setServerCertificate:A,loadKeySession:M,removeKeySession:I,reset:T};b();return o}b.__dashjs_factory_name="ProtectionModel_3Feb2014";t["default"]=_["default"].getClassFactory(b);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(129);var a=n(i);var o=r(128);var s=n(o);var u=r(0);var l=n(u);function f(){var e=undefined;function t(e,t){var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var n=0;n<r.kids.length;n++){e+=r.kids[n]+"&"}e=e.substring(0,e.length-1);return e}function r(){return"GET"}function n(){return"json"}function i(e){if(!e.hasOwnProperty("keys")){return null}var t=[];for(var r=0;r<e.keys.length;r++){var n=e.keys[r];var i=n.kid.replace(/=/g,"");var o=n.k.replace(/=/g,"");t.push(new a["default"](i,o))}return new s["default"](t)}function o(e){return String.fromCharCode.apply(null,new Uint8Array(e))}e={getServerURLFromMessage:t,getHTTPMethod:r,getResponseType:n,getLicenseMessage:i,getErrorResponse:o};return e}f.__dashjs_factory_name="ClearKey";t["default"]=l["default"].getSingletonFactory(f);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(76);var s=n(o);function u(){var e={"com.widevine.alpha":{responseType:"json",getLicenseMessage:function e(t){return s["default"].decodeArray(t.license)},getErrorResponse:function e(t){return t}},"com.microsoft.playready":{responseType:"arraybuffer",getLicenseMessage:function e(t){return t},getErrorResponse:function e(t){return String.fromCharCode.apply(null,new Uint8Array(t))}}};var t=undefined;function r(e){return e}function n(){return"POST"}function i(t){return e[t].responseType}function a(t,r){return e[r].getLicenseMessage(t)}function o(t,r){return e[r].getErrorResponse(t)}t={getServerURLFromMessage:r,getHTTPMethod:n,getResponseType:i,getLicenseMessage:a,getErrorResponse:o};return t}u.__dashjs_factory_name="DRMToday";t["default"]=a["default"].getSingletonFactory(u);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e=undefined;function t(e){return e}function r(){return"POST"}function n(){return"arraybuffer"}function i(e){return e}function a(e){return String.fromCharCode.apply(null,new Uint8Array(e))}e={getServerURLFromMessage:t,getHTTPMethod:r,getResponseType:n,getLicenseMessage:i,getErrorResponse:a};return e}o.__dashjs_factory_name="PlayReady";t["default"]=a["default"].getSingletonFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e=undefined;function t(e){return e}function r(){return"POST"}function n(){return"arraybuffer"}function i(e){return e}function a(e){return String.fromCharCode.apply(null,new Uint8Array(e))}e={getServerURLFromMessage:t,getHTTPMethod:r,getResponseType:n,getLicenseMessage:i,getErrorResponse:a};return e}o.__dashjs_factory_name="Widevine";t["default"]=a["default"].getSingletonFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(t,r){n(this,e);this.contentType=t;this.robustness=r};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e=[];var t=0;var r=0;function n(n,i){var a=i.droppedVideoFrames-t;t=i.droppedVideoFrames;var o=i.totalVideoFrames-r;r=i.totalVideoFrames;if(!e[n]){e[n]={droppedVideoFrames:a,totalVideoFrames:o}}else{e[n].droppedVideoFrames+=a;e[n].totalVideoFrames+=o}}function i(){return e}function a(n){e=[];t=n.droppedVideoFrames;r=n.totalVideoFrames}return{push:n,getFrameHistory:i,reset:a}}o.__dashjs_factory_name="DroppedFramesHistory";var s=a["default"].getClassFactory(o);t["default"]=s;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(e){var t=undefined;var r=e.streamProcessor.getCurrentRepresentationInfo();var n=e.streamProcessor;var i=e.currentValue;var a=e.playbackIndex;var o=e.switchHistory;var s=e.droppedFramesHistory;var u=e.currentRequest;var l=e.hasRichBuffer;function f(){return r.mediaInfo.streamInfo}function c(){return r.mediaInfo}function d(){return r}function p(){return i}function h(){return r.mediaInfo.streamInfo.manifestInfo}function v(){return n}function y(){return a}function g(){return o}function m(){return s}function _(){return u}function b(){return l}t={getCurrentValue:p,getManifestInfo:h,getMediaInfo:c,getPlaybackIndex:y,getDroppedFramesHistory:m,getCurrentRequest:_,getSwitchHistory:g,getStreamInfo:f,getStreamProcessor:v,getTrackInfo:d,hasRichBuffer:b};return t}o.__dashjs_factory_name="RulesContext";t["default"]=a["default"].getClassFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=8;function s(){var e=[];var t=[];function r(r){if(!e[r.oldValue]){e[r.oldValue]={noDrops:0,drops:0,dropSize:0}}var n=r.newValue-r.oldValue;var i=n<0?1:0;var a=i?-n:0;var s=i?0:1;e[r.oldValue].drops+=i;e[r.oldValue].dropSize+=a;e[r.oldValue].noDrops+=s;t.push({idx:r.oldValue,noDrop:s,drop:i,dropSize:a});if(t.length>o){var u=t.shift();e[u.idx].drops-=u.drop;e[u.idx].dropSize-=u.dropSize;e[u.idx].noDrops-=u.noDrop}}function n(){return e}function i(){e=[];t=[]}return{push:r,getSwitchRequests:n,reset:i}}s.__dashjs_factory_name="SwitchRequestHistory";var u=a["default"].getClassFactory(s);t["default"]=u;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(283);var a=n(i);var o=r(281);var s=n(o);var u=r(278);var l=n(u);var f=r(280);var c=n(f);var d=r(282);var p=n(d);var h=r(130);var v=n(h);var y=r(279);var g=n(y);var m=r(10);var _=n(m);var b=r(21);var T=n(b);var E=r(26);var w=n(E);var S=r(0);var C=n(S);var O=r(19);var k=n(O);var P="qualitySwitchRules";var x="abandonFragmentRules";function A(){var e=this.context;var t=undefined,r=undefined,n=undefined;function i(){r=[];n=[];var t=(0,T["default"])(e).getInstance();var i=(0,w["default"])(e).getInstance();var o=(0,_["default"])(e).getInstance();if(o.getBufferOccupancyABREnabled()){r.push((0,v["default"])(e).create({metricsModel:t,dashMetrics:i}));n.push((0,g["default"])(e).create({metricsModel:t,dashMetrics:i}))}else{r.push((0,a["default"])(e).create({metricsModel:t,dashMetrics:i}));r.push((0,s["default"])(e).create({metricsModel:t}));r.push((0,p["default"])(e).create());r.push((0,c["default"])(e).create());n.push((0,l["default"])(e).create())}}function o(e){switch(e){case P:return r;case x:return n;default:return null}}function u(e){return e.filter(function(e){return e.value>k["default"].NO_CHANGE})}function f(e){if(e.length===0){return}return e.reduce(function(e,t){return e.value<t.value?e:t})}function d(t){var n=r.map(function(e){return e.getMaxIndex(t)});var i=u(n);var a=f(i);return a||(0,k["default"])(e).create()}function h(t){var r=n.map(function(e){return e.shouldAbandon(t)});var i=u(r);var a=f(i);return a||(0,k["default"])(e).create()}t={initialize:i,getRules:o,getMaxQuality:d,shouldAbandonFragment:h};return t}A.__dashjs_factory_name="ABRRulesCollection";var M=C["default"].getSingletonFactory(A);M.QUALITY_SWITCH_RULES=P;M.ABANDON_FRAGMENT_RULES=x;t["default"]=M;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(19);var a=n(i);var o=r(10);var s=n(o);var u=r(26);var l=n(u);var f=r(21);var c=n(f);var d=r(0);var p=n(d);var h=r(4);var v=n(h);function y(){var e=1.8;var t=500;var r=5;var n=this.context;var i=(0,v["default"])(n).getInstance().log;var o=undefined,u=undefined,f=undefined,d=undefined,p=undefined,h=undefined;function g(){o={};u={};f=[];d=(0,s["default"])(n).getInstance();p=(0,l["default"])(n).getInstance();h=(0,c["default"])(n).getInstance()}function m(e,t){o[e]=o[e]||{};o[e][t]=o[e][t]||{}}function _(e,t){f[e]=f[e]||[];f[e].push(t)}function b(s){var l=s.getMediaInfo();var c=l.type;var v=s.getCurrentRequest();var g=(0,a["default"])(n).create(a["default"].NO_CHANGE,{name:y.__dashjs_factory_name});if(!isNaN(v.index)){m(c,v.index);var b=d.getStableBufferTime();var T=p.getCurrentBufferLevel(h.getReadOnlyMetricsFor(c));if(T>b){return g}var E=o[c][v.index];if(E===null||v.firstByteDate===null||u.hasOwnProperty(E.id)){return g}if(E.firstByteTime===undefined){f[c]=[];E.firstByteTime=v.firstByteDate.getTime();E.segmentDuration=v.duration;E.bytesTotal=v.bytesTotal;E.id=v.index}E.bytesLoaded=v.bytesLoaded;E.elapsedTime=(new Date).getTime()-E.firstByteTime;if(E.bytesLoaded>0&&E.elapsedTime>0){_(c,Math.round(E.bytesLoaded*8/E.elapsedTime))}if(f[c].length>=r&&E.elapsedTime>t&&E.bytesLoaded<E.bytesTotal){var w=f[c].reduce(function(e,t){return e+t},0);E.measuredBandwidthInKbps=Math.round(w/f[c].length);E.estimatedTimeOfDownload=+(E.bytesTotal*8/E.measuredBandwidthInKbps/1e3).toFixed(2);if(E.estimatedTimeOfDownload<E.segmentDuration*e||s.getTrackInfo().quality===0){return g}else if(!u.hasOwnProperty(E.id)){var S=s.getStreamProcessor().getABRController();var C=E.bytesTotal-E.bytesLoaded;var O=S.getBitrateList(l);var k=S.getQualityForBitrate(l,E.measuredBandwidthInKbps*d.getBandwidthSafetyFactor());var P=E.bytesTotal*O[k].bitrate/O[S.getQualityFor(c,l.streamInfo)].bitrate;if(C>P){g.value=k;g.reason.throughput=E.measuredBandwidthInKbps;g.reason.fragmentID=E.id;u[E.id]=E;i("AbandonRequestsRule ( ",c,"frag id",E.id,") is asking to abandon and switch to quality to ",k," measured bandwidth was",E.measuredBandwidthInKbps);delete o[c][E.id]}}}else if(E.bytesLoaded===E.bytesTotal){delete o[c][E.id]}}return g}function T(){g()}var E={shouldAbandon:b,reset:T};g();return E}y.__dashjs_factory_name="AbandonRequestsRule";t["default"]=p["default"].getClassFactory(y);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(19);var a=n(i);var o=r(10);var s=n(o);var u=r(0);var l=n(u);var f=r(4);var c=n(f);var d=r(130);var p=n(d);function h(e){var t=500;var r=200;var n=this.context;var i=(0,c["default"])(n).getInstance().log;var o=e.dashMetrics;var u=e.metricsModel;var l=undefined,f=undefined,d=undefined;function v(){f={};d=(0,s["default"])(n).getInstance()}function y(e,t,r){f[e]={index:t,quality:r}}function g(e,t,r){var n=f[e];if(!n)return true;return t!==n.index||r<n.quality}function m(e){var s=e.getMediaInfo();var l=s.type;var c=u.getReadOnlyMetricsFor(l);var d=e.getCurrentRequest();var v=(0,a["default"])(n).create(a["default"].NO_CHANGE,{name:h.__dashjs_factory_name});if(c.BolaState.length===0){i("WARNING: executing BolaAbandonRule before initializing BolaRule");f[l]=null;return v}var m=c.BolaState[0]._s;var _=d.index;var b=d.quality;if(isNaN(_)||b===0||!g(l,_,b)||!d.firstByteDate){return v}var T=Date.now();var E=T-d.firstByteDate.getTime();var w=d.bytesLoaded;var S=d.bytesTotal;var C=S-w;var O=d.duration;var k=o.getCurrentBufferLevel(c)?o.getCurrentBufferLevel(c):0;var P=k+m.placeholderBuffer;var x=8*w/(.001*E);var A=m.bandwidthSafetyFactor*x;var M=.001*(d.firstByteDate.getTime()-d.requestStartDate.getTime());if(M<.001*r){M=.001*r}var I=M+8*S/A;var R="";if(p["default"].BOLA_DEBUG)R="index="+_+" quality="+b+" bytesLoaded/bytesTotal="+w+"/"+S+" bufferLevel="+k+" timeSince1stByte="+(E/1e3).toFixed(3)+" estThroughput="+(A/1e6).toFixed(3)+" latency="+M.toFixed(3);var D=S*m.bitrates[0]/m.bitrates[b];var j=C-M*A/8;if(j<1){j=1}if(E<t||C<=D||k>m.bufferTarget||j<=D||I<=O){return v}var L=P-M;if(L<0){L=0}var N=0;while(N+1<b&&S*m.bitrates[N+1]/m.bitrates[b]<j){++N}var F=b;if(m.state===p["default"].BOLA_STATE_STARTUP){F=0;for(var B=0;B<=N;++B){D=S*m.bitrates[B]/m.bitrates[b];if(8*D/O>A){break}F=B}}else{var U=(m.Vp*(m.utilities[b]+m.gp)-L)/j;for(var B=0;B<=N;++B){D=S*m.bitrates[B]/m.bitrates[b];var H=(m.Vp*(m.utilities[B]+m.gp)-L)/D;if(H>U){F=B;U=H}}}var V=m.rebufferSafetyFactor*x*(k-M)/8;if(F===b&&j>V){F=N}if(F===b){return v}while(F>0){D=S*m.bitrates[F]/m.bitrates[b];if(D<=V){break}--F}var q=NaN;if(F>0){var G=m.utilities[F];var z=m.utilities[F-1];var H=m.bitrates[F];var K=m.bitrates[F-1];q=m.Vp*((H*z-K*G)/(H-K)+m.gp)}else{var G=m.utilities[0];var z=m.utilities[1];var H=m.bitrates[0];var K=m.bitrates[1];q=m.Vp*((H*z-K*G)/(H-K)+m.gp);q-=O}if(P>q){m.placeholderBuffer=q-k;if(m.placeholderBuffer<0)m.placeholderBuffer=0}m.lastQuality=F;u.updateBolaState(l,m);if(p["default"].BOLA_DEBUG)i("BolaDebug "+l+" BolaAbandonRule abandon to "+F+" - "+R);y(l,_,b);v.value=F;v.reason.state=m.state;v.reason.throughput=x;v.reason.bufferLevel=k;v.reason.bytesLoaded=d.bytesLoaded;v.reason.bytesTotal=d.bytesTotal;v.reason.elapsedTimeMs=E;return v}function _(){f={}}l={shouldAbandon:m,reset:_};v();return l}h.__dashjs_factory_name="BolaAbandonRule";t["default"]=l["default"].getClassFactory(h);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(19);var s=n(o);var u=r(4);var l=n(u);function f(){var e=this.context;var t=(0,l["default"])(e).getInstance().log;var r=.15;var n=375;function i(i){var a=i.getDroppedFramesHistory();if(a){var o=a.getFrameHistory();var u=0;var l=0;var f=s["default"].NO_CHANGE;for(var c=1;c<o.length;c++){if(o[c]){u=o[c].droppedVideoFrames;l=o[c].totalVideoFrames;if(l>n&&u/l>r){f=c-1;t("DroppedFramesRule, index: "+f+" Dropped Frames: "+u+" Total Frames: "+l);break}}}return(0,s["default"])(e).create(f,{droppedFrames:u})}return(0,s["default"])(e).create()}return{getMaxIndex:i}}f.__dashjs_factory_name="DroppedFramesRule";var c=a["default"].getClassFactory(f);t["default"]=c;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(29);var a=n(i);var o=r(3);var s=n(o);var u=r(2);var l=n(u);var f=r(0);var c=n(f);var d=r(4);var p=n(d);var h=r(19);var v=n(h);function y(e){var t=this.context;var r=(0,p["default"])(t).getInstance().log;var n=(0,s["default"])(t).getInstance();var i=e.metricsModel;var o=undefined,u=undefined,f=undefined,c=undefined;function d(){u={};f=0;c=1e3;n.on(l["default"].PLAYBACK_SEEKING,g,o)}function h(e){var n=(new Date).getTime();var o=e.getMediaInfo().type;var s=i.getReadOnlyMetricsFor(o);var l=s.BufferState.length>0?s.BufferState[s.BufferState.length-1]:null;var d=(0,v["default"])(t).create();if(n-f<c||l===null){return d}y(o,l.state);if(l.state===a["default"].BUFFER_EMPTY&&u[o].firstBufferLoadedEvent!==undefined){r("Switch to index 0; buffer is empty.");d.value=0;d.reason="InsufficientBufferRule: Buffer is empty"}f=n;return d}function y(e,t){u[e]=u[e]||{};u[e].state=t;if(t===a["default"].BUFFER_LOADED&&!u[e].firstBufferLoadedEvent){u[e].firstBufferLoadedEvent=true}}function g(){u={}}function m(){n.off(l["default"].PLAYBACK_SEEKING,g,o);u={};f=0}o={getMaxIndex:h,reset:m};d();return o}y.__dashjs_factory_name="InsufficientBufferRule";t["default"]=c["default"].getClassFactory(y);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(4);var s=n(o);var u=r(19);var l=n(u);function f(){var e=this.context;var t=(0,s["default"])(e).getInstance().log;var r=.075;var n=6;function i(i){var a=i.getSwitchHistory();var o=a.getSwitchRequests();var s=0;var u=0;var f=0;var c=(0,l["default"])(e).create();for(var d=0;d<o.length;d++){if(o[d]!==undefined){s+=o[d].drops;u+=o[d].noDrops;f+=o[d].dropSize;if(s+u>=n&&s/u>r){c.value=d>0?d-1:0;c.reason={index:c.value,drops:s,noDrops:u,dropSize:f};t("Switch history rule index: "+c.value+" samples: "+(s+u)+" drops: "+s);break}}}return c}return{getMaxIndex:i}}f.__dashjs_factory_name="SwitchRequest";var c=a["default"].getClassFactory(f);t["default"]=c;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(29);var a=n(i);var o=r(28);var s=n(o);var u=r(10);var l=n(u);var f=r(13);var c=r(0);var d=n(c);var p=r(4);var h=n(p);var v=r(19);var y=n(v);function g(e){var t=20;var r=3;var n=4;var i=n;var o=50;var u=5;var c=50;var d=1.3;var p=1.3;var v=this.context;var g=(0,h["default"])(v).getInstance().log;var m=e.dashMetrics;var _=e.metricsModel;var b=undefined,T=undefined,E=undefined;function w(){b=[];T=[];E=(0,l["default"])(v).getInstance()}function S(e,t){b[e]=b[e]||[];b[e].push(t)}function C(e,t){if(!T[e]){T[e]=[]}T[e].push(t);if(T[e].length>i){return T[e].shift()}return undefined}function O(e){var t=undefined;if(T[e]&&T[e].length>0){t=T[e].reduce(function(e,t){return e+t})/T[e].length}return t}function k(e,t){var i=Math.min(b[e].length,t?r:n);var a=b[e].slice(i*-1,b[e].length);if(a.length>1){a.reduce(function(e,t){if(e*p<=t||e>=t*d){i++}return t})}i=Math.min(b[e].length,i);return b[e].slice(i*-1,b[e].length)}function P(e,r){var n=k(e,r);var i=0;if(n.length>0){var a=n.reduce(function(e,t){return e+t},0);i=a/n.length}if(b[e].length>=t){b[e].shift()}return i/1e3*E.getBandwidthSafetyFactor()}function x(e,t,r){var n=false;if(e<c){n=true}if(!n){switch(r){case"video":n=t<o;break;case"audio":n=t<u;break;default:break}}return n}function A(e){var t=e.getMediaInfo();var r=t.type;var n=_.getReadOnlyMetricsFor(r);var i=e.getStreamProcessor();var o=i.getABRController();var u=i.isDynamic();var l=m.getCurrentHttpRequest(n);var c=n.BufferState.length>0?n.BufferState[n.BufferState.length-1]:null;var d=e.hasRichBuffer();var p=(0,y["default"])(v).create();if(!n||!l||l.type!==f.HTTPRequest.MEDIA_SEGMENT_TYPE||!c||d){return p}var h=undefined;var E=undefined;if(l.trace&&l.trace.length){E=l.tresponse.getTime()-l.trequest.getTime()||1;h=l._tfinish.getTime()-l.tresponse.getTime()||1;var w=l.trace.reduce(function(e,t){return e+t.b[0]},0);var k=Math.round(w*8/(h/1e3));var A=undefined;var M=undefined;if(x(E,h,r)){if(!b[r]||!T[r]){A=k/1e3;M=E}else{A=P(r,u);M=O(r)}}else{S(r,k);A=P(r,u);C(r,E);M=O(r,u)}o.setAverageThroughput(r,A);if(o.getAbandonmentStateFor(r)!==s["default"].ABANDON_LOAD){if(c.state===a["default"].BUFFER_LOADED||u){p.value=o.getQualityForBitrate(t,A,M);i.getScheduleController().setTimeToLoadDelay(0);g("ThroughputRule requesting switch to index: ",p.value,"type: ",r,"Average throughput",Math.round(A),"kbps");p.reason={throughput:A,latency:M}}}}return p}function M(){w()}var I={getMaxIndex:A,reset:M};w();return I}g.__dashjs_factory_name="ThroughputRule";t["default"]=d["default"].getClassFactory(g);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(10);var a=n(i);var o=r(0);var s=n(o);function u(e){var t=this.context;var r=e.dashMetrics;var n=e.metricsModel;var i=e.textController;var o=undefined;function s(){o=(0,a["default"])(t).getInstance()}function u(e,t,i){var a=r.getCurrentBufferLevel(n.getReadOnlyMetricsFor(t));return a<l(e,t,i)}function l(e,t,a){var s=NaN;var u=e.getCurrentRepresentationInfo();if(t==="fragmentedText"){s=i.getAllTracksAreDisabled()?0:u.fragmentDuration}else if(t==="audio"&&a){var l=r.getCurrentBufferLevel(n.getReadOnlyMetricsFor("video"));s=Math.floor(Math.max(l,u.fragmentDuration))}else{var f=u.mediaInfo.streamInfo;var c=e.getABRController();if(c.isPlayingAtTopQuality(f)){var d=f.manifestInfo.duration>=o.getLongFormContentDurationThreshold();s=d?o.getBufferTimeAtTopQualityLongForm():o.getBufferTimeAtTopQuality()}else{s=o.getStableBufferTime()}}return s}var f={execute:u,getBufferTarget:l};s();return f}u.__dashjs_factory_name="BufferLevelRule";t["default"]=s["default"].getClassFactory(u);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(4);var a=n(i);var o=r(0);var s=n(o);function u(e){var t=this.context;var r=(0,a["default"])(t).getInstance().log;var n=e.adapter;var i=e.sourceBufferController;var o=e.textController;function s(e,t){var a=e.getCurrentRepresentationInfo();var s=a.mediaInfo;var u=s.type;var l=e.getScheduleController();var f=l.getSeekTarget();var c=!isNaN(f);var d=e.getBuffer();var p=c?f:n.getIndexHandlerTime(e);if(isNaN(p)||u==="fragmentedText"&&o.getAllTracksAreDisabled()){return null}if(c){l.setSeekTarget(NaN)}if(d){var h=i.getBufferRange(e.getBuffer(),p);if(h!==null){r("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end.",p," was changed to ",h.end);p=h.end}}var v=undefined;if(t){p=t.startTime+t.duration/2;v=n.getFragmentRequestForTime(e,a,p,{timeThreshold:0,ignoreIsFinished:true})}else{v=n.getFragmentRequestForTime(e,a,p,{keepIdx:!c});if(v&&e.getFragmentModel().isFragmentLoaded(v)){v=n.getNextFragmentRequest(e,a)}if(v){n.setIndexHandlerTime(e,v.startTime+v.duration);v.delayLoadingTime=(new Date).getTime()+l.getTimeToLoadDelay();l.setTimeToLoadDelay(0)}}return v}var u={execute:s};return u}u.__dashjs_factory_name="NextFragmentRequestRule";t["default"]=s["default"].getClassFactory(u);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e=0;var t=undefined;function r(e){var t="";for(var r=0;r<e.length;++r){var n=e[r];t+=n.uchar}var i=t.length;var a=t.replace(/^\s+/,"").length;return i-a}function n(e){return"left: "+e.x*3.125+"%; top: "+e.y1*6.66+"%; width: "+(100-e.x*3.125)+"%; height: "+Math.max(e.y2-1-e.y1,1)*6.66+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function i(e){if(e==="red"){return"rgb(255, 0, 0)"}else if(e==="green"){return"rgb(0, 255, 0)"}else if(e==="blue"){return"rgb(0, 0, 255)"}else if(e==="cyan"){return"rgb(0, 255, 255)"}else if(e==="magenta"){return"rgb(255, 0, 255)"}else if(e==="yellow"){return"rgb(255, 255, 0)"}else if(e==="white"){return"rgb(255, 255, 255)"}else if(e==="black"){return"rgb(0, 0, 0)"}return e}function a(e,t){var r=e.videoHeight/15;if(t){return"font-size: "+r+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?i(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?i(t.background):"transparent")+";"}else{return"font-size: "+r+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}}function o(e){var t=e.replace(/^\s+/g,"");return t}function s(e){var t=e.replace(/\s+$/g,"");return t}function u(t,i,u,l){var f=null;var c=null;var d=false;var p=-1;var h={start:i,end:u,spans:[]};var v="style_cea608_white_black";var y={};var g={};var m=[];var _=undefined,b=undefined;for(_=0;_<15;++_){var T=l.rows[_];var E="";var w=null;if(false===T.isEmpty()){var S=r(T.chars);if(f===null){f={x:S,y1:_,y2:_+1,p:[]}}if(S!==p&&d){f.p.push(h);h={start:i,end:u,spans:[]};f.y2=_;f.name="region_"+f.x+"_"+f.y1+"_"+f.y2;if(false===y.hasOwnProperty(f.name)){m.push(f);y[f.name]=f}else{c=y[f.name];c.p.contat(f.p)}f={x:S,y1:_,y2:_+1,p:[]}}for(var C=0;C<T.chars.length;++C){var O=T.chars[C];var k=O.penState;if(w===null||!k.equals(w)){if(E.trim().length>0){h.spans.push({name:v,line:E,row:_});E=""}var P="style_cea608_"+k.foreground+"_"+k.background;if(k.underline){P+="_underline"}if(k.italics){P+="_italics"}if(!g.hasOwnProperty(P)){g[P]=JSON.parse(JSON.stringify(k))}w=k;v=P}E+=O.uchar}if(E.trim().length>0){h.spans.push({name:v,line:E,row:_})}d=true;p=S}else{d=false;p=-1;if(f){f.p.push(h);h={start:i,end:u,spans:[]};f.y2=_;f.name="region_"+f.x+"_"+f.y1+"_"+f.y2;if(false===y.hasOwnProperty(f.name)){m.push(f);y[f.name]=f}else{c=y[f.name];c.p.contat(f.p)}f=null}}}if(f){f.p.push(h);f.y2=_+1;f.name="region_"+f.x+"_"+f.y1+"_"+f.y2;if(false===y.hasOwnProperty(f.name)){m.push(f);y[f.name]=f}else{c=y[f.name];c.p.contat(f.p)}f=null}var x=[];for(_=0;_<m.length;++_){var A=m[_];var M="sub_cea608_"+e++;var I=document.createElement("div");I.id=M;var R=n(A);I.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+R;var D=document.createElement("div");D.className="paragraph bodyStyle";D.style.cssText=a(t);var j=document.createElement("div");j.className="cueUniWrapper";j.style.cssText="unicode-bidi: normal; direction: ltr;";for(var L=0;L<A.p.length;++L){var N=A.p[L];var F=0;for(b=0;b<N.spans.length;++b){var B=N.spans[b];if(B.line.length>0){if(b!==0&&F!=B.row){var U=document.createElement("br");U.className="lineBreak";j.appendChild(U)}var H=false;if(F===B.row){H=true}F=B.row;var V=g[B.name];var q=document.createElement("span");q.className="spanPadding "+B.name+" customSpanColor";q.style.cssText=a(t,V);if(b!==0&&H){if(b===N.spans.length-1){q.textContent=s(B.line)}else{q.textContent=B.line}}else{if(b===0){if(N.spans.length>1){if(B.row===N.spans[1].row){q.textContent=o(B.line)}else{q.textContent=B.line.trim()}}else{q.textContent=B.line.trim()}}else{q.textContent=B.line.trim()}}j.appendChild(q)}}}D.appendChild(j);I.appendChild(D);var G={bodyStyle:["%",90]};for(b in g){if(g.hasOwnProperty(b)){G[b]=["%",90]}}x.push({type:"html",start:i,end:u,cueHTMLElement:I,cueID:M,cellResolution:[32,15],isFromCEA608:true,regions:m,regionID:A.name,videoHeight:t.videoHeight,videoWidth:t.videoWidth,fontSize:G,lineHeight:{},linePadding:{}})}return x}t={createHTMLCaptionsFromScreen:u};return t}o.__dashjs_factory_name="EmbeddedTextHtmlRender";t["default"]=a["default"].getSingletonFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(3);var a=n(i);var o=r(2);var s=n(o);var u=r(0);var l=n(u);var f=r(92);var c=n(f);function d(e){var t=this.context;var r=(0,a["default"])(t).getInstance();var n=e.sourceBufferController;var i=e.errHandler;var o=undefined,u=undefined,l=undefined,f=undefined,d=undefined,p=undefined,h=undefined,v=undefined,y=undefined;function g(){l=false;f=null;d=null;p=null;h=null;v=null;u=false;r.on(s["default"].DATA_UPDATE_COMPLETED,A,this);r.on(s["default"].INIT_FRAGMENT_LOADED,M,this)}function m(e,r,n){p=e;w(r);h=n;v=h.getRepresentationController();y=(0,c["default"])(t).getInstance()}function _(e){try{d=n.createSourceBuffer(f,e);if(!l){if(d.hasOwnProperty("initialize")){d.initialize(p,this)}l=true}}catch(e){i.mediaSourceError("Error creating "+p+" source buffer.")}return d}function b(){return p}function T(){return d}function E(e){d=e}function w(e){f=e}function S(){return f}function C(e){h=e}function O(){return h}function k(){return 0}function P(){return 0}function x(e){r.off(s["default"].DATA_UPDATE_COMPLETED,A,this);r.off(s["default"].INIT_FRAGMENT_LOADED,M,this);if(!e){n.abort(f,d);n.removeSourceBuffer(f,d)}}function A(e){if(e.sender.getStreamProcessor()!==h){return}r.trigger(s["default"].TIMED_TEXT_REQUESTED,{index:0,sender:e.sender})}function M(e){if(e.fragmentModel!==h.getFragmentModel()||!e.chunk.bytes){return}n.append(d,e.chunk)}function I(){return u}function R(e,t){var i=y.extract(e,p,t);if(i){n.append(i)}else{r.trigger(s["default"].INIT_REQUESTED,{sender:o})}}o={initialize:m,createBuffer:_,getType:b,getStreamProcessor:O,setStreamProcessor:C,getBuffer:T,setBuffer:E,getBufferLevel:k,getCriticalBufferLevel:P,setMediaSource:w,getMediaSource:S,getIsBufferingCompleted:I,switchInitData:R,reset:x};g();return o}d.__dashjs_factory_name="NotFragmentedTextBufferController";t["default"]=l["default"].getClassFactory(d);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(29);var s=n(o);var u=r(287);var l=n(u);function f(e){var t=this.context;var r=undefined;var n=undefined;function i(e){if(e.type==="fragmentedText"){r=(0,s["default"])(t).create({metricsModel:e.metricsModel,manifestModel:e.manifestModel,sourceBufferController:e.sourceBufferController,errHandler:e.errHandler,streamController:e.streamController,mediaController:e.mediaController,adapter:e.adapter,textController:e.textController})}else{r=(0,l["default"])(t).create({errHandler:e.errHandler,sourceBufferController:e.sourceBufferController})}}function a(e,t,n){return r.initialize(e,t,n)}function o(e){return r.createBuffer(e)}function u(){return r.getType()}function f(){return r.getBuffer()}function c(e){r.setBuffer(e)}function d(){return r.getMediaSource()}function p(e){r.setMediaSource(e)}function h(e){r.setStreamProcessor(e)}function v(){r.getStreamProcessor()}function y(){return r.getBufferLevel()}function g(){return r.getCriticalBufferLevel()}function m(e){r.reset(e)}function _(){return r.getIsBufferingCompleted()}function b(e,t){r.switchInitData(e,t)}n={initialize:a,createBuffer:o,getType:u,getStreamProcessor:v,setStreamProcessor:h,getBuffer:f,setBuffer:c,getBufferLevel:y,getCriticalBufferLevel:g,setMediaSource:p,getMediaSource:d,getIsBufferingCompleted:_,switchInitData:b,reset:m};i(e);return n}f.__dashjs_factory_name="TextBufferController";t["default"]=a["default"].getClassFactory(f);t["default"]=a["default"].getClassFactory(f);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(307);var a=n(i);var o=r(217);var s=n(o);var u=r(90);var l=n(u);var f=r(131);var c=n(f);var d=r(0);var p=n(d);var h=r(4);var v=n(h);var y=r(43);var g=n(y);var m=r(89);var _=n(m);var b=r(286);var T=n(b);var E=r(103);var w=n(E);var S=r(115);var C=n(S);var O=r(3);var k=n(O);var P=r(2);var x=n(P);function A(){var e=this.context;var t=(0,v["default"])(e).getInstance().log;var r=(0,k["default"])(e).getInstance();var n=false;var i=undefined,o=undefined,u=undefined,f=undefined,d=undefined,p=undefined,h=undefined,y=undefined,m=undefined,b=undefined,E=undefined,S=undefined,O=undefined,P=undefined,A=undefined,M=undefined,I=undefined,R=undefined,D=undefined,j=undefined,L=undefined,N=undefined,F=undefined,B=undefined,U=undefined,H=undefined,V=undefined;function q(t,r){p=null;O=null;P=false;A=NaN;M=[];D=null;if(!n){K()}var i=r.getStreamProcessor();b=i.getMediaInfoArr();E.setConfig({videoModel:I});E.initialize();S=!f.getIsTextTrack(t);o=(0,l["default"])(e).getInstance();m=(0,s["default"])(e).getInstance();m.setConfig({boxParser:o});if(S){O=i.getFragmentModel();this.buffered=(0,c["default"])(e).create();M=d.getTracksFor("fragmentedText",R.getActiveStreamInfo());var a=d.getCurrentTrackFor("fragmentedText",R.getActiveStreamInfo());for(var u=0;u<M.length;u++){if(M[u]===a){j=u;break}}}}function G(){E.deleteAllTextTracks();p=null;m=null;b=null;E=null;S=false;O=null;P=false;A=NaN;M=[];I=null;R=null;n=false;L=null}function z(e){var t=e.chunk;if(t.mediaInfo.embeddedCaptions){J(t.bytes,t)}}function K(){L=[];b=[];I=(0,g["default"])(e).getInstance();E=(0,_["default"])(e).getInstance();E.setConfig({videoModel:I});E.initialize();o=(0,l["default"])(e).getInstance();m=(0,s["default"])(e).getInstance();m.setConfig({boxParser:o});S=false;j=null;N=false;F=0;H=[];U=[];B=null;n=true;V=(0,T["default"])(e).getInstance();r.on(x["default"].VIDEO_CHUNK_RECEIVED,z,this)}function Y(){r.off(x["default"].VIDEO_CHUNK_RECEIVED,z,this);if(E!==null){E.deleteAllTextTracks()}n=false;L=[];H=[null,null];U=[];B=null}function W(e){if(!n){K()}if(e.id==="CC1"||e.id==="CC3"){L.push(e)}else{t("Warning: Embedded track "+e.id+" not supported!")}}function X(e){if(!e){return}if(e.errHandler){u=e.errHandler}if(e.dashManifestModel){f=e.dashManifestModel}if(e.mediaController){d=e.mediaController}if(e.videoModel){I=e.videoModel}if(e.streamController){R=e.streamController}if(e.textTracks){E=e.textTracks}if(e.vttParser){h=e.vttParser}if(e.ttmlParser){y=e.ttmlParser}}function Q(){var e={errHandler:u,dashManifestModel:f,mediaController:d,videoModel:I,fragmentModel:O,streamController:R,textTracks:E,isFragmented:S,embeddedTracks:L,fragmentedTracks:M};return e}function $(e){j=e}function J(e,r){var n,i,o,s,l,f,c;var d=r.mediaInfo;var h=d.type;var v=d.mimeType;var y=d.codec||v;if(!y){t("No text type defined");return}function g(e,t){var r=new a["default"];var n={subtitle:"subtitles",caption:"captions"};var i=function e(){var r=t.roles.length>0?n[t.roles[0]]:n.caption;r=r===n.caption||r===n.subtitle?r:n.caption;return r};var o=function e(){var r=false;if(t.codec&&t.codec.search("stpp")>=0){r=true}if(t.mimeType&&t.mimeType.search("ttml")>=0){r=true}return r};r.captionData=e;r.lang=t.lang;r.label=t.id;r.index=t.index;r.isTTML=o();r.video=I.getElement();r.defaultTrack=ee(t);r.isFragmented=S;r.isEmbedded=t.isEmbedded?true:false;r.kind=i();r.roles=t.roles;var s=(b?b.length:0)+L.length;E.addTextTrack(r,s)}if(h==="fragmentedText"){if(!P){P=true;for(o=0;o<b.length;o++){g(null,b[o])}A=m.getMediaTimescaleFromMoov(e)}else{f=m.getSamplesInfo(e);i=f.sampleList;if(!D&&i.length>0){D=i[0].cts-r.start*A}if(y.search("stpp")>=0){p=p!==null?p:te(y);for(o=0;o<i.length;o++){var _=i[o];var T=_.cts;var O=T-D;this.buffered.add(O/A,(O+_.duration)/A);var k=new DataView(e,_.offset,_.subSizes[0]);c=w["default"].Utils.dataViewToString(k,"utf-8");var x=[];var M=_.offset+_.subSizes[0];for(s=1;s<_.subSizes.length;s++){var R=new Uint8Array(e,M,_.subSizes[s]);var N=String.fromCharCode.apply(null,R);x.push(N);M+=_.subSizes[s]}try{n=p.parse(c,T/A,(T+_.duration)/A,x);E.addCaptions(j,D/A,n)}catch(e){t("TTML parser error: "+e.message)}}}else{var q=[];for(o=0;o<i.length;o++){var G=i[o];G.cts-=D;this.buffered.add(G.cts/A,(G.cts+G.duration)/A);var z=e.slice(G.offset,G.offset+G.size);var K=w["default"].parseBuffer(z);for(s=0;s<K.boxes.length;s++){var Y=K.boxes[s];t("VTT box1: "+Y.type);if(Y.type==="vtte"){continue}if(Y.type==="vttc"){t("VTT vttc boxes.length = "+Y.boxes.length);for(l=0;l<Y.boxes.length;l++){var W=Y.boxes[l];t("VTT box2: "+W.type);if(W.type==="payl"){var X=W.cue_text;t("VTT cue_text = "+X);var Q=G.cts/A;var $=(G.cts+G.duration)/A;q.push({start:Q,end:$,data:X,styles:{}});t("VTT "+Q+"-"+$+" : "+X)}}}}}if(q.length>0){E.addCaptions(j,0,q)}}}}else if(h==="text"){var k=new DataView(e,0,e.byteLength);c=w["default"].Utils.dataViewToString(k,"utf-8");try{n=te(y).parse(c);g(n,d)}catch(e){u.timedTextError(e,"parse",c)}}else if(h==="video"){if(r.segmentType==="InitializationSegment"){if(F===0){F=m.getMediaTimescaleFromMoov(e);for(o=0;o<L.length;o++){g(null,L[o])}}}else{if(F===0){t("CEA-608: No timescale for embeddedTextTrack yet");return}var J=function e(t,r){function n(e,t,n){var i=null;if(I.getTTMLRenderingDiv()){i=V.createHTMLCaptionsFromScreen(I.getElement(),e,t,n)}else{var a=n.getDisplayText();i=[{start:e,end:t,data:a,styles:{}}]}if(i){E.addCaptions(r,0,i)}}return n};f=m.getSamplesInfo(e);var re=f.sequenceNumber;if(!H[0]&&!H[1]){var ne=undefined,ie=undefined,ae=undefined;for(o=0;o<L.length;o++){if(L[o].id==="CC1"){ne=0;ae=E.getTrackIdxForId("CC1")}else if(L[o].id==="CC3"){ne=1;ae=E.getTrackIdxForId("CC3")}if(ae===-1){t("CEA-608: data before track is ready.");return}ie=J(this,ae);H[o]=new C["default"].Cea608Parser(o,{newCue:ie},null)}}if(F&&U.indexOf(re)==-1){if(B!==null&&re!==B+1){for(o=0;o<H.length;o++){if(H[o]){H[o].reset()}}}var oe=Z(e);for(var se=0;se<H.length;se++){var ue=oe.fields[se];var le=H[se];if(le){for(o=0;o<ue.length;o++){le.addData(ue[o][0]/F,ue[o][1])}if(oe.endTime){le.cueSplitAtTime(oe.endTime/F)}}}B=re;U.push(re)}}}}function Z(e){var r=o.parse(e);var n=r.getBox("moof");var i=r.getBox("tfdt");var a=r.getBox("tfhd");var s=r.getBoxes("trun");var u=null;if(s.length===0){return null}u=s[0];if(s.length>1){t("Warning: Too many truns")}var l=n.offset+u.data_offset;var f=u.sample_count;var c=l;var d=i.baseMediaDecodeTime;var p=new DataView(e);var h={startTime:null,endTime:null,fields:[[],[]]};var v=0;for(var y=0;y<f;y++){var g=u.samples[y];if(g.sample_duration===undefined){g.sample_duration=a.default_sample_duration}if(g.sample_size===undefined){g.sample_size=a.default_sample_size}if(g.sample_composition_time_offset===undefined){g.sample_composition_time_offset=0}var m=d+v+g.sample_composition_time_offset;var _=C["default"].findCea608Nalus(p,c,g.sample_size);for(var b=0;b<_.length;b++){var T=C["default"].extractCea608DataFromRange(p,_[b]);for(var E=0;E<2;E++){if(T[E].length>0){h.fields[E].push([m,T[E]])}}}v+=g.sample_duration;c+=g.sample_size}h.fields[0].sort(function(e,t){return e[0]-t[0]});h.fields[1].sort(function(e,t){return e[0]-t[0]});var w=d+v;h.startTime=d;h.endTime=w;return h}function ee(e){var t=false;if(L.length>1&&e.isEmbedded){t=e.id&&e.id==="CC1"}else if(L.length===1){if(e.id&&e.id.substring(0,2)==="CC"){t=true}}else if(L.length===0){t=e.index===b[0].index}return t}function te(e){var t;if(e.search("vtt")>=0){t=h}else if(e.search("ttml")>=0||e.search("stpp")>=0){t=y;t.setConfig({videoModel:I})}return t}i={initialize:q,append:J,abort:G,addEmbeddedTrack:W,resetEmbedded:Y,setConfig:X,getConfig:Q,setCurrentFragmentedTrackIdx:$};return i}A.__dashjs_factory_name="TextSourceBuffer";t["default"]=p["default"].getSingletonFactory(A);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(3);var a=n(i);var o=r(2);var s=n(o);var u=r(27);var l=n(u);var f=r(234);var c=n(f);var d=r(298);var p=n(d);var h=r(297);var v=n(h);var y=r(0);var g=n(y);var m=1;var _="Failed to resolve a valid URL";function b(){var e=this.context;var t=(0,a["default"])(e).getInstance();var r=(0,l["default"])(e).getInstance();var n=undefined,i=undefined,o=undefined,u=undefined,f=undefined;function d(){i=(0,c["default"])(e).create({updateEventName:s["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,loadFailedEventName:s["default"].FRAGMENT_LOADING_COMPLETED});o=(0,v["default"])(e).create({blacklistController:i});u=(0,p["default"])(e).create({blacklistController:i});f=o}function h(e){if(e.selector){f=e.selector}}function y(e){if(r.getIsDVB(e)){f=u}else{f=o}}function g(e){var r=e.baseUrls;var n=e.selectedIdx;if(!isNaN(n)){return r[n]}var i=f.select(r);if(!i){t.trigger(s["default"].URL_RESOLUTION_FAILED,{error:new Error(m,_)});return}e.selectedIdx=r.indexOf(i);return i}function b(){i.reset()}n={chooseSelectorFromManifest:y,select:g,reset:b,setConfig:h};d();return n}b.__dashjs_factory_name="BaseURLSelector";var T=g["default"].getClassFactory(b);T.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=m;T.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=_;t["default"]=T;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e=undefined,t=undefined;function r(){t=false}function n(){var e="WebKitMediaSource"in window;var t="MediaSource"in window;return e||t}function i(){return t}function a(e){t=e}function o(e,t){var r=e.canPlayType(t);return r==="probably"||r==="maybe"}e={supportsMediaSource:n,supportsEncryptedMedia:i,supportsCodec:o,setEncryptedMediaSupported:a};r();return e}o.__dashjs_factory_name="Capabilities";t["default"]=a["default"].getSingletonFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(16);var s=n(o);function u(e){var t=undefined;var r=new DataView(e.data);var n=0;function i(){return n}function a(e){n=e}function o(e,t){var i=true;var a=0;var o=undefined;var u=undefined;if(t===undefined){t=false}if(e.tag>16777215){if(r.getUint32(n)!==e.tag){i=false}a=4}else if(e.tag>65535){o=r.getUint16(n);u=r.getUint8(n+2);if(o*256+u!==e.tag){i=false}a=3}else if(e.tag>255){if(r.getUint16(n)!==e.tag){i=false}a=2}else{if(r.getUint8(n)!==e.tag){i=false}a=1}if(!i&&e.required&&!t){throw new s["default"]("required tag not found")}if(i){n+=a}return i}function u(e,t){var r=o(e,t);if(r){c()}return r}function l(e){var r=undefined;o(e);r=c();return t[e.parse](r)}function f(e,t){var r=o(e,t);var i=undefined;if(r){i=c();n+=i}return r}function c(e){var t=1;var i=128;var a=8;var o=-1;var s=0;var u=r.getUint8(n);var l=undefined;for(l=0;l<a;l+=1){if((u&i)===i){s=e===undefined?u&~i:u;o=l;break}i>>=1}for(l=0;l<o;l+=1,t+=1){s=s<<8|255&r.getUint8(n+t)}n+=t;return s}function d(e){var t=undefined;switch(e){case 4:t=r.getFloat32(n);n+=4;break;case 8:t=r.getFloat64(n);n+=8;break}return t}function p(e){var t=0;var i=undefined;for(i=0;i<e;i+=1){t<<=8;t|=r.getUint8(n+i)&255}n+=e;return t}function h(){return n<r.byteLength}t={getPos:i,setPos:a,consumeTag:o,consumeTagAndSize:u,parseTag:l,skipOverElement:f,getMatroskaCodedNum:c,getMatroskaFloat:d,getMatroskaUint:p,moreData:h};return t}u.__dashjs_factory_name="EBMLParser";t["default"]=a["default"].getClassFactory(u);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(302);var a=n(i);var o=r(0);var s=n(o);function u(){var e=undefined,t=undefined,r=undefined,n=undefined,i=undefined,o=undefined,s=undefined,u=undefined,l=undefined,f=undefined,c=undefined,d=undefined,p=undefined;function h(e){if(!e||!t||!t.boxes||t.boxes.length===0)return null;return T(t.fetch(e))}function v(e){var r=t.fetchAll(e);var n=[];var i;for(var a=0,o=r.length;a<o;a++){i=T(r[a]);if(i){n.push(i)}}return n}function y(e){t=e}function g(){if(!t||!t.boxes||!t.boxes.length)return null;var e=t.boxes[t.boxes.length-1].type;var r=v(e);return r[r.length-1]}function m(){return t._cursor.offset}function _(){r={offset:"_offset",size:"size",type:"type"};n={references:"references",timescale:"timescale",earliest_presentation_time:"earliest_presentation_time",first_offset:"first_offset"};i={reference_type:"reference_type",referenced_size:"referenced_size",subsegment_duration:"subsegment_duration"};o={id:"id",value:"value",timescale:"timescale",scheme_id_uri:"scheme_id_uri",presentation_time_delta:"presentation_time_delta",event_duration:"event_duration",message_data:"message_data"};s={timescale:"timescale"};u={sequence_number:"sequence_number"};l={entry_count:"entry_count",entries:"entries"};f={base_data_offset:"base_data_offset",sample_description_index:"sample_description_index",default_sample_duration:"default_sample_duration",default_sample_size:"default_sample_size",default_sample_flags:"default_sample_flags",flags:"flags"};c={version:"version",baseMediaDecodeTime:"baseMediaDecodeTime",flags:"flags"};d={sample_count:"sample_count",first_sample_flags:"first_sample_flags",data_offset:"data_offset",flags:"flags",samples:"samples"};p={sample_size:"sample_size",sample_duration:"sample_duration",sample_composition_time_offset:"sample_composition_time_offset"}}function b(e,t,r){for(var n in r){t[n]=e[r[n]]}}function T(e){if(!e)return null;var t=new a["default"];var h,v;b(e,t,r);if(e.hasOwnProperty("_incomplete")){t.isComplete=!e._incomplete}switch(t.type){case"sidx":b(e,t,n);if(t.references){for(h=0,v=t.references.length;h<v;h++){b(e.references[h],t.references[h],i)}}break;case"emsg":b(e,t,o);break;case"mdhd":b(e,t,s);break;case"mfhd":b(e,t,u);break;case"subs":b(e,t,l);break;case"tfhd":b(e,t,f);break;case"tfdt":b(e,t,c);break;case"trun":b(e,t,d);if(t.samples){for(h=0,v=t.samples.length;h<v;h++){b(e.samples[h],t.samples[h],p)}}break}return t}e={getBox:h,getBoxes:v,setData:y,getLastBox:g,getOffset:m};_();return e}u.__dashjs_factory_name="IsoFile";t["default"]=s["default"].getClassFactory(u);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(){var e=undefined;function t(e,t){return JSON.stringify(e)===JSON.stringify(t)}e={areSimpleEquivalent:t};return e}o.__dashjs_factory_name="ObjectUtils";t["default"]=a["default"].getSingletonFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(77);var s=n(o);var u=r(4);var l=n(u);var f=60*60;var c=60;function d(){var e=this.context;var t=(0,l["default"])(e).getInstance().log;var r=undefined,n=undefined,i=undefined,a=undefined,o=undefined,u=undefined,d=undefined,p=undefined,h=undefined,v=undefined,y=undefined,g=undefined,m=undefined,_=undefined,b=undefined,T=undefined,E=undefined,w=undefined,S=undefined;var C=0;function O(e){if(!e)return;if(e.videoModel){w=e.videoModel}}function k(e){if(e.hasOwnProperty("begin")&&e.hasOwnProperty("end")){var t=L(e.begin);var r=L(e.end);return[t,r]}else{return null}}function P(){var e="cue_TTML_"+C;C++;return e}function x(e,t,r){var n=[];var i=[];var a=[];function o(e,t){if(e.hasOwnProperty(t)){var r=e[t];if(i.indexOf(r)<0){i.push(r)}}}for(var s=0;s<e.length;s++){var u=e[s];o(u,"begin");o(u,"end")}if(i.length===0){return a}if(typeof t!=="undefined"&&typeof r!=="undefined"){for(var s=0;s<i.length;s++){var l=L(i[s]);if(t<l&&l<r){n.push(l)}}n.push(t);n.push(r)}else{for(var s=0;s<i.length;s++){n.push(L(i[s]))}}n.sort(function(e,t){return e-t});for(var s=0;s<n.length-1;s++){a.push([n[s],n[s+1]])}return a}function A(e,t){if(typeof t!=="undefined"){if(e<t){e=t}}return e}function M(e,t){if(typeof t!=="undefined"){if(e>t){e=t}}return e}function I(e,r,n){var i=L(e.begin);var a=L(e.end);i=A(i,r);a=M(a,n);if(typeof r!=="undefined"&&typeof n!=="undefined"){if(a<r||i>n){t("TTML: Cue "+i+"-"+a+" outside interval "+r+"-"+n);return null}}return[i,a]}function R(e,t){var r=true;if(e.hasOwnProperty("span")){var n=k(e.span);if(n!==null){r=n[0]<t[1]&&n[1]>t[0]}}return r}function D(e,r,n,s){var l=undefined,f=undefined,c=undefined,h=undefined,y=undefined,g=undefined;var m="";i=S.xml_str2json(e);if(!i){throw new Error("TTML document could not be parsed")}if(w.getTTMLRenderingDiv()){y="html"}l=i.tt;if(!l){throw new Error("TTML document lacks tt element")}var _=N(l,"http://www.w3.org/ns/ttml");if(_){F(l,_)}h=l["tts:extent"];f=l.head;if(!f){throw new Error("TTML document lacks head element")}if(f.layout){o=f.layout.region_asArray}if(f.styling){a=f.styling.style_asArray}var b={};if(s){for(g=0;g<s.length;g++){var T="urn:mpeg:14496-30:subs:"+(g+1).toString();var E="data:image/png;base64,"+btoa(s[g]);b[T]=E}}if(f.metadata){var C=f.metadata.image_asArray;if(C){for(g=0;g<C.length;g++){var T="#"+C[g]["xml:id"];var O=C[g].imagetype.toLowerCase();var E="data:image/"+O+";base64,"+C[g].__text;b[T]=E}}}c=l.body;if(!c){throw new Error("TTML document lacks body element")}var A=ee();var M=w.getElement().clientWidth;var D=w.getElement().clientHeight;var j=[M/A[0],D/A[1]];v["font-size"]=j[1]+"px;";var L=[];if(o){for(g=0;g<o.length;g++){L.push($(JSON.parse(JSON.stringify(o[g])),j))}}var B=N(i.tt,"http://www.w3.org/ns/ttml#parameter");if(l.hasOwnProperty(B+":frameRate")){l.frameRate=parseInt(l[B+":frameRate"],10)}var U=[];var H=l.body_asArray[0].__children;for(var z=0;z<H.length;z++){var K=H[z].div;var Y=null;if(null!==(Y=k(K))){var W=undefined;if(K.region){var X=J(o,K.region);W=Q(X,h)}if(!W){W=Q(K,h)}var Z=K["smpte:backgroundImage"];if(Z!==undefined&&b[Z]!==undefined){U.push({start:Y[0],end:Y[1],id:P(),data:b[Z],type:"image",layout:W})}continue}var ae=K.p_asArray;if(Y===null&&(!ae||ae.length===0)){m="TTML has div that contains no timing and no paragraphs.";t(m);return U}for(var oe=0;oe<ae.length;oe++){var se=ae[oe];var ue=se.span_asArray;var le=[];if(se.hasOwnProperty("begin")&&se.hasOwnProperty("end")){var fe=I(se,r,n);if(fe!==null){le.push(fe)}}else{le=x(ue,r,n)}if(le.length===0){m="TTML: Empty paragraph";continue}var ce=se.__children;for(var de=0;de<le.length;de++){var pe=le[de];var he=[];for(var ve=0;ve<ce.length;ve++){var ye=ce[ve];if(R(ye,pe)){he.push(ye)}}if(he.length===0){continue}if(y==="html"){d={};p={};u={};var ge=ne(se,K,j);var me=ie(se,j);var _e=me[1];me=me[0];var be=document.createElement("div");be.className=_e;var Te=re(he,j);Te.className="cueDirUniWrapper";if(V("unicode-bidi",me)){Te.style.cssText+=q("unicode-bidi",me);G("unicode-bidi",me)}if(V("direction",me)){Te.style.cssText+=q("direction",me);G("direction",me)}if(V("padding-left",me)&&V("padding-right",me)){Te.innerHTML=te(Te,me)}if(V("padding-left",me)&&V("padding-right",me)){G("padding-left",me);G("padding-right",me)}var Ee="";if(V("regionID",ge)){var we=q("regionID",ge);Ee=we.slice(we.indexOf(":")+1,we.length-1)}if(me){be.style.cssText=me.join(" ")+"display:flex;"}if(ge){ge=ge.join(" ")}be.appendChild(Te);var Se=document.createElement("div");Se.appendChild(be);Se.id=P();Se.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+ge;if(Object.keys(u).length===0){u.defaultFontSize="100"}U.push({start:pe[0],end:pe[1],type:"html",cueHTMLElement:Se,regions:L,regionID:Ee,cueID:Se.id,videoHeight:D,videoWidth:M,cellResolution:A,fontSize:u||{defaultFontSize:"100"},lineHeight:d,linePadding:p})}else{var Ce="";var Oe=he;if(Oe.length){Oe.forEach(function(e){if(e.hasOwnProperty("span")){var t=e.span.__children;t.forEach(function(e){if(t.hasOwnProperty("metadata")){return}if(e.hasOwnProperty("#text")){Ce+=e["#text"].replace(/[\r\n]+/gm," ").trim()}else if("br"in e){Ce+="\n"}})}else if(e.hasOwnProperty("br")){Ce+="\n"}else{Ce+=e["#text"].replace(/[\r\n]+/gm," ").trim()}})}U.push({start:pe[0],end:pe[1],data:Ce,type:"text"})}}}}if(m!==""){t(m)}if(U.length>0){return U}else{throw new Error(m)}}function j(){n=/^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\.([0-9])+)?$/;u={};d={};p={};h={top:"auto;",left:"auto;",width:"90%;",height:"10%;","align-items":"flex-start;",overflow:"visible;","-ms-writing-mode":"lr-tb, horizontal-tb;","-webkit-writing-mode":"horizontal-tb;","-moz-writing-mode":"horizontal-tb;","writing-mode":"horizontal-tb;"};v={color:"rgb(255,255,255);",direction:"ltr;","font-family":"monospace, sans-serif;","font-style":"normal;","line-height":"normal;","font-weight":"normal;","text-align":"start;","justify-content":"flex-start;","text-decoration":"none;","unicode-bidi":"normal;","white-space":"normal;",width:"100%;"};y={monospace:"font-family: monospace;",sansSerif:"font-family: sans-serif;",serif:"font-family: serif;",monospaceSansSerif:"font-family: monospace, sans-serif;",monospaceSerif:"font-family: monospace, serif;",proportionalSansSerif:"font-family: Arial;",proportionalSerif:"font-family: Times New Roman;",default:"font-family: monospace, sans-serif;"};g={right:["justify-content: flex-end;","text-align: right;"],start:["justify-content: flex-start;","text-align: start;"],center:["justify-content: center;","text-align: center;"],end:["justify-content: flex-end;","text-align: end;"],left:["justify-content: flex-start;","text-align: left;"]};m={start:"text-align: start;",center:"text-align: center;",end:"text-align: end;",auto:""};_={wrap:"white-space: normal;",noWrap:"white-space: nowrap;"};b={normal:"unicode-bidi: normal;",embed:"unicode-bidi: embed;",bidiOverride:"unicode-bidi: bidi-override;"};T={before:"align-items: flex-start;",center:"align-items: center;",after:"align-items: flex-end;"};E={lrtb:"-webkit-writing-mode: horizontal-tb;"+"writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;"+"writing-mode: horizontal-tb;"+"direction: rtl;"+"unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;"+"writing-mode: vertical-rl;"+"-webkit-text-orientation: upright;"+"text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;"+"writing-mode: vertical-lr;"+"-webkit-text-orientation: upright;"+"text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;"+"writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;"+"writing-mode: horizontal-tb;"+"direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;"+"writing-mode: vertical-rl;"+"-webkit-text-orientation: upright;"+"text-orientation: upright;"};S=new s["default"]({escapeMode:false,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:false,enableToStringFunc:false,matchers:[]})}function L(e){var t=n.test(e);var r,a,o;if(!t){return NaN}r=e.split(":");a=parseFloat(r[0])*f+parseFloat(r[1])*c+parseFloat(r[2]);if(r[3]){o=i.tt.frameRate;if(o&&!isNaN(o)){a+=parseFloat(r[3])/o}else{return NaN}}return a}function N(e,t){var r=Object.keys(e).filter(function(r){return(r.split(":")[0]==="xmlns"||r.split(":")[1]==="xmlns")&&e[r]===t}).map(function(e){return e.split(":")[2]||e.split(":")[1]});if(r.length!=1){return null}return r[0]}function F(e,t){for(var r in e){if(e.hasOwnProperty(r)){if((typeof e[r]==="object"||e[r]instanceof Object)&&!Array.isArray(e[r])){F(e[r],t)}else if(Array.isArray(e[r])){for(var n=0;n<e[r].length;n++){F(e[r][n],t)}}var i=t+":";var a=r.indexOf(i);if(a>=0){var o=r.slice(a+i.length);e[o]=e[r];delete e[r]}}}}function B(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function U(e){var t=e.slice(1);var r=t.match(/.{2}/g);var n=parseFloat(parseInt(parseInt(r[3],16)/255*1e3,10)/1e3);var i=r.slice(0,3).map(function(e){return parseInt(e,16)});return"rgba("+i.join(",")+","+n+");"}function H(e){var t=undefined,r=undefined,n=undefined;t=e.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(",");r=parseInt(t[t.length-1],10)/255;n="rgba("+t[0]+","+t[1]+","+t[2]+","+r+");";return n}function V(e,t){for(var r=0;r<t.length;r++){if(t[r].indexOf(e)>-1){return true}}return false}function q(e,t){for(var r=0;r<t.length;r++){if(t[r].indexOf(e)>-1){return t[r]}}return null}function G(e,t){t.splice(t.indexOf(q(e,t)),1)}function z(e,t){for(var r=0;r<e.length;r++){for(var n=0;n<t.length;n++){if(e[r]){if(e[r].split(":")[0].indexOf(t[n].split(":")[0])>-1){e.splice(r,1)}}}}return e.concat(t)}function K(e){var t=new Array(2);var r=e.indexOf(":")===-1?0:e.indexOf(":");var n=undefined;if(e.indexOf("%")===-1){if(e.indexOf("c")===-1){if(e.indexOf("p")===-1){t[0]=t[1]=null}else{t[0]="p";n=e.indexOf("p")}}else{t[0]="c";n=e.indexOf("c")}}else{t[0]="%";n=e.indexOf("%")}t[1]=e.slice(r,n);return t}function Y(e,t,r){var n=[];var a,o;for(var s in e){if(e.hasOwnProperty(s)){var l=s.replace("ebutts:","");l=l.replace("xml:","");l=l.replace("tts:","");l=B(l);e[l]=e[s];delete e[s]}}if("line-padding"in e){var f=parseFloat(e["line-padding"].slice(e["line-padding"].indexOf(":")+1,e["line-padding"].indexOf("c")));if("id"in e){p[e.id]=f}var c=f*t[0]+"px;";n.push("padding-left:"+c);n.push("padding-right:"+c)}if("font-size"in e){var h=K(e["font-size"]);var v=parseFloat(h[1]);if("id"in e){u[e.id]=h}if(h[0]==="%"){a=v/100*t[1]+"px;"}else if(h[0]==="c"){a=v*t[1]+"px;"}n.push("font-size:"+a)}if("line-height"in e){if(e["line-height"]==="normal"){n.push("line-height: normal;")}else{var T=K(e["line-height"]);var E=parseFloat(T[1]);if("id"in e){d[e.id]=T}if(T[0]==="%"){o=E/100*t[1]+"px;"}else if(T[0]==="c"){o=E*t[1]+"px;"}n.push("line-height:"+o)}}if("font-family"in e){if(e["font-family"]in y){n.push(y[e["font-family"]])}else{n.push("font-family:"+e["font-family"]+";")}}if("text-align"in e){if(e["text-align"]in g){n.push(g[e["text-align"]][0]);n.push(g[e["text-align"]][1])}}if("multi-row-align"in e){if(V("text-align",n)&&e["multi-row-align"]!="auto"){G("text-align",n)}if(e["multi-row-align"]in m){n.push(m[e["multi-row-align"]])}}var w;if("background-color"in e){if(e["background-color"].indexOf("#")>-1&&e["background-color"].length-1===8){w=U(e["background-color"])}else if(e["background-color"].indexOf("rgba")>-1){w=H(e["background-color"])}else{w=e["background-color"]+";"}n.push("background-color: "+w)}if("color"in e){if(e.color.indexOf("#")>-1&&e.color.length-1===8){w=U(e.color)}else if(e.color.indexOf("rgba")>-1){w=H(e.color)}else{w=e.color+";"}n.push("color: "+w)}if("wrap-option"in e){if(e["wrap-option"]in _){n.push(_[e["wrap-option"]])}else{n.push("white-space:"+e["wrap-option"])}}if("unicode-bidi"in e){if(e["unicode-bidi"]in b){n.push(b[e["unicode-bidi"]])}else{n.push("unicode-bidi:"+e["unicode-bidi"])}}if("font-style"in e){n.push("font-style:"+e["font-style"]+";")}if("font-weight"in e){n.push("font-weight:"+e["font-weight"]+";")}if("direction"in e){n.push("direction:"+e.direction+";")}if("text-decoration"in e){n.push("text-decoration:"+e["text-decoration"]+";")}if(r){n=n.concat($(e,t))}if(i.tt.hasOwnProperty("xml:space")){if(i.tt["xml:space"]==="preserve"){n.push("white-space: pre;")}}return n}function W(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n["xml:id"]===t||n.id===t){return n}}return null}function X(e,t,r){var n=[];var i=e.match(/\S+/g);i.forEach(function(e){var i=W(a,e);if(i){var o=Y(JSON.parse(JSON.stringify(i)),t,r);n=n.concat(o)}});return n}function Q(e,r){var n=/([\d\.]+)(%|px)\s+([\d\.]+)(%|px)/;if("tts:extent"in e&&"tts:origin"in e){var i=n.exec(e["tts:extent"]);var a=n.exec(e["tts:origin"]);if(i===null||a===null){t("Bad extent or origin: "+e["tts:extent"]+" "+e["tts:origin"]);return null}var o=parseFloat(i[1]);var s=parseFloat(i[3]);var u=parseFloat(a[1]);var l=parseFloat(a[3]);if(r){var f=n.exec(r);if(f===null||f[2]!=="px"||f[4]!=="px"){t("Bad tt.extent: "+r);return null}var c=parseFloat(f[1]);var d=parseFloat(f[3]);if(i[2]==="px"){o=o/c*100}if(i[4]==="px"){s=s/d*100}if(a[2]==="px"){u=u/c*100}if(a[4]==="px"){l=l/d*100}}return{left:u,top:l,width:o,height:s}}else{return null}}function $(e,t){var r=[];for(var n in e){var i=n.replace("tts:","");i=i.replace("xml:","");i=B(i);e[i]=e[n];if(i!==n){delete e[n]}}if("extent"in e){var a=e.extent.split(/\s/);r.push("width: "+a[0]+";");r.push("height: "+a[1]+";")}if("origin"in e){var o=e.origin.split(/\s/);r.push("left: "+o[0]+";");r.push("top: "+o[1]+";")}if("display-align"in e){r.push(T[e["display-align"]])}if("writing-mode"in e){r.push(E[e["writing-mode"]])}if("style"in e){var s=X(e.style,t,true);r=r.concat(s)}if("padding"in e){r.push("padding:"+e.padding+";")}if("overflow"in e){r.push("overflow:"+e.overflow+";")}if("show-background"in e){r.push("show-background:"+e["show-background"]+";")}if("id"in e){r.push("regionID:"+e.id+";")}return r}function J(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n["xml:id"]===t||n.id===t){return n}}return null}function Z(e,t){var r=[];var n=e.match(/\S+/g);n.forEach(function(e){var n=J(o,e);if(n){var i=$(JSON.parse(JSON.stringify(n)),t);r=r.concat(i)}});return r}function ee(){var e=[32,15];if(i.tt.hasOwnProperty("ttp:cellResolution")){return i.tt["ttp:cellResolution"].split(" ").map(parseFloat)}else{return e}}function te(e,t){var r=q("padding-left",t);var n=q("padding-right",t);var i=r.concat(" "+n+" ");var a="";var o="";var s="";var u=Array.prototype.slice.call(e.children);var l=e.getElementsByClassName("lineBreak")[0];var f=u.indexOf(l);var c=[];while(f!=-1){c.push(f);f=u.indexOf(l,f+1)}var d="</span>";var p="<br>";var h="<span"+' class="spanPadding" '+'style="-webkit-box-decoration-break: clone; box-decoration-break: clone; ';if(c.length){c.forEach(function(e,t){if(t===0){var r="";for(var n=0;n<e;n++){a+=u[n].outerHTML;if(n===0){r=i.concat(u[n].style.cssText)}}a=h+r+'">'+a}var l="";for(var f=e+1;f<u.length;f++){o+=u[f].outerHTML;if(f===u.length-1){l+=i.concat(u[f].style.cssText)}}o=h+l+'">'+o;if(a&&o&&t===c.length-1){s+=a+d+p+o+d}else if(a&&o&&t!==c.length-1){s+=a+d+p+o+d+p}else if(a&&!o){s+=a+d}else if(!a&&o&&t===c.length-1){s+=o+d}else if(!a&&o&&t!==c.length-1){s+=o+d+p}})}else{var v="";for(var y=0;y<u.length;y++){v+=u[y].style.cssText}s=h+i+v+'">'+e.innerHTML+d}return s}function re(e,t){var r=document.createElement("div");e.forEach(function(e){if(e.hasOwnProperty("metadata")){return}if(e.hasOwnProperty("span")){var n=e.span.__children;var i=document.createElement("span");if(e.span.hasOwnProperty("style")){var a=X(e.span.style,t);i.className="spanPadding "+e.span.style;i.style.cssText=a.join(" ")}n.forEach(function(e){if(n.hasOwnProperty("metadata")){return}if(e.hasOwnProperty("#text")){var t=document.createTextNode(e["#text"]);i.appendChild(t)}else if("br"in e){if(i.hasChildNodes()){r.appendChild(i)}var a=document.createElement("br");a.className="lineBreak";r.appendChild(a);var o=document.createElement("span");o.className=i.className;o.style.cssText=i.style.cssText;i=o}});r.appendChild(i)}else if(e.hasOwnProperty("br")){var o=document.createElement("br");o.className="lineBreak";r.appendChild(o)}else if(e.hasOwnProperty("#text")){var s=document.createElement("span");s.textContent=e["#text"];r.appendChild(s)}});return r}function ne(e,t,r){var n=[];var i=e.region;var a=t.region;var o;var s;if(a){o=Z(a,r)}if(i){s=n.concat(Z(i,r));if(o){n=z(o,s)}else{n=s}}else if(o){n=o}ae(n,h);return n}function ie(e,t){var r=[];var n=e.style;var a=i.tt.body.style;var o=i.tt.body.div.style;var s;var u;var l;var f="";if(a){s=X(a,t);f="paragraph "+a}if(o){u=X(o,t);if(s){u=z(s,u);f+=" "+o}else{f="paragraph "+o}}if(n){l=X(n,t);if(s&&u){r=z(u,l);f+=" "+n}else if(s){r=z(s,l);f+=" "+n}else if(u){r=z(u,l);f+=" "+n}else{r=l;f="paragraph "+n}}else if(s&&!u){r=s}else if(!s&&u){r=u}ae(r,v);return[r,f]}function ae(e,t){for(var r in t){if(t.hasOwnProperty(r)){if(!V(r,e)){e.push(r+":"+t[r])}}}}r={parse:D,setConfig:O};j();return r}d.__dashjs_factory_name="TTMLParser";t["default"]=a["default"].getSingletonFactory(d);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);var o=r(4);var s=n(o);function u(){var e=this.context;var t=(0,s["default"])(e).getInstance().log;var r=undefined,n=undefined,i=undefined,a=undefined,o=undefined;function u(){n=/(?:\r\n|\r|\n)/gm;i=/-->/;a=/(^[\s]+|[\s]+$)/g;o=/\s\b/g}function l(e){var r=[];var o,s;e=e.split(n);o=e.length;s=-1;for(var u=0;u<o;u++){var l=e[u];if(l.length>0&&l!=="WEBVTT"){if(l.match(i)){var d=c(l);var h=d.cuePoints;var v=d.styles;var y=p(e,u+1);var g=f(h[0].replace(a,""));var m=f(h[1].replace(a,""));if(!isNaN(g)&&!isNaN(m)&&g>=s&&m>g){if(y!==""){s=g;r.push({start:g,end:m,data:y,styles:v})}else{t("Skipping cue due to empty/malformed cue text")}}else{t("Skipping cue due to incorrect cue timing")}}}}return r}function f(e){var t=e.split(":");var r=t.length-1;e=parseInt(t[r-1],10)*60+parseFloat(t[r]);if(r===2){e+=parseInt(t[0],10)*3600}return e}function c(e){var t=e.split(i);var r=t[1].split(o);r.shift();t[1]=r[0];r.shift();return{cuePoints:t,styles:d(r)}}function d(e){var t={};e.forEach(function(e){if(e.split(/:/).length>1){var r=e.split(/:/)[1];if(r&&r.search(/%/)!=-1){r=parseInt(r.replace(/%/,""),10)}if(e.match(/align/)||e.match(/A/)){t.align=r}if(e.match(/line/)||e.match(/L/)){t.line=r}if(e.match(/position/)||e.match(/P/)){t.position=r}if(e.match(/size/)||e.match(/S/)){t.size=r}}});return t}function p(e,t){var r=t;var n="";var a="";var o;while(e[r]!==""&&r<e.length){r++}o=r-t;if(o>1){for(var s=0;s<o;s++){a=e[t+s];if(!a.match(i)){n+=a;if(s!==o-1){n+="\n"}}else{n="";break}}}else{a=e[t];if(!a.match(i))n=a}return n}r={parse:l};u();return r}u.__dashjs_factory_name="VTTParser";t["default"]=a["default"].getSingletonFactory(u);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(e){var t=undefined;var r=e.blacklistController;function n(e){var t=0;var n;if(e&&e.some(function(e,n){t=n;return!r.contains(e.serviceLocation)})){n=e[t]}return n}t={select:n};return t}o.__dashjs_factory_name="BasicSelector";t["default"]=a["default"].getClassFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}var i=r(0);var a=n(i);function o(e){var t=undefined;var r=e.blacklistController;function n(e){var t=[];var n=function e(r){if(t.length){if(r.dvb_priority&&t.indexOf(r.dvb_priority)!==-1){return false}}return true};var i=function e(n){if(r.contains(n.serviceLocation)){if(n.dvb_priority){t.push(n.dvb_priority)}return false}return true};return e.filter(i).filter(n)}function i(e){var t=function e(t,r){var n=t.dvb_priority-r.dvb_priority;return isNaN(n)?0:n};var r=function e(t,r,n){return!r||n[0].dvb_priority&&t.dvb_priority&&n[0].dvb_priority===t.dvb_priority};var n=0;var i=[];var a=0;var o;var s;s=e.sort(t).filter(r);if(s.length){if(s.length>1){s.forEach(function(e){n+=e.dvb_weight;i.push(n)});o=Math.floor(Math.random()*(n-1));i.every(function(e,t){a=t;if(o<e){return false}return true})}return s[a]}}function a(e){return e&&i(n(e))}t={select:a};return t}o.__dashjs_factory_name="DVBSelector";t["default"]=a["default"].getClassFactory(o);e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.mediaType=null;this.bitrate=null;this.width=null;this.height=null;this.qualityIndex=NaN};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.streamId=null;this.mediaInfo=null;this.segmentType=null;this.quality=NaN;this.index=NaN;this.bytes=null;this.start=NaN;this.end=NaN;this.duration=NaN;this.representationId=null};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function e(t,r,n){var i=true;e:while(i){var a=t,o=r,s=n;i=false;if(a===null)a=Function.prototype;var u=Object.getOwnPropertyDescriptor(a,o);if(u===undefined){var l=Object.getPrototypeOf(a);if(l===null){return undefined}else{t=l;r=o;n=s;i=true;u=l=undefined;continue e}}else if("value"in u){return u.value}else{var f=u.get;if(f===undefined){return undefined}return f.call(s)}}};function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=r(36);var u=i(s);var l=function(e){o(t,e);function t(e){a(this,t);n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.url=e||null;this.checkForExistenceOnly=true}return t}(u["default"]);t["default"]=l;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.offset=NaN;this.type=null;this.size=NaN;this.isComplete=true};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.DVRWindowSize=NaN;this.loadedTime=null;this.availableFrom=null;this.minBufferTime=NaN;this.duration=NaN;this.isDynamic=false;this.maxFragmentDuration=null};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.id=null;this.index=null;this.type=null;this.streamInfo=null;this.representationCount=0;this.lang=null;this.viewpoint=null;this.accessibility=null;this.audioChannelConfiguration=null;this.roles=null;this.codec=null;this.mimeType=null;this.contentProtection=null;this.isText=false;this.KID=null;this.bitrateList=null};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.TcpList=[];this.HttpList=[];this.RepSwitchList=[];this.BufferLevel=[];this.BufferState=[];this.PlayList=[];this.DroppedFrames=[];this.SchedulingInfo=[];this.DVRInfo=[];this.ManifestUpdate=[];this.RequestsQueue=null;this.DVBErrors=[];this.BolaState=[]};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.id=null;this.index=null;this.start=NaN;this.duration=NaN;this.manifestInfo=null;this.isLast=true;this.isFirst=true};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.video=null;this.captionData=null;this.label=null;this.lang=null;this.defaultTrack=false;this.kind=null;this.isFragmented=false;this.isEmbedded=false};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.id=null;this.quality=null;this.DVRWindow=null;this.fragmentDuration=null;this.mediaInfo=null;this.MSETimeOffset=null};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.t=null;this.xywh=null;this.track=null;this.id=null;this.s=null};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this._s=undefined};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.t=null;this.level=null};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=r(29);var o=n(a);var s=function e(){i(this,e);this.target=null;this.state=o["default"].BUFFER_EMPTY};t["default"]=s;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.time=null;this.range=null;this.manifestInfo=null};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.time=null;this.droppedFrames=null};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.mediaType=null;this.type=null;this.requestTime=null;this.fetchTime=null;this.availabilityStartTime=null;this.presentationStartTime=0;this.clientTimeOffset=0;this.currentTime=null;this.buffered=null;this.latency=0;this.streamInfo=[];this.trackInfo=[]};var a=function e(){n(this,e);this.id=null;this.index=null;this.start=null;this.duration=null};var o=function e(){n(this,e);this.id=null;this.index=null;this.mediaType=null;this.streamIndex=null;this.presentationTimeOffset=null;this.startNumber=null;this.fragmentInfoType=null};t.ManifestUpdate=i;t.ManifestUpdateStreamInfo=a;t.ManifestUpdateTrackInfo=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.t=null;this.mt=null;this.to=null;this.lto=null};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.loadingRequests=[];this.executedRequests=[]};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.mediaType=null;this.t=null;this.type=null;this.startTime=null;this.availabilityStartTime=null;this.duration=null;this.quality=null;this.range=null;this.state=null};t["default"]=i;e.exports=t["default"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function e(){n(this,e);this.tcpid=null;this.dest=null;this.topen=null;this.tclose=null;this.tconnect=null};t["default"]=i;e.exports=t["default"]},function(e,t,r){var n=r(134);e.exports=o;var i=Object.prototype.toString;var a=Object.prototype.hasOwnProperty;function o(e,t,r){if(!n(t)){throw new TypeError("iterator must be a function")}if(arguments.length<3){r=this}if(i.call(e)==="[object Array]")s(e,t,r);else if(typeof e==="string")u(e,t,r);else l(e,t,r)}function s(e,t,r){for(var n=0,i=e.length;n<i;n++){if(a.call(e,n)){t.call(r,e[n],n,e)}}}function u(e,t,r){for(var n=0,i=e.length;n<i;n++){t.call(r,e.charAt(n),n,e)}}function l(e,t,r){for(var n in e){if(a.call(e,n)){t.call(r,e[n],n,e)}}}},function(e,t,r){"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var n=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty;var a=Object.prototype.propertyIsEnumerable;function o(e){if(e===null||e===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(e)}function s(){try{if(!Object.assign){return false}var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5"){return false}var t={};for(var r=0;r<10;r++){t["_"+String.fromCharCode(r)]=r}var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(n.join("")!=="0123456789"){return false}var i={};"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e});if(Object.keys(Object.assign({},i)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}e.exports=s()?Object.assign:function(e,t){var r;var s=o(e);var u;for(var l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var f in r){if(i.call(r,f)){s[f]=r[f]}}if(n){u=n(r);for(var c=0;c<u.length;c++){if(a.call(r,u[c])){s[u[c]]=r[u[c]]}}}}return s}},function(e,t,r){var n=r(326),i=r(320),a=function(e){return Object.prototype.toString.call(e)==="[object Array]"};e.exports=function(e){if(!e)return{};var t={};i(n(e).split("\n"),function(e){var r=e.indexOf(":"),i=n(e.slice(0,r)).toLowerCase(),o=n(e.slice(r+1));if(typeof t[i]==="undefined"){t[i]=o}else if(a(t[i])){t[i].push(o)}else{t[i]=[t[i],o]}});return t}},function(e,t){var r=t.decimalAdjust=function(e,t,r){if(typeof r==="undefined"||+r===0){return Math[e](t)}t=+t;r=+r;if(isNaN(t)||!(typeof r==="number"&&r%1===0)){return NaN}t=t.toString().split("e");t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-r:-r)));t=t.toString().split("e");return+(t[0]+"e"+(t[1]?+t[1]+r:r))};e.exports={round10:function(e,t){return r("round",e,t)},floor10:function(e,t){return r("floor",e,t)},ceil10:function(e,t){return r("ceil",e,t)}};e.exports.polyfill=function(){if(!Math.round10){Math.round10=e.exports.round10}if(!Math.floor10){Math.floor10=e.exports.floor10}if(!Math.ceil10){Math.ceil10=e.exports.ceil10}}},function(e,t){e.exports=r;function r(e,t){var r;var n=null;try{r=JSON.parse(e,t)}catch(e){n=e}return[n,r]}},function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t){t=e.exports=r;function r(e){return e.replace(/^\s*|\s*$/g,"")}t.left=function(e){return e.replace(/^\s*/,"")};t.right=function(e){return e.replace(/\s*$/,"")}},function(e,t,r){var n;var n;/**
 * @license
 * Video.js 5.20.3 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
!function(t){if(true)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.videojs=t()}}(function(){var e;return function e(t,r,i){function a(s,u){if(!r[s]){if(!t[s]){var l="function"==typeof n&&n;if(!u&&l)return n(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return a(r||e)},c,c.exports,e,t,r,i)}return r[s].exports}for(var o="function"==typeof n&&n,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(2),u=n(s),l=e(5),f=n(l),c=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.mouseused_=!1,o.on("mousedown",o.handleMouseDown),o}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(e){var t=this.player_.play();if(!(this.mouseused_&&e.clientX&&e.clientY)){var r=this.player_.getChild("controlBar"),n=r&&r.getChild("playToggle");if(!n)return void this.player_.focus();var i=function(){return n.focus()};if(t&&t.then){var a=function(){};t.then(i,a)}else this.setTimeout(i,1)}},t.prototype.handleKeyPress=function(t){this.mouseused_=!1,e.prototype.handleKeyPress.call(this,t)},t.prototype.handleMouseDown=function(e){this.mouseused_=!0},t}(u["default"]);c.prototype.controlText_="Play Video",f["default"].registerComponent("BigPlayButton",c),r["default"]=c},{2:2,5:5}],2:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(3),u=n(s),l=e(5),f=n(l),c=e(86),d=n(c),p=e(88),h=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return o(t,e),t.prototype.createEl=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"button",t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};t=(0,p.assign)({className:this.buildCSSClass()},t),"button"!==e&&(d["default"].warn("Creating a Button with an HTML element of "+e+" is deprecated; use ClickableComponent instead."),t=(0,p.assign)({tabIndex:0},t),r=(0,p.assign)({role:"button"},r)),r=(0,p.assign)({type:"button","aria-live":"polite"},r);var n=f["default"].prototype.createEl.call(this,e,t,r);return this.createControlTextEl(n),n},t.prototype.addChild=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=this.constructor.name;return d["default"].warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead."),f["default"].prototype.addChild.call(this,e,t)},t.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(u["default"]);f["default"].registerComponent("Button",h),r["default"]=h},{3:3,5:5,86:86,88:88}],3:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var u=e(5),l=i(u),f=e(81),c=n(f),d=e(82),p=n(d),h=e(83),v=n(h),y=e(86),g=i(y),m=e(94),_=i(m),b=e(88),T=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this,r,n));return i.emitTapEvents(),i.enable(),i}return s(t,e),t.prototype.createEl=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div",r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};r=(0,b.assign)({className:this.buildCSSClass(),tabIndex:0},r),"button"===t&&g["default"].error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),n=(0,b.assign)({role:"button","aria-live":"polite"},n),this.tabIndex_=r.tabIndex;var i=e.prototype.createEl.call(this,t,r,n);return this.createControlTextEl(i),i},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=c.createEl("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.el();if(!e)return this.controlText_||"Need Text";var r=this.localize(e);return this.controlText_=e,this.controlTextEl_.innerHTML=r,this.nonIconControl||t.setAttribute("title",r),this},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},t.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},t.prototype.handleClick=function(e){},t.prototype.handleFocus=function(e){p.on(_["default"],"keydown",v.bind(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleClick(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(e){p.off(_["default"],"keydown",v.bind(this,this.handleKeyPress))},t}(l["default"]);l["default"].registerComponent("ClickableComponent",T),r["default"]=T},{5:5,81:81,82:82,83:83,86:86,88:88,94:94}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(2),u=n(s),l=e(5),f=n(l),c=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.controlText(n&&n.controlText||o.localize("Close")),o}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(u["default"]);f["default"].registerComponent("CloseButton",c),r["default"]=c},{2:2,5:5}],5:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=e(95),s=i(o),u=e(81),l=n(u),f=e(83),c=n(f),d=e(85),p=n(d),h=e(82),v=n(h),y=e(86),g=i(y),m=e(91),_=i(m),b=e(87),T=i(b),E=function(){function e(t,r,n){if(a(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=(0,T["default"])({},this.options_),r=this.options_=(0,T["default"])(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+p.newGUID()}this.name_=r.name||null,r.el?this.el_=r.el:!1!==r.createEl&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==r.initChildren&&this.initChildren(),this.ready(n),!1!==r.reportTouchActivity&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),l.removeElData(this.el_),this.el_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return g["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=(0,T["default"])(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,r){return l.createEl(e,t,r)},e.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages();if(!t||!r)return e;var n=r[t];if(n&&n[e])return n[e];var i=t.split("-")[0],a=r[i];return a&&a[e]?a[e]:e},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){if(e)return e=(0,_["default"])(e),this.childNameIndex_[e]},e.prototype.addChild=function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.children_.length,i=void 0,a=void 0;if("string"==typeof t){a=(0,_["default"])(t),r||(r={}),!0===r&&(g["default"].warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),r={});var o=r.componentClass||a;r.name=a;var s=e.getComponent(o);if(!s)throw new Error("Component "+o+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,r)}else i=t;if(this.children_.splice(n,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),a=a||i.name&&(0,_["default"])(i.name()),a&&(this.childNameIndex_[a]=i),"function"==typeof i.el&&i.el()){var u=this.contentEl().children,l=u[n]||null;this.contentEl().insertBefore(i.el(),l)}return i},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){t=!0,this.children_.splice(r,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,r=this.options_.children;if(r){var n=this.options_,i=function(e){var r=e.name,i=e.opts;if(n[r]!==undefined&&(i=n[r]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var a=t.addChild(r,i);a&&(t[r]=a)}},a=void 0,o=e.getComponent("Tech");a=Array.isArray(r)?r:Object.keys(r),a.concat(Object.keys(this.options_).filter(function(e){return!a.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var n=void 0,i=void 0;return"string"==typeof e?(n=e,i=r[n]||t.options_[n]||{}):(n=e.name,i=e),{name:n,opts:i}}).filter(function(t){var r=e.getComponent(t.opts.componentClass||(0,_["default"])(t.name));return r&&!o.isTech(r)}).forEach(i)}},e.prototype.buildCSSClass=function(){return""},e.prototype.on=function(e,t,r){var n=this;if("string"==typeof e||Array.isArray(e))v.on(this.el_,e,c.bind(this,t));else{var i=e,a=t,o=c.bind(this,r),s=function(){return n.off(i,a,o)};s.guid=o.guid,this.on("dispose",s);var u=function(){return n.off("dispose",s)};u.guid=o.guid,e.nodeName?(v.on(i,a,o),v.on(i,"dispose",u)):"function"==typeof e.on&&(i.on(a,o),i.on("dispose",u))}return this},e.prototype.off=function(e,t,r){if(!e||"string"==typeof e||Array.isArray(e))v.off(this.el_,e,t);else{var n=e,i=t,a=c.bind(this,r);this.off("dispose",a),e.nodeName?(v.off(n,i,a),v.off(n,"dispose",a)):(n.off(i,a),n.off("dispose",a))}return this},e.prototype.one=function(e,t,r){var n=this,i=arguments;if("string"==typeof e||Array.isArray(e))v.one(this.el_,e,c.bind(this,t));else{var a=e,o=t,s=c.bind(this,r),u=function e(){n.off(a,o,e),s.apply(null,i)};u.guid=s.guid,this.on(a,o,u)}return this},e.prototype.trigger=function(e,t){return v.trigger(this.el_,e,t),this},e.prototype.ready=function(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return l.$(e,t||this.contentEl())},e.prototype.$$=function(e,t){return l.$$(e,t||this.contentEl())},e.prototype.hasClass=function(e){return l.hasElClass(this.el_,e)},e.prototype.addClass=function(e){return l.addElClass(this.el_,e),this},e.prototype.removeClass=function(e){return l.removeElClass(this.el_,e),this},e.prototype.toggleClass=function(e,t){return l.toggleElClass(this.el_,e,t),this},e.prototype.show=function(){return this.removeClass("vjs-hidden"),this},e.prototype.hide=function(){return this.addClass("vjs-hidden"),this},e.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},e.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},e.prototype.getAttribute=function(e){return l.getAttribute(this.el_,e)},e.prototype.setAttribute=function(e,t){return l.setAttribute(this.el_,e,t),this},e.prototype.removeAttribute=function(e){return l.removeAttribute(this.el_,e),this},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},e.prototype.dimension=function(e,t,r){if(t!==undefined)return null!==t&&t===t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",r||this.trigger("resize"),this;if(!this.el_)return 0;var n=this.el_.style[e],i=n.indexOf("px");return-1!==i?parseInt(n.slice(0,i),10):parseInt(this.el_["offset"+(0,_["default"])(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof s["default"].getComputedStyle){var r=s["default"].getComputedStyle(this.el_);t=r.getPropertyValue(e)||r[e]}if(0===(t=parseFloat(t))){var n="offset"+(0,_["default"])(e);t=this.el_[n]}return t},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.focus=function(){this.el_.focus()},e.prototype.blur=function(){this.el_.blur()},e.prototype.emitTapEvents=function(){var e=0,t=null,r=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=(new Date).getTime(),r=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)r=!1;else if(t){var n=e.touches[0].pageX-t.pageX,i=e.touches[0].pageY-t.pageY,a=Math.sqrt(n*n+i*i);a>10&&(r=!1)}});var n=function(){r=!1};this.on("touchleave",n),this.on("touchcancel",n),this.on("touchend",function(n){if(t=null,!0===r){(new Date).getTime()-e<200&&(n.preventDefault(),this.trigger("tap"))}})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=c.bind(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var r=function(r){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}},e.prototype.setTimeout=function(e,t){e=c.bind(this,e);var r=s["default"].setTimeout(e,t),n=function(){this.clearTimeout(r)};return n.guid="vjs-timeout-"+r,this.on("dispose",n),r},e.prototype.clearTimeout=function(e){s["default"].clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){e=c.bind(this,e);var r=s["default"].setInterval(e,t),n=function(){this.clearInterval(r)};return n.guid="vjs-interval-"+r,this.on("dispose",n),r},e.prototype.clearInterval=function(e){s["default"].clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.registerComponent=function(t,r){if(t){if(t=(0,_["default"])(t),e.components_||(e.components_={}),"Player"===t&&e.components_[t]){var n=e.components_[t];if(n.players&&Object.keys(n.players).length>0&&Object.keys(n.players).map(function(e){return n.players[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created")}return e.components_[t]=r,r}},e.getComponent=function(t){if(t)return t=(0,_["default"])(t),e.components_&&e.components_[t]?e.components_[t]:s["default"]&&s["default"].videojs&&s["default"].videojs[t]?(g["default"].warn("The "+t+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),s["default"].videojs[t]):void 0},e.extend=function(t){t=t||{},g["default"].warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var r=t.init||t.init||this.prototype.init||this.prototype.init||function(){},n=function(){r.apply(this,arguments)};n.prototype=Object.create(this.prototype),n.prototype.constructor=n,n.extend=e.extend;for(var i in t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);return n},e}();E.registerComponent("Component",E),r["default"]=E},{81:81,82:82,83:83,85:85,86:86,87:87,91:91,95:95}],6:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(36),u=n(s),l=e(5),f=n(l),c=e(7),d=n(c),p=function(e){function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};i(this,t),n.tracks=r.audioTracks&&r.audioTracks();var o=a(this,e.call(this,r,n));return o.el_.setAttribute("aria-label","Audio Menu"),o}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];this.hideThreshold_=1;var t=this.player_.audioTracks&&this.player_.audioTracks();if(!t)return e;for(var r=0;r<t.length;r++){var n=t[r];e.push(new d["default"](this.player_,{track:n,selectable:!0}))}return e},t}(u["default"]);p.prototype.controlText_="Audio Track",f["default"].registerComponent("AudioTrackButton",p),r["default"]=p},{36:36,5:5,7:7}],7:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(48),u=n(s),l=e(5),f=n(l),c=e(83),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(c),p=function(e){function t(r,n){i(this,t);var o=n.track,s=r.audioTracks();n.label=o.label||o.language||"Unknown",n.selected=o.enabled;var u=a(this,e.call(this,r,n));if(u.track=o,s){var l=d.bind(u,u.handleTracksChange);s.addEventListener("change",l),u.on("dispose",function(){s.removeEventListener("change",l)})}return u}return o(t,e),t.prototype.handleClick=function(t){var r=this.player_.audioTracks();if(e.prototype.handleClick.call(this,t),r)for(var n=0;n<r.length;n++){var i=r[n];i.enabled=i===this.track}},t.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(u["default"]);f["default"].registerComponent("AudioTrackMenuItem",p),r["default"]=p},{48:48,5:5,83:83}],8:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e(5),s=function(e){return e&&e.__esModule?e:{default:e}}(o);e(12),e(32),e(33),e(35),e(34),e(10),e(18),e(9),e(38),e(40),e(11),e(25),e(27),e(29),e(24),e(6),e(13),e(21);var u=function(e){function t(){return n(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(s["default"]);u.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},s["default"].registerComponent("ControlBar",u),r["default"]=u},{10:10,11:11,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,32:32,33:33,34:34,35:35,38:38,40:40,5:5,6:6,9:9}],9:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(2),u=n(s),l=e(5),f=n(l),c=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.on(r,"fullscreenchange",o.handleFullscreenChange),o}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(u["default"]);c.prototype.controlText_="Fullscreen",f["default"].registerComponent("FullscreenToggle",c),r["default"]=c},{2:2,5:5}],10:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e(5),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=e(81),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(u),f=function(e){function t(r,a){n(this,t);var o=i(this,e.call(this,r,a));return o.updateShowing(),o.on(o.player(),"durationchange",o.updateShowing),o}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=l.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateShowing=function(e){this.player().duration()===Infinity?this.show():this.hide()},t}(s["default"]);s["default"].registerComponent("LiveDisplay",f),r["default"]=f},{5:5,81:81}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(2),u=n(s),l=e(5),f=n(l),c=e(81),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(c),p=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.on(r,"volumechange",o.update),r.tech_&&!1===r.tech_.featuresVolumeControl&&o.addClass("vjs-hidden"),o.on(r,"loadstart",function(){this.update(),!1===r.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),o}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.muted(!this.player_.muted())},t.prototype.update=function(e){var t=this.player_.volume(),r=3;this.player_.muted()?r=0:t<.33?r=1:t<.67&&(r=2);var n=this.player_.muted()?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n);for(var i=0;i<4;i++)d.removeElClass(this.el_,"vjs-vol-"+i);d.addElClass(this.el_,"vjs-vol-"+r)},t}(u["default"]);p.prototype.controlText_="Mute",f["default"].registerComponent("MuteToggle",p),r["default"]=p},{2:2,5:5,81:81}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(2),u=n(s),l=e(5),f=n(l),c=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.on(r,"play",o.handlePlay),o.on(r,"pause",o.handlePause),o}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(e){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t}(u["default"]);c.prototype.controlText_="Play",f["default"].registerComponent("PlayToggle",c),r["default"]=c},{2:2,5:5}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(47),u=n(s),l=e(49),f=n(l),c=e(14),d=n(c),p=e(5),h=n(p),v=e(81),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(v),g=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.updateVisibility(),o.updateLabel(),o.on(r,"loadstart",o.updateVisibility),o.on(r,"ratechange",o.updateLabel),o}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=y.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var e=new f["default"](this.player()),t=this.playbackRates();if(t)for(var r=t.length-1;r>=0;r--)e.addChild(new d["default"](this.player(),{rate:t[r]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),r=this.playbackRates(),n=r[0],i=0;i<r.length;i++)if(r[i]>t){n=r[i];break}this.player().playbackRate(n)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(u["default"]);g.prototype.controlText_="Playback Rate",h["default"].registerComponent("PlaybackRateMenuButton",g),r["default"]=g},{14:14,47:47,49:49,5:5,81:81}],14:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(48),u=n(s),l=e(5),f=n(l),c=function(e){function t(r,n){i(this,t);var o=n.rate,s=parseFloat(o,10);n.label=o,n.selected=1===s,n.selectable=!0;var u=a(this,e.call(this,r,n));return u.label=o,u.rate=s,u.on(r,"ratechange",u.update),u}return o(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(u["default"]);c.prototype.contentElType="button",f["default"].registerComponent("PlaybackRateMenuItem",c),r["default"]=c},{48:48,5:5}],15:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e(5),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=e(81),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(u),f=function(e){function t(r,a){n(this,t);var o=i(this,e.call(this,r,a));return o.partEls_=[],o.on(r,"progress",o.update),o}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.update=function(e){var t=this.player_.buffered(),r=this.player_.duration(),n=this.player_.bufferedEnd(),i=this.partEls_,a=function(e,t){var r=e/t||0;return 100*(r>=1?1:r)+"%"};this.el_.style.width=a(n,r);for(var o=0;o<t.length;o++){var s=t.start(o),u=t.end(o),f=i[o];f||(f=this.el_.appendChild(l.createEl()),i[o]=f),f.style.left=a(s,n),f.style.width=a(u-s,n)}for(var c=i.length;c>t.length;c--)this.el_.removeChild(i[c-1]);i.length=t.length},t}(s["default"]);s["default"].registerComponent("LoadProgressBar",f),r["default"]=f},{5:5,81:81}],16:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var u=e(5),l=i(u),f=e(81),c=n(f),d=e(83),p=n(d),h=e(84),v=i(h),y=e(80),g=i(y),m=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this,r,n));return n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&(i.tooltip=c.createEl("div",{className:"vjs-time-tooltip"}),i.el().appendChild(i.tooltip),i.addClass("vjs-keep-tooltips-inside")),i.update(0,0),r.on("ready",function(){i.on(r.controlBar.progressControl.el(),"mousemove",p.throttle(p.bind(i,i.handleMouseMove),25))}),i}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.handleMouseMove=function(e){var t=this.player_.duration(),r=this.calculateDistance(e)*t,n=e.pageX-c.findElPosition(this.el().parentNode).left;this.update(r,n)},t.prototype.update=function(e,t){var r=(0,v["default"])(e,this.player_.duration());if(this.el().style.left=t+"px",this.el().setAttribute("data-current-time",r),this.keepTooltipsInside){var n=this.clampPosition_(t),i=t-n+1,a=parseFloat((0,g["default"])(this.tooltip,"width")),o=a/2;this.tooltip.innerHTML=r,this.tooltip.style.right="-"+(o-i)+"px"}},t.prototype.calculateDistance=function(e){return c.getPointerPosition(this.el().parentNode,e).x},t.prototype.clampPosition_=function(e){if(!this.keepTooltipsInside)return e;var t=parseFloat((0,g["default"])(this.player().el(),"width")),r=parseFloat((0,g["default"])(this.tooltip,"width")),n=r/2,i=e;return e<n?i=Math.ceil(n):e>t-n&&(i=Math.floor(t-n)),i},t}(l["default"]);l["default"].registerComponent("MouseTimeDisplay",m),r["default"]=m},{5:5,80:80,81:81,83:83,84:84}],17:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(5),u=n(s),l=e(83),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(l),c=e(84),d=n(c),p=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.updateDataAttr(),o.on(r,"timeupdate",o.updateDataAttr),r.ready(f.bind(o,o.updateDataAttr)),n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(o.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),o.keepTooltipsInside&&o.addClass("vjs-keep-tooltips-inside"),o}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",(0,d["default"])(t,this.player_.duration()))},t}(u["default"]);u["default"].registerComponent("PlayProgressBar",p),r["default"]=p},{5:5,83:83,84:84}],18:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e(5),s=function(e){return e&&e.__esModule?e:{default:e}}(o);e(19),e(16);var u=function(e){function t(){return n(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t}(s["default"]);u.prototype.options_={children:["seekBar"]},s["default"].registerComponent("ProgressControl",u),r["default"]=u},{16:16,19:19,5:5}],19:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(57),u=n(s),l=e(5),f=n(l),c=e(83),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(c),p=e(84),h=n(p),v=e(80),y=n(v);e(15),e(17),e(20);var g=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.on(r,"timeupdate",o.updateProgress),o.on(r,"ended",o.updateProgress),r.ready(d.bind(o,o.updateProgress)),n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(o.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),o.keepTooltipsInside&&(o.tooltipProgressBar=o.addChild("TooltipProgressBar")),o}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},t.prototype.updateProgress=function(e){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var t=parseFloat((0,y["default"])(this.player().el(),"width")),r=parseFloat((0,y["default"])(this.tooltipProgressBar.tooltip,"width")),n=this.tooltipProgressBar.el().style;n.maxWidth=Math.floor(t-r/2)+"px",n.minWidth=Math.ceil(r/2)+"px",n.right="-"+r/2+"px"}},t.prototype.updateAriaAttributes=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),e.setAttribute("aria-valuetext",(0,h["default"])(t,this.player_.duration()))},t.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t}(u["default"]);g.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},g.prototype.playerEvent="timeupdate",f["default"].registerComponent("SeekBar",g),r["default"]=g},{15:15,17:17,20:20,5:5,57:57,80:80,83:83,84:84}],20:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(5),u=n(s),l=e(83),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(l),c=e(84),d=n(c),p=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.updateDataAttr(),o.on(r,"timeupdate",o.updateDataAttr),r.ready(f.bind(o,o.updateDataAttr)),o}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=t.querySelector(".vjs-time-tooltip"),t},t.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),r=(0,d["default"])(t,this.player_.duration());this.el_.setAttribute("data-current-time",r),this.tooltip.innerHTML=r},t}(u["default"]);u["default"].registerComponent("TooltipProgressBar",p),r["default"]=p},{5:5,83:83,84:84}],21:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(22),u=n(s),l=e(5),f=n(l),c=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(u["default"]);f["default"].registerComponent("CustomControlSpacer",c),r["default"]=c},{22:22,5:5}],22:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e(5),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){function t(){return n(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(s["default"]);s["default"].registerComponent("Spacer",u),r["default"]=u},{5:5}],23:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(31),u=n(s),l=e(5),f=n(l),c=function(e){function t(r,n){i(this,t),n.track={player:r,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1;var o=a(this,e.call(this,r,n));return o.addClass("vjs-texttrack-settings"),o.controlText(", opens "+n.kind+" settings dialog"),o}return o(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},t}(u["default"]);f["default"].registerComponent("CaptionSettingsMenuItem",c),r["default"]=c},{31:31,5:5}],24:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(30),u=n(s),l=e(5),f=n(l),c=e(23),d=n(c),p=function(e){function t(r,n,o){i(this,t);var s=a(this,e.call(this,r,n,o));return s.el_.setAttribute("aria-label","Captions Menu"),s}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(t.push(new d["default"](this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(u["default"]);p.prototype.kind_="captions",p.prototype.controlText_="Captions",f["default"].registerComponent("CaptionsButton",p),r["default"]=p},{23:23,30:30,5:5}],25:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(30),u=n(s),l=e(5),f=n(l),c=e(26),d=n(c),p=e(91),h=n(p),v=function(e){function t(r,n,o){i(this,t);var s=a(this,e.call(this,r,n,o));return s.el_.setAttribute("aria-label","Chapters Menu"),s}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},t.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_)}}},t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var r=e[t];if(r.kind===this.kind_)return r}},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize((0,h["default"])(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},t.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var r=0,n=t.length;r<n;r++){var i=t[r],a=new d["default"](this.player_,{track:this.track_,cue:i});e.push(a)}return e},t}(u["default"]);v.prototype.kind_="chapters",v.prototype.controlText_="Chapters",f["default"].registerComponent("ChaptersButton",v),r["default"]=v},{26:26,30:30,5:5,91:91}],26:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(48),u=n(s),l=e(5),f=n(l),c=e(83),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(c),p=function(e){function t(r,n){i(this,t);var o=n.track,s=n.cue,u=r.currentTime();n.selectable=!0,n.label=s.text,n.selected=s.startTime<=u&&u<s.endTime;var l=a(this,e.call(this,r,n));return l.track=o,l.cue=s,o.addEventListener("cuechange",d.bind(l,l.update)),l}return o(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(e){var t=this.cue,r=this.player_.currentTime();this.selected(t.startTime<=r&&r<t.endTime)},t}(u["default"]);f["default"].registerComponent("ChaptersTrackMenuItem",p),r["default"]=p},{48:48,5:5,83:83}],27:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(30),u=n(s),l=e(5),f=n(l),c=e(83),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(c),p=function(e){function t(r,n,o){i(this,t);var s=a(this,e.call(this,r,n,o));s.el_.setAttribute("aria-label","Descriptions Menu");var u=r.textTracks();if(u){var l=d.bind(s,s.handleTracksChange);u.addEventListener("change",l),s.on("dispose",function(){u.removeEventListener("change",l)})}return s}return o(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),r=!1,n=0,i=t.length;n<i;n++){var a=t[n];if(a.kind!==this.kind_&&"showing"===a.mode){r=!0;break}}r?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t}(u["default"]);p.prototype.kind_="descriptions",p.prototype.controlText_="Descriptions",f["default"].registerComponent("DescriptionsButton",p),r["default"]=p},{30:30,5:5,83:83}],28:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(31),u=n(s),l=e(5),f=n(l),c=function(e){function t(r,n){i(this,t),n.track={player:r,kind:n.kind,label:n.kind+" off",default:!1,mode:"disabled"},n.selectable=!0;var o=a(this,e.call(this,r,n));return o.selected(!0),o}return o(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),r=!0,n=0,i=t.length;n<i;n++){var a=t[n];if(a.kind===this.track.kind&&"showing"===a.mode){r=!1;break}}this.selected(r)},t}(u["default"]);f["default"].registerComponent("OffTextTrackMenuItem",c),r["default"]=c},{31:31,5:5}],29:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(30),u=n(s),l=e(5),f=n(l),c=function(e){function t(r,n,o){i(this,t);var s=a(this,e.call(this,r,n,o));return s.el_.setAttribute("aria-label","Subtitles Menu"),s}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t}(u["default"]);c.prototype.kind_="subtitles",c.prototype.controlText_="Subtitles",f["default"].registerComponent("SubtitlesButton",c),r["default"]=c},{30:30,5:5}],30:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(36),u=n(s),l=e(5),f=n(l),c=e(31),d=n(c),p=e(28),h=n(p),v=function(e){function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return i(this,t),n.tracks=r.textTracks(),a(this,e.call(this,r,n))}return o(t,e),t.prototype.createItems=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];e.push(new h["default"](this.player_,{kind:this.kind_})),this.hideThreshold_+=1;var t=this.player_.textTracks();if(!t)return e;for(var r=0;r<t.length;r++){var n=t[r];n.kind===this.kind_&&e.push(new d["default"](this.player_,{track:n,selectable:!0}))}return e},t}(u["default"]);f["default"].registerComponent("TextTrackButton",v),r["default"]=v},{28:28,31:31,36:36,5:5}],31:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=e(48),l=n(u),f=e(5),c=n(f),d=e(83),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(d),h=e(95),v=n(h),y=e(94),g=n(y),m=function(e){function t(r,n){i(this,t);var o=n.track,u=r.textTracks();n.label=o.label||o.language||"Unknown",n.selected=o["default"]||"showing"===o.mode;var l=a(this,e.call(this,r,n));if(l.track=o,u){var f=p.bind(l,l.handleTracksChange);r.on(["loadstart","texttrackchange"],f),u.addEventListener("change",f),l.on("dispose",function(){u.removeEventListener("change",f)})}if(u&&u.onchange===undefined){var c=void 0;l.on(["tap","click"],function(){if("object"!==s(v["default"].Event))try{c=new v["default"].Event("change")}catch(e){}c||(c=g["default"].createEvent("Event"),c.initEvent("change",!0,!0)),u.dispatchEvent(c)})}return l}return o(t,e),t.prototype.handleClick=function(t){var r=this.track.kind,n=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),n)for(var i=0;i<n.length;i++){var a=n[i];a.kind===r&&(a===this.track?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled"))}},t.prototype.handleTracksChange=function(e){this.selected("showing"===this.track.mode)},t}(l["default"]);c["default"].registerComponent("TextTrackMenuItem",m),r["default"]=m},{48:48,5:5,83:83,94:94,95:95}],32:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(5),u=n(s),l=e(81),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(l),c=e(84),d=n(c),p=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.on(r,"timeupdate",o.updateContent),o}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=f.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),r=this.localize("Current Time"),n=(0,d["default"])(t,this.player_.duration());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+r+"</span> "+n)},t}(u["default"]);u["default"].registerComponent("CurrentTimeDisplay",p),r["default"]=p},{5:5,81:81,84:84}],33:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(5),u=n(s),l=e(81),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(l),c=e(84),d=n(c),p=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.on(r,"durationchange",o.updateContent),o.on(r,"timeupdate",o.updateContent),o.on(r,"loadedmetadata",o.updateContent),o}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=f.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){var t=this.player_.duration();if(t&&this.duration_!==t){this.duration_=t;var r=this.localize("Duration Time"),n=(0,d["default"])(t);this.contentEl_.innerHTML='<span class="vjs-control-text">'+r+"</span> "+n}},t}(u["default"]);u["default"].registerComponent("DurationDisplay",p),r["default"]=p},{5:5,81:81,84:84}],34:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(5),u=n(s),l=e(81),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(l),c=e(84),d=n(c),p=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.on(r,"timeupdate",o.updateContent),o.on(r,"durationchange",o.updateContent),o}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=f.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){if(this.player_.duration()){var t=this.localize("Remaining Time"),r=(0,d["default"])(this.player_.remainingTime());r!==this.formattedTime_&&(this.formattedTime_=r,this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> -"+r)}},t}(u["default"]);u["default"].registerComponent("RemainingTimeDisplay",p),r["default"]=p},{5:5,81:81,84:84}],35:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e(5),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){function t(){return n(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(s["default"]);s["default"].registerComponent("TimeDivider",u),r["default"]=u},{5:5}],36:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(47),u=n(s),l=e(5),f=n(l),c=e(83),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(c),p=function(e){function t(r,n){i(this,t);var o=n.tracks,s=a(this,e.call(this,r,n));if(s.items.length<=1&&s.hide(),!o)return a(s);var u=d.bind(s,s.update);return o.addEventListener("removetrack",u),o.addEventListener("addtrack",u),s.player_.on("dispose",function(){o.removeEventListener("removetrack",u),o.removeEventListener("addtrack",u)}),s}return o(t,e),t}(u["default"]);f["default"].registerComponent("TrackButton",p),r["default"]=p},{47:47,5:5,83:83}],37:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(57),u=n(s),l=e(5),f=n(l),c=e(83),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(c);e(39);var p=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.on(r,"volumechange",o.updateARIAAttributes),r.ready(d.bind(o,o.updateARIAAttributes)),o}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},t.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(e){var t=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t}(u["default"]);p.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},p.prototype.playerEvent="volumechange",f["default"].registerComponent("VolumeBar",p),r["default"]=p},{39:39,5:5,57:57,83:83}],38:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e(5),s=function(e){return e&&e.__esModule?e:{default:e}}(o);e(37);var u=function(e){function t(r,a){n(this,t);var o=i(this,e.call(this,r,a));return r.tech_&&!1===r.tech_.featuresVolumeControl&&o.addClass("vjs-hidden"),o.on(r,"loadstart",function(){!1===r.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),o}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},t}(s["default"]);u.prototype.options_={children:["volumeBar"]},s["default"].registerComponent("VolumeControl",u),r["default"]=u},{37:37,5:5}],39:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e(5),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){function t(){return n(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(s["default"]);s["default"].registerComponent("VolumeLevel",u),r["default"]=u},{5:5}],40:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(83),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(s),l=e(5),f=n(l),c=e(54),d=n(c),p=e(53),h=n(p),v=e(11),y=n(v),g=e(37),m=n(g),_=function(e){function t(r){function n(){r.tech_&&!1===r.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};i(this,t),o.inline===undefined&&(o.inline=!0),o.vertical===undefined&&(o.inline?o.vertical=!1:o.vertical=!0),o.volumeBar=o.volumeBar||{},o.volumeBar.vertical=!!o.vertical;var s=a(this,e.call(this,r,o));return s.on(r,"volumechange",s.volumeUpdate),s.on(r,"loadstart",s.volumeUpdate),n.call(s),s.on(r,"loadstart",n),s.on(s.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),s.on(s.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),s.on(s.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),s.on(s.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),s}return o(t,e),t.prototype.buildCSSClass=function(){var t="";return t=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+e.prototype.buildCSSClass.call(this)+" "+t},t.prototype.createPopup=function(){var e=new d["default"](this.player_,{contentElType:"div"}),t=new m["default"](this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e},t.prototype.handleClick=function(t){y["default"].prototype.handleClick.call(this),e.prototype.handleClick.call(this)},t.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],u.bind(this,this.handleMouseDown))},t.prototype.handleMouseDown=function(e){this.on(["mousemove","touchmove"],u.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},t.prototype.handleMouseUp=function(e){this.off(["mousemove","touchmove"],u.bind(this.volumeBar,this.volumeBar.handleMouseMove))},t}(h["default"]);_.prototype.volumeUpdate=y["default"].prototype.update,_.prototype.controlText_="Mute",f["default"].registerComponent("VolumeMenuButton",_),r["default"]=_},{11:11,37:37,5:5,53:53,54:54,83:83}],41:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(5),u=n(s),l=e(50),f=n(l),c=e(87),d=n(c),p=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.on(r,"error",o.open),o}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(f["default"]);p.prototype.options_=(0,d["default"])(f["default"].prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),u["default"].registerComponent("ErrorDisplay",p),r["default"]=p},{5:5,50:50,87:87}],42:[function(e,t,r){"use strict";r.__esModule=!0;var n=e(82),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(n),a=function(){};a.prototype.allowedEvents_={},a.prototype.on=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},i.on(this,e,t),this.addEventListener=r},a.prototype.addEventListener=a.prototype.on,a.prototype.off=function(e,t){i.off(this,e,t)},a.prototype.removeEventListener=a.prototype.off,a.prototype.one=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},i.one(this,e,t),this.addEventListener=r},a.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=i.fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),i.trigger(this,e)},a.prototype.dispatchEvent=a.prototype.trigger,r["default"]=a},{82:82}],43:[function(e,t,r){"use strict";r.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e(86),a=function(e){return e&&e.__esModule?e:{default:e}}(i),o=e(88),s=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":n(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},u=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=function(){e.apply(this,arguments)},n={};(0,o.isObject)(t)?("function"==typeof t.init&&(a["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(r=t.constructor),n=t):"function"==typeof t&&(r=t),s(r,e);for(var i in n)n.hasOwnProperty(i)&&(r.prototype[i]=n[i]);return r};r["default"]=u},{86:86,88:88}],44:[function(e,t,r){"use strict";r.__esModule=!0;for(var n=e(94),i=function(e){return e&&e.__esModule?e:{default:e}}(n),a={},o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],s=o[0],u=void 0,l=0;l<o.length;l++)if(o[l][1]in i["default"]){u=o[l];break}if(u)for(var f=0;f<u.length;f++)a[s[f]]=u[f];r["default"]=a},{94:94}],45:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e(5),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){function t(){return n(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(s["default"]);s["default"].registerComponent("LoadingSpinner",u),r["default"]=u},{5:5}],46:[function(e,t,r){"use strict";function n(e){if(e instanceof n)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:(0,i.isObject)(e)&&("number"==typeof e.code&&(this.code=e.code),(0,i.assign)(this,e)),this.message||(this.message=n.defaultMessages[this.code]||"")}r.__esModule=!0;var i=e(88);n.prototype.code=0,n.prototype.message="",n.prototype.status=null,n.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],n.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var a=0;a<n.errorTypes.length;a++)n[n.errorTypes[a]]=a,n.prototype[n.errorTypes[a]]=a;r["default"]=n},{88:88}],47:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var u=e(3),l=i(u),f=e(5),c=i(f),d=e(49),p=i(d),h=e(81),v=n(h),y=e(83),g=n(y),m=e(91),_=i(m),b=function(e){function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};a(this,t);var i=o(this,e.call(this,r,n));return i.update(),i.enabled_=!0,i.el_.setAttribute("aria-haspopup","true"),i.el_.setAttribute("role","menuitem"),i.on("keydown",i.handleSubmenuKeyPress),i}return s(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.prototype.createMenu=function(){var e=new p["default"](this.player_);if(this.hideThreshold_=0,this.options_.title){var t=v.createEl("li",{className:"vjs-menu-title",innerHTML:(0,_["default"])(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),v.insertElFirst(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",g.bind(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault()):38===t.which||40===t.which?this.buttonPressed_||(this.pressButton(),t.preventDefault()):e.prototype.handleKeyPress.call(this,t)},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault())},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},t.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,e.prototype.disable.call(this)},t.prototype.enable=function(){return this.enabled_=!0,e.prototype.enable.call(this)},t}(l["default"]);c["default"].registerComponent("MenuButton",b),r["default"]=b},{3:3,49:49,5:5,81:81,83:83,91:91}],48:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(3),u=n(s),l=e(5),f=n(l),c=e(88),d=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.selectable=n.selectable,o.selected(n.selected),o.selectable?o.el_.setAttribute("role","menuitemcheckbox"):o.el_.setAttribute("role","menuitem"),o}return o(t,e),t.prototype.createEl=function(t,r,n){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",(0,c.assign)({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},r),n)},t.prototype.handleClick=function(e){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},t}(u["default"]);f["default"].registerComponent("MenuItem",d),r["default"]=d},{3:3,5:5,88:88}],49:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(5),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=e(81),f=n(l),c=e(83),d=n(c),p=e(82),h=n(p),v=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.focusedChild_=-1,o.on("keydown",o.handleKeyPress),o}return o(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",d.bind(this,function(e){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=f.createEl(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var r=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.setAttribute("role","presentation"),r.appendChild(this.contentEl_),h.on(r,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),r},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;this.focusedChild_!==undefined&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;this.focusedChild_!==undefined&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(u["default"]);u["default"].registerComponent("Menu",v),r["default"]=v},{5:5,81:81,82:82,83:83}],50:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(81),u=n(s),l=e(83),f=n(l),c=e(5),d=function(e){return e&&e.__esModule?e:{default:e}}(c),p="vjs-modal-dialog",h=function(e){function t(r,n){i(this,t);var o=a(this,e.call(this,r,n));return o.opened_=o.hasBeenOpened_=o.hasBeenFilled_=!1,o.closeable(!o.options_.uncloseable),o.content(o.options_.content),o.contentEl_=u.createEl("div",{className:p+"-content"},{role:"document"}),o.descEl_=u.createEl("p",{className:p+"-description vjs-offscreen",id:o.el().getAttribute("aria-describedby")}),u.textContent(o.descEl_,o.description()),o.el_.appendChild(o.descEl_),o.el_.appendChild(o.contentEl_),o}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.buildCSSClass=function(){return p+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},t.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",f.bind(this,this.handleKeyPress)),e.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",f.bind(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},t.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,r=this.getChild("closeButton");if(t&&!r){var n=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(r,"close",this.close)}!t&&r&&(this.off(r,"close",this.close),this.removeChild(r),r.dispose())}return this.closeable_},t.prototype.fill=function(){return this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),r=t.parentNode,n=t.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(t),this.empty(),u.insertContent(t,e),this.trigger("modalfill"),n?r.insertBefore(t,n):r.appendChild(t),this},t.prototype.empty=function(){return this.trigger("beforemodalempty"),u.emptyEl(this.contentEl()),this.trigger("modalempty"),this},t.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},t}(d["default"]);h.prototype.options_={pauseOnOpen:!0,temporary:!0},d["default"].registerComponent("ModalDialog",h),r["default"]=h},{5:5,81:81,83:83}],51:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var u=e(5),l=i(u),f=e(94),c=i(f),d=e(95),p=i(d),h=e(82),v=n(h),y=e(81),g=n(y),m=e(83),_=n(m),b=e(85),T=n(b),E=e(78),w=n(E),S=e(86),C=i(S),O=e(91),k=i(O),P=e(90),x=e(79),A=e(89),M=n(A),I=e(44),R=i(I),D=e(46),j=i(D),L=e(97),N=i(L),F=e(88),B=e(87),U=i(B),H=e(69),V=i(H),q=e(50),G=i(q),z=e(62),K=i(z),Y=e(63),W=i(Y),X=e(76),Q=i(X);e(61),e(59),e(55),e(68),e(45),e(1),e(4),e(8),e(41),e(71),e(60);var $=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],J=function(e){function t(r,n,i){if(a(this,t),r.id=r.id||"vjs_video_"+T.newGUID(),n=(0,F.assign)(t.getTagSettings(r),n),n.initChildren=!1,n.createEl=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof r.closest){var s=r.closest("[lang]");s&&(n.language=s.getAttribute("lang"))}else for(var u=r;u&&1===u.nodeType;){if(g.getElAttributes(u).hasOwnProperty("lang")){n.language=u.getAttribute("lang");break}u=u.parentNode}var l=o(this,e.call(this,null,n,i));if(!l.options_||!l.options_.techOrder||!l.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(l.tag=r,l.tagAttributes=r&&g.getElAttributes(r),l.language(l.options_.language),n.languages){var f={};Object.getOwnPropertyNames(n.languages).forEach(function(e){f[e.toLowerCase()]=n.languages[e]}),l.languages_=f}else l.languages_=t.prototype.options_.languages;l.cache_={},l.poster_=n.poster||"",l.controls_=!!n.controls,r.controls=!1,l.scrubbing_=!1,l.el_=l.createEl();var c=(0,U["default"])(l.options_);if(n.plugins){var d=n.plugins;Object.getOwnPropertyNames(d).forEach(function(e){"function"==typeof this[e]?this[e](d[e]):C["default"].error("Unable to find plugin:",e)},l)}l.options_.playerOptions=c,l.initChildren(),l.isAudio("audio"===r.nodeName.toLowerCase()),l.controls()?l.addClass("vjs-controls-enabled"):l.addClass("vjs-controls-disabled"),l.el_.setAttribute("role","region"),l.isAudio()?l.el_.setAttribute("aria-label","audio player"):l.el_.setAttribute("aria-label","video player"),l.isAudio()&&l.addClass("vjs-audio"),l.flexNotSupported_()&&l.addClass("vjs-no-flex"),w.IS_IOS||l.addClass("vjs-workinghover"),t.players[l.id_]=l;var p="5.20.3".split(".")[0];return l.addClass("vjs-v"+p),l.userActive(!0),l.reportUserActivity(),l.listenForUserActivity_(),l.on("fullscreenchange",l.handleFullscreenChange_),l.on("stageclick",l.handleStageClick_),l}return s(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.tag,r=void 0,n=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");r=this.el_=n?t.parentNode:e.prototype.createEl.call(this,"div"),t.setAttribute("tabindex","-1"),t.removeAttribute("width"),t.removeAttribute("height");var i=g.getElAttributes(t);if(Object.getOwnPropertyNames(i).forEach(function(e){"class"===e?r.className+=" "+i[e]:r.setAttribute(e,i[e])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=r.player=this,this.addClass("vjs-paused"),!0!==p["default"].VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=M.createStyleElement("vjs-styles-dimensions");var a=g.$(".vjs-styles-defaults"),o=g.$("head");o.insertBefore(this.styleEl_,a?a.nextSibling:o.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var s=t.getElementsByTagName("a"),u=0;u<s.length;u++){var l=s.item(u);g.addElClass(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!n&&t.parentNode.insertBefore(r,t),g.insertElFirst(t,r),this.children_.unshift(t),this.el_=r,r},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var r=e+"_";if(t===undefined)return this[r]||0;if(""===t)this[r]=undefined;else{var n=parseFloat(t);if(isNaN(n))return C["default"].error('Improper value "'+t+'" supplied for for '+e),this;this[r]=n}return this.updateStyleEl_(),this},t.prototype.fluid=function(e){if(e===undefined)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},t.prototype.aspectRatio=function(e){if(e===undefined)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(!0===p["default"].VIDEOJS_NO_DYNAMIC_STYLE){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,r=this.tech_&&this.tech_.el();return void(r&&(e>=0&&(r.width=e),t>=0&&(r.height=t)))}var n=void 0,i=void 0,a=void 0,o=void 0;a=this.aspectRatio_!==undefined&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var s=a.split(":"),u=s[1]/s[0];n=this.width_!==undefined?this.width_:this.height_!==undefined?this.height_/u:this.videoWidth()||300,i=this.height_!==undefined?this.height_:n*u,o=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(o),M.setTextContent(this.styleEl_,"\n      ."+o+" {\n        width: "+n+"px;\n        height: "+i+"px;\n      }\n\n      ."+o+".vjs-fluid {\n        padding-top: "+100*u+"%;\n      }\n    ")},t.prototype.loadTech_=function(e,t){var r=this;this.tech_&&this.unloadTech_(),"Html5"!==e&&this.tag&&(K["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var n=(0,F.assign)({source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+e+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]},this.options_[e.toLowerCase()]);this.tag&&(n.tag=this.tag),t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(n.startTime=this.cache_.currentTime),this.cache_.sources=null,this.cache_.source=t,this.cache_.src=t.src);var i=K["default"].getTech(e);i||(i=l["default"].getComponent(e)),this.tech_=new i(n),this.tech_.ready(_.bind(this,this.handleTechReady_),!0),V["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),$.forEach(function(e){r.on(r.tech_,e,r["handleTech"+(0,k["default"])(e)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===e&&this.tag||g.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=V["default"].textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){if(e&&e.IWillNotUseThisInPlugins)return this.tech_;var t="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw p["default"].alert(t),new Error(t)},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){(0,C["default"])("deleting tag.poster throws in some browsers",e)}this.play()}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){return e!==undefined?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(C["default"].warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_&&this.tech_[e](t)}catch(e){throw(0,C["default"])(e),e}},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[e]()}catch(t){throw this.tech_[e]===undefined?(0,C["default"])("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?((0,C["default"])("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):(0,C["default"])(t),t}},t.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},t.prototype.pause=function(){return this.techCall_("pause"),this},t.prototype.paused=function(){return!1!==this.techGet_("paused")},t.prototype.scrubbing=function(e){return e!==undefined?(this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},t.prototype.currentTime=function(e){return e!==undefined?(this.techCall_("setCurrentTime",e),this):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.prototype.duration=function(e){return e===undefined?this.cache_.duration!==undefined?this.cache_.duration:NaN:(e=parseFloat(e),e<0&&(e=Infinity),e!==this.cache_.duration&&(this.cache_.duration=e,e===Infinity?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=(0,P.createTimeRange)(0,0)),e},t.prototype.bufferedPercent=function(){return(0,x.bufferedPercent)(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),r=e.end(e.length-1);return r>t&&(r=t),r},t.prototype.volume=function(e){var t=void 0;return e!==undefined?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return e!==undefined?(this.techCall_("setMuted",e),this):this.techGet_("muted")||!1},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return e!==undefined?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=R["default"];return this.isFullscreen(!0),e.requestFullscreen?(v.on(c["default"],e.fullscreenchange,_.bind(this,function t(r){this.isFullscreen(c["default"][e.fullscreenElement]),!1===this.isFullscreen()&&v.off(c["default"],e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.exitFullscreen=function(){var e=R["default"];return this.isFullscreen(!1),e.requestFullscreen?c["default"][e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=c["default"].documentElement.style.overflow,v.on(c["default"],"keydown",_.bind(this,this.fullWindowOnEscKey)),c["default"].documentElement.style.overflow="hidden",g.addElClass(c["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,v.off(c["default"],"keydown",this.fullWindowOnEscKey),c["default"].documentElement.style.overflow=this.docOrigOverflow,g.removeElClass(c["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,r=0,n=this.options_.techOrder;r<n.length;r++){var i=(0,k["default"])(n[r]),a=K["default"].getTech(i);if(a||(a=l["default"].getComponent(i)),a){if(a.isSupported()&&(t=a.canPlayType(e)))return t}else C["default"].error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this,r=this.options_.techOrder.map(k["default"]).map(function(e){return[e,K["default"].getTech(e)||l["default"].getComponent(e)]}).filter(function(e){var t=e[0],r=e[1];return r?r.isSupported():(C["default"].error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),n=function(e,t,r){var n=void 0;return e.some(function(e){return t.some(function(t){if(n=r(e,t))return!0})}),n},i=function(e,r){var n=e[0];if(e[1].canPlaySource(r,t.options_[n.toLowerCase()]))return{source:r,tech:n}};return(this.options_.sourceOrder?n(e,r,function(e){return function(t,r){return e(r,t)}}(i)):n(r,e,i))||!1},t.prototype.src=function(e){if(e===undefined)return this.techGet_("src");var t=K["default"].getTech(this.techName_);return t||(t=l["default"].getComponent(this.techName_)),Array.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e,this.options_[this.techName_.toLowerCase()])?this.sourceList_([e]):(this.cache_.sources=null,this.cache_.source=e,this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},t.prototype.sourceList_=function(e){var t=this.selectSource(e);t?(t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source),this.cache_.sources=e):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},t.prototype.load=function(){return this.techCall_("load"),this},t.prototype.reset=function(){return this.loadTech_((0,k["default"])(this.options_.techOrder[0]),null),this.techCall_("reset"),this},t.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},t.prototype.currentSource=function(){var e={},t=this.currentSrc();return t&&(e.src=t),this.cache_.source||e},t.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},t.prototype.currentType=function(){return this.currentType_||""},t.prototype.preload=function(e){return e!==undefined?(this.techCall_("setPreload",e),this.options_.preload=e,this):this.techGet_("preload")},t.prototype.autoplay=function(e){return e!==undefined?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,this):this.techGet_("autoplay",e)},t.prototype.playsinline=function(e){return e!==undefined?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},t.prototype.loop=function(e){return e!==undefined?(this.techCall_("setLoop",e),this.options_.loop=e,this):this.techGet_("loop")},t.prototype.poster=function(e){return e===undefined?this.poster_:(e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange"),this)},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){return e!==undefined?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},t.prototype.usingNativeControls=function(e){return e!==undefined?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},t.prototype.error=function(e){return e===undefined?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.error_=new j["default"](e),this.addClass("vjs-error"),C["default"].error("(CODE:"+this.error_.code+" "+j["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){return e!==undefined?(e=!!e,e!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,r=void 0,n=_.bind(this,this.reportUserActivity),i=function(e){e.screenX===t&&e.screenY===r||(t=e.screenX,r=e.screenY,n())},a=function(){n(),this.clearInterval(e),e=this.setInterval(n,250)},o=function(t){n(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",i),this.on("mouseup",o),this.on("keydown",n),this.on("keyup",n);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e>0&&(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return e!==undefined?(this.techCall_("setPlaybackRate",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.isAudio=function(e){return e!==undefined?(this.isAudio_=!!e,this):!!this.isAudio_},t.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new Q["default"],this.videoTracks_)},t.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new W["default"],this.audioTracks_)},t.prototype.textTracks=function(){if(this.tech_)return this.tech_.textTracks()},t.prototype.remoteTextTracks=function(){if(this.tech_)return this.tech_.remoteTextTracks()},t.prototype.remoteTextTrackEls=function(){if(this.tech_)return this.tech_.remoteTextTrackEls()},t.prototype.addTextTrack=function(e,t,r){if(this.tech_)return this.tech_.addTextTrack(e,t,r)},t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.track,r=t===undefined?arguments[0]:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(r)},t.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){return e===undefined?this.language_:(this.language_=String(e).toLowerCase(),this)},t.prototype.languages=function(){return(0,U["default"])(t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=(0,U["default"])(this.options_),t=e.tracks;e.tracks=[];for(var r=0;r<t.length;r++){var n=t[r];n=(0,U["default"])(n),n.player=undefined,e.tracks[r]=n}return e},t.prototype.createModal=function(e,t){var r=this;t=t||{},t.content=e||"";var n=new G["default"](this,t);return this.addChild(n),n.on("dispose",function(){r.removeChild(n)}),n.open()},t.getTagSettings=function(e){var t={sources:[],tracks:[]},r=g.getElAttributes(e),n=r["data-setup"];if(g.hasElClass(e,"vjs-fluid")&&(r.fluid=!0),null!==n){var i=(0,N["default"])(n||"{}"),a=i[0],o=i[1];a&&C["default"].error(a),(0,F.assign)(r,o)}if((0,F.assign)(t,r),e.hasChildNodes())for(var s=e.childNodes,u=0,l=s.length;u<l;u++){var f=s[u],c=f.nodeName.toLowerCase();"source"===c?t.sources.push(g.getElAttributes(f)):"track"===c&&t.tracks.push(g.getElAttributes(f))}return t},t.prototype.flexNotSupported_=function(){var e=c["default"].createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(l["default"]);J.players={};var Z=p["default"].navigator;J.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Z&&(Z.languages&&Z.languages[0]||Z.userLanguage||Z.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){J.prototype[e]=function(){return this.techGet_(e)}}),$.forEach(function(e){J.prototype["handleTech"+(0,k["default"])(e)+"_"]=function(){return this.trigger(e)}}),l["default"].registerComponent("Player",J),r["default"]=J},{1:1,4:4,41:41,44:44,45:45,46:46,5:5,50:50,55:55,59:59,60:60,61:61,62:62,63:63,68:68,69:69,71:71,76:76,78:78,79:79,8:8,81:81,82:82,83:83,85:85,86:86,87:87,88:88,89:89,90:90,91:91,94:94,95:95,97:97}],52:[function(e,t,r){"use strict";r.__esModule=!0;var n=e(51),i=function(e){return e&&e.__esModule?e:{default:e}}(n),a=function(e,t){i["default"].prototype[e]=t};r["default"]=a},{51:51}],53:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(3),u=n(s),l=e(5),f=n(l),c=function(e){function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};i(this,t);var o=a(this,e.call(this,r,n));return o.update(),o}return o(t,e),t.prototype.update=function(){var e=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createPopup=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t}(u["default"]);f["default"].registerComponent("PopupButton",c),r["default"]=c},{3:3,5:5}],54:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(5),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=e(81),f=n(l),c=e(83),d=n(c),p=e(82),h=n(p),v=function(e){function t(){return i(this,t),a(this,e.apply(this,arguments))}return o(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",d.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=f.createEl(t,{className:"vjs-menu-content"});var r=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),h.on(r,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),r},t}(u["default"]);u["default"].registerComponent("Popup",v),r["default"]=v},{5:5,81:81,82:82,83:83}],55:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var u=e(3),l=i(u),f=e(5),c=i(f),d=e(83),p=n(d),h=e(81),v=n(h),y=e(78),g=n(y),m=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this,r,n));return i.update(),r.on("posterchange",p.bind(i,i.update)),i}return s(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=v.createEl("div",{className:"vjs-poster",tabIndex:-1});return g.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=v.createEl("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},t}(l["default"]);c["default"].registerComponent("PosterImage",m),r["default"]=m},{3:3,5:5,78:78,81:81,83:83}],56:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function a(e,t){t&&(v=t),p["default"].setTimeout(y,e)}r.__esModule=!0,r.hasLoaded=r.autoSetupTimeout=r.autoSetup=undefined;var o=e(81),s=i(o),u=e(82),l=i(u),f=e(94),c=n(f),d=e(95),p=n(d),h=!1,v=void 0,y=function(){if(s.isReal()){var e=c["default"].getElementsByTagName("video"),t=c["default"].getElementsByTagName("audio"),r=[];if(e&&e.length>0)for(var n=0,i=e.length;n<i;n++)r.push(e[n]);if(t&&t.length>0)for(var o=0,u=t.length;o<u;o++)r.push(t[o]);if(r&&r.length>0)for(var l=0,f=r.length;l<f;l++){var d=r[l];if(!d||!d.getAttribute){a(1);break}if(d.player===undefined){var p=d.getAttribute("data-setup");null!==p&&v(d)}}else h||a(1)}};s.isReal()&&"complete"===c["default"].readyState?h=!0:l.one(p["default"],"load",function(){h=!0});var g=function(){return h};r.autoSetup=y,r.autoSetupTimeout=a,r.hasLoaded=g},{81:81,82:82,94:94,95:95}],57:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=e(5),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=e(81),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(u),f=e(88),c=function(e){function t(r,a){n(this,t);var o=i(this,e.call(this,r,a));return o.bar=o.getChild(o.options_.barName),o.vertical(!!o.options_.vertical),o.on("mousedown",o.handleMouseDown),o.on("touchstart",o.handleMouseDown),o.on("focus",o.handleFocus),o.on("blur",o.handleBlur),o.on("click",o.handleClick),o.on(r,"controlsvisible",o.update),o.on(r,o.playerEvent,o.update),o}return a(t,e),t.prototype.createEl=function(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return r.className=r.className+" vjs-slider",r=(0,f.assign)({tabIndex:0},r),n=(0,f.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),e.prototype.createEl.call(this,t,r,n)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),l.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(e){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;l.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||e<0||e===Infinity)&&(e=0);var r=(100*e).toFixed(2)+"%";this.vertical()?t.el().style.height=r:t.el().style.width=r}}},t.prototype.calculateDistance=function(e){var t=l.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){return e===undefined?this.vertical_||!1:(this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},t}(s["default"]);s["default"].registerComponent("Slider",c),r["default"]=c},{5:5,81:81,88:88}],58:[function(e,t,r){"use strict";function n(e){return e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var r=e.search(/&(?!\w+=)/),n=void 0;return-1!==r?n=r+1:0===(r=n=e.lastIndexOf("/")+1)&&(r=n=e.length),t.connection=e.substring(0,r),t.stream=e.substring(n,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t,r){var n=e.rtmpSourceHandler.canPlayType(t.type);return n||(e.isStreamingSrc(t.src)?"maybe":"")},e.rtmpSourceHandler.handleSource=function(t,r,n){var i=e.streamToParts(t.src);r.setRtmpConnection(i.connection),r.setRtmpStream(i.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e}r.__esModule=!0,r["default"]=n},{}],59:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){C[e]=function(){return this.el_.vjs_getProperty(e)}}r.__esModule=!0;for(var l=e(62),f=i(l),c=e(81),d=n(c),p=e(92),h=n(p),v=e(90),y=e(58),g=i(y),m=e(5),_=i(m),b=e(95),T=i(b),E=e(88),w=T["default"].navigator,S=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this,r,n));return r.source&&i.ready(function(){this.setSource(r.source)},!0),r.startTime&&i.ready(function(){this.load(),this.play(),this.currentTime(r.startTime)},!0),T["default"].videojs=T["default"].videojs||{},T["default"].videojs.Flash=T["default"].videojs.Flash||{},T["default"].videojs.Flash.onReady=t.onReady,T["default"].videojs.Flash.onEvent=t.onEvent,T["default"].videojs.Flash.onError=t.onError,i.on("seeked",function(){this.lastSeekTarget_=undefined}),i}return s(t,e),t.prototype.createEl=function(){var e=this.options_;if(!e.swf){e.swf="//vjs.zencdn.net/swf/5.4.1/video-js.swf"}var r=e.techId,n=(0,E.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),i=(0,E.assign)({wmode:"opaque",bgcolor:"#000000"},e.params),a=(0,E.assign)({id:r,name:r,class:"vjs-tech"},e.attributes);return this.el_=t.embed(e.swf,n,i,a),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return e===undefined?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){var t=this;e=h.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()&&this.setTimeout(function(){return t.play()},0)},t.prototype.seeking=function(){return this.lastSeekTarget_!==undefined},t.prototype.setCurrentTime=function(t){var r=this.seekable();r.length&&(t=t>r.start(0)?t:r.start(0),t=t<r.end(r.length-1)?t:r.end(r.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.duration=function(){if(0===this.readyState())return NaN;var e=this.el_.vjs_getProperty("duration");return e>=0?e:Infinity},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?(0,v.createTimeRange)():(0,v.createTimeRange)(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?(0,v.createTimeRange)():(0,v.createTimeRange)(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t.prototype.getVideoPlaybackQuality=function(){var e=this.el_.vjs_getProperty("getVideoPlaybackQuality");return T["default"].performance&&"function"==typeof T["default"].performance.now?e.creationTime=T["default"].performance.now():T["default"].performance&&T["default"].performance.timing&&"number"==typeof T["default"].performance.timing.navigationStart&&(e.creationTime=T["default"].Date.now()-T["default"].performance.timing.navigationStart),e},t}(f["default"]),C=S.prototype,O="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),k="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),P=0;P<O.length;P++)u(O[P]),function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);C["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}(O[P]);for(var x=0;x<k.length;x++)u(k[x]);S.isSupported=function(){return S.version()[0]>=10},f["default"].withSourceHandlers(S),S.nativeSourceHandler={},S.nativeSourceHandler.canPlayType=function(e){return e in S.formats?"maybe":""},S.nativeSourceHandler.canHandleSource=function(e,t){var r=void 0;return r=e.type?e.type.replace(/;.*/,"").toLowerCase():function(e){var t=h.getFileExtension(e);return t?"video/"+t:""}(e.src),S.nativeSourceHandler.canPlayType(r)},S.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)},S.nativeSourceHandler.dispose=function(){},S.registerSourceHandler(S.nativeSourceHandler),S.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},S.onReady=function(e){var t=d.getEl(e),r=t&&t.tech;r&&r.el()&&S.checkReady(r)},S.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){S.checkReady(e)},50))},S.onEvent=function(e,t){var r=d.getEl(e).tech,n=Array.prototype.slice.call(arguments,2);r.setTimeout(function(){r.trigger(t,n)},1)},S.onError=function(e,t){var r=d.getEl(e).tech;if("srcnotfound"===t)return r.error(4);r.error("FLASH: "+t)},S.version=function(){var e="0,0,0";try{e=new T["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{w.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(w.plugins["Shockwave Flash 2.0"]||w.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(e){}}return e.split(",")},S.embed=function(e,t,r,n){var i=S.getEmbedCode(e,t,r,n);return d.createEl("div",{innerHTML:i}).childNodes[0]},S.getEmbedCode=function(e,t,r,n){var i="",a="",o="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){i+=e+"="+t[e]+"&amp;"}),r=(0,E.assign)({movie:e,flashvars:i,allowScriptAccess:"always",allowNetworking:"all"},r),Object.getOwnPropertyNames(r).forEach(function(e){a+='<param name="'+e+'" value="'+r[e]+'" />'}),n=(0,E.assign)({data:e,width:"100%",height:"100%"},n),Object.getOwnPropertyNames(n).forEach(function(e){o+=e+'="'+n[e]+'" '}),'<object type="application/x-shockwave-flash" '+o+">"+a+"</object>"},(0,g["default"])(S),_["default"].registerComponent("Flash",S),f["default"].registerTech("Flash",S),r["default"]=S},{5:5,58:58,62:62,81:81,88:88,90:90,92:92,95:95}],60:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var u=function(e,t){return e.raw=t,e}(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),l=e(62),f=i(l),c=e(5),d=i(c),p=e(81),h=n(p),v=e(92),y=n(v),g=e(83),m=n(g),_=e(86),b=i(_),T=e(98),E=i(T),w=e(78),S=n(w),C=e(94),O=i(C),k=e(95),P=i(k),x=e(88),A=e(87),M=i(A),I=e(91),R=i(I),D=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this,r,n)),s=r.source,l=!1;if(s&&(i.el_.currentSrc!==s.src||r.tag&&3===r.tag.initNetworkState_)?i.setSource(s):i.handleLateInit_(i.el_),i.el_.hasChildNodes()){for(var f=i.el_.childNodes,c=f.length,d=[];c--;){var p=f[c];"track"===p.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(p),i.remoteTextTracks().addTrack_(p.track),l||i.el_.hasAttribute("crossorigin")||!y.isCrossOrigin(p.src)||(l=!0)):d.push(p))}for(var h=0;h<d.length;h++)i.el_.removeChild(d[h])}return["audio","video"].forEach(function(e){var t=i.el()[e+"Tracks"],r=i[e+"Tracks"](),n=(0,R["default"])(e);i["featuresNative"+n+"Tracks"]&&t&&t.addEventListener&&(i["handle"+n+"TrackChange_"]=function(e){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})},i["handle"+n+"TrackAdd_"]=function(e){return r.addTrack(e.track)},i["handle"+n+"TrackRemove_"]=function(e){return r.removeTrack(e.track)},t.addEventListener("change",i["handle"+n+"TrackChange_"]),t.addEventListener("addtrack",i["handle"+n+"TrackAdd_"]),t.addEventListener("removetrack",i["handle"+n+"TrackRemove_"]),i["removeOld"+n+"Tracks_"]=function(e){return i.removeOldTracks_(r,t)},i.on("loadstart",i["removeOld"+n+"Tracks_"]))}),i.featuresNativeTextTracks&&(l&&b["default"].warn((0,E["default"])(u)),i.handleTextTrackChange_=m.bind(i,i.handleTextTrackChange),i.handleTextTrackAdd_=m.bind(i,i.handleTextTrackAdd),i.handleTextTrackRemove_=m.bind(i,i.handleTextTrackRemove),i.proxyNativeTextTracks_()),i.restoreMetadataTracksInIOSNativePlayer_(),(S.TOUCH_ENABLED||S.IS_IPHONE||S.IS_NATIVE_ANDROID)&&!0===r.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}return s(t,e),t.prototype.dispose=function(){var r=this;["audio","video","text"].forEach(function(e){var t=(0,R["default"])(e),n=r.el_[e+"Tracks"];n&&n.removeEventListener&&(n.removeEventListener("change",r["handle"+t+"TrackChange_"]),n.removeEventListener("addtrack",r["handle"+t+"TrackAdd_"]),n.removeEventListener("removetrack",r["handle"+t+"TrackRemove_"])),n&&r.off("loadstart",r["removeOld"+t+"Tracks_"])}),t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var e=this.textTracks(),t=void 0,r=function(){t=[];for(var r=0;r<e.length;r++){var n=e[r];"metadata"===n.kind&&t.push({track:n,storedMode:n.mode})}};r(),e.addEventListener("change",r);var n=function r(){for(var n=0;n<t.length;n++){var i=t[n];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}e.removeEventListener("change",r)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",r),e.removeEventListener("change",n),e.addEventListener("change",n)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",r),e.addEventListener("change",r),e.removeEventListener("change",n)})},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var r=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(r,e),t.disposeMediaElement(e),e=r}else{e=O["default"].createElement("video");var n=this.options_.tag&&h.getElAttributes(this.options_.tag),i=(0,M["default"])({},n);S.TOUCH_ENABLED&&!0===this.options_.nativeControlsForTouch||delete i.controls,h.setElAttributes(e,(0,x.assign)(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}for(var a=["autoplay","preload","loop","muted","playsinline"],o=a.length-1;o>=0;o--){var s=a[o],u={};"undefined"!=typeof this.options_[s]&&(u[s]=this.options_[s]),h.setElAttributes(e,u)}return e},t.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,r=function(){t=!0};this.on("loadstart",r);var n=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",n),t||this.trigger("loadstart")})}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(e){this.trigger(e)},this)})}},t.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;if(e){for(var t=0;t<e.length;t++)this.textTracks().addTrack_(e[t]);e.addEventListener&&(e.addEventListener("change",this.handleTextTrackChange_),e.addEventListener("addtrack",this.handleTextTrackAdd_),e.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},t.prototype.handleTextTrackChange=function(e){var t=this.textTracks();this.textTracks().trigger({type:"change",target:t,currentTarget:t,srcElement:t})},t.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},t.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},t.prototype.removeOldTracks_=function(e,t){var r=[];if(t){for(var n=0;n<e.length;n++){for(var i=e[n],a=!1,o=0;o<t.length;o++)if(t[o]===i){a=!0;break}a||r.push(i)}for(var s=0;s<r.length;s++){var u=r[s];e.removeTrack_(u)}}},t.prototype.removeOldTextTracks_=function(e){var t=this.textTracks(),r=this.el().textTracks;this.removeOldTracks_(t,r)},t.prototype.play=function(){var e=this.el_.play();e!==undefined&&"function"==typeof e.then&&e.then(null,function(e){})},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){(0,b["default"])(e,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var e=this;if(this.el_.duration===Infinity&&S.IS_ANDROID&&S.IS_CHROME&&0===this.el_.currentTime){var t=function t(){e.el_.currentTime>0&&(e.el_.duration===Infinity&&e.trigger("durationchange"),e.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},r=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",function(){e.off("webkitbeginfullscreen",r),e.off("webkitendfullscreen",t)})}},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=P["default"].navigator&&P["default"].navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){if(e===undefined)return this.el_.src;this.setSrc(e)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.addTextTrack=function(t,r,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,r,n):e.prototype.addTextTrack.call(this,t,r,n)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var r=O["default"].createElement("track");return t.kind&&(r.kind=t.kind),t.label&&(r.label=t.label),(t.language||t.srclang)&&(r.srclang=t.language||t.srclang),t["default"]&&(r["default"]=t["default"]),t.id&&(r.id=t.id),t.src&&(r.src=t.src),r},t.prototype.addRemoteTextTrack=function(t,r){var n=e.prototype.addRemoteTextTrack.call(this,t,r);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},t.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var r=this.$$("track"),n=r.length;n--;)t!==r[n]&&t!==r[n].track||this.el().removeChild(r[n])},t.prototype.playsinline=function(){return this.el_.hasAttribute("playsinline")},t.prototype.setPlaysinline=function(e){e?this.el_.setAttribute("playsinline","playsinline"):this.el_.removeAttribute("playsinline")},t.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),P["default"].performance&&"function"==typeof P["default"].performance.now?e.creationTime=P["default"].performance.now():P["default"].performance&&P["default"].performance.timing&&"number"==typeof P["default"].performance.timing.navigationStart&&(e.creationTime=P["default"].Date.now()-P["default"].performance.timing.navigationStart),e},t}(f["default"]);if(h.isReal()){D.TEST_VID=O["default"].createElement("video");var j=O["default"].createElement("track");j.kind="captions",j.srclang="en",j.label="English",D.TEST_VID.appendChild(j)}D.isSupported=function(){try{D.TEST_VID.volume=.5}catch(e){return!1}return!(!D.TEST_VID||!D.TEST_VID.canPlayType)},D.canControlVolume=function(){try{var e=D.TEST_VID.volume;return D.TEST_VID.volume=e/2+.1,e!==D.TEST_VID.volume}catch(e){return!1}},D.canControlPlaybackRate=function(){if(S.IS_ANDROID&&S.IS_CHROME&&S.CHROME_VERSION<58)return!1;try{var e=D.TEST_VID.playbackRate;return D.TEST_VID.playbackRate=e/2+.1,e!==D.TEST_VID.playbackRate}catch(e){return!1}},D.supportsNativeTextTracks=function(){return S.IS_ANY_SAFARI},D.supportsNativeVideoTracks=function(){return!(!D.TEST_VID||!D.TEST_VID.videoTracks)},D.supportsNativeAudioTracks=function(){return!(!D.TEST_VID||!D.TEST_VID.audioTracks)},D.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],D.prototype.featuresVolumeControl=D.canControlVolume(),D.prototype.featuresPlaybackRate=D.canControlPlaybackRate(),D.prototype.movingMediaElementInDOM=!S.IS_IOS,D.prototype.featuresFullscreenResize=!0,D.prototype.featuresProgressEvents=!0,D.prototype.featuresTimeupdateEvents=!0,D.prototype.featuresNativeTextTracks=D.supportsNativeTextTracks(),D.prototype.featuresNativeVideoTracks=D.supportsNativeVideoTracks(),D.prototype.featuresNativeAudioTracks=D.supportsNativeAudioTracks();var L=D.TEST_VID&&D.TEST_VID.constructor.prototype.canPlayType,N=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,F=/^video\/mp4/i;D.patchCanPlayType=function(){S.ANDROID_VERSION>=4&&!S.IS_FIREFOX?D.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&N.test(e)?"maybe":L.call(this,e)}:S.IS_OLD_ANDROID&&(D.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&F.test(e)?"maybe":L.call(this,e)})},D.unpatchCanPlayType=function(){var e=D.TEST_VID.constructor.prototype.canPlayType;return D.TEST_VID.constructor.prototype.canPlayType=L,e},D.patchCanPlayType(),D.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},D.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),r=t.length;r--;)e.removeChild(t[r]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["paused","currentTime","buffered","volume","muted","poster","preload","autoplay","controls","loop","error","seeking","seekable","ended","defaultMuted","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){D.prototype[e]=function(){return this.el_[e]}}),["volume","muted","src","poster","preload","autoplay","loop","playbackRate"].forEach(function(e){D.prototype["set"+(0,R["default"])(e)]=function(t){this.el_[e]=t}}),["pause","load"].forEach(function(e){D.prototype[e]=function(){return this.el_[e]()}}),f["default"].withSourceHandlers(D),D.nativeSourceHandler={},D.nativeSourceHandler.canPlayType=function(e){try{return D.TEST_VID.canPlayType(e)}catch(e){return""}},D.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return D.nativeSourceHandler.canPlayType(e.type);if(e.src){var r=y.getFileExtension(e.src);return D.nativeSourceHandler.canPlayType("video/"+r)}return""},D.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)},D.nativeSourceHandler.dispose=function(){},D.registerSourceHandler(D.nativeSourceHandler),d["default"].registerComponent("Html5",D),f["default"].registerTech("Html5",D),r["default"]=D},{5:5,62:62,78:78,81:81,83:83,86:86,87:87,88:88,91:91,92:92,94:94,95:95,98:98}],61:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(5),u=n(s),l=e(62),f=n(l),c=e(91),d=n(c),p=function(e){function t(r,n,o){i(this,t);var s=a(this,e.call(this,r,n,o));if(n.playerOptions.sources&&0!==n.playerOptions.sources.length)r.src(n.playerOptions.sources);else for(var l=0,c=n.playerOptions.techOrder;l<c.length;l++){var p=(0,d["default"])(c[l]),h=f["default"].getTech(p);if(p||(h=u["default"].getComponent(p)),h&&h.isSupported()){r.loadTech_(p);break}}return s}return o(t,e),t}(u["default"]);u["default"].registerComponent("MediaLoader",p),r["default"]=p},{5:5,62:62,91:91}],62:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,r,n){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{},a=e.textTracks();i.kind=t,r&&(i.label=r),n&&(i.language=n),i.tech=e;var o=new g["default"](i);return a.addTrack_(o),o}r.__esModule=!0;var u=e(5),l=n(u),f=e(66),c=n(f),d=e(65),p=n(d),h=e(87),v=n(h),y=e(72),g=n(y),m=e(70),_=n(m),b=e(76),T=n(b),E=e(63),w=n(E),S=e(83),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(S),O=e(86),k=n(O),P=e(90),x=e(79),A=e(46),M=n(A),I=e(95),R=n(I),D=e(94),j=n(D),L=e(88),N=function(t){function r(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};i(this,r),e.reportTouchActivity=!1;var o=a(this,t.call(this,null,e,n));return o.hasStarted_=!1,o.on("playing",function(){this.hasStarted_=!0}),o.on("loadstart",function(){this.hasStarted_=!1}),o.textTracks_=e.textTracks,o.videoTracks_=e.videoTracks,o.audioTracks_=e.audioTracks,o.featuresProgressEvents||o.manualProgressOn(),o.featuresTimeupdateEvents||o.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===e["native"+t+"Tracks"]&&(o["featuresNative"+t+"Tracks"]=!1)}),!1===e.nativeCaptions&&(o.featuresNativeTextTracks=!1),o.featuresNativeTextTracks||o.emulateTextTracks(),o.autoRemoteTextTracks_=new _["default"],o.initTextTrackListeners(),o.initTrackListeners(),e.nativeControlsForTouch||o.emitTapEvents(),o.constructor&&(o.name_=o.constructor.name||"Unknown Tech"),o}return o(r,t),r.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},r.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},r.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(C.bind(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},r.prototype.onDurationChange=function(e){this.duration_=this.duration()},r.prototype.buffered=function(){return(0,P.createTimeRange)(0,0)},r.prototype.bufferedPercent=function(){return(0,x.bufferedPercent)(this.buffered(),this.duration_)},r.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},r.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},r.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},r.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},r.prototype.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(e){for(var r=t[e+"Tracks"]()||[],n=r.length;n--;){var i=r[n];"text"===e&&t.removeRemoteTextTrack(i),r.removeTrack_(i)}})},r.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var r=e[t];this.removeRemoteTextTrack(r)}},r.prototype.reset=function(){},r.prototype.error=function(e){return e!==undefined&&(this.error_=new M["default"](e),this.trigger("error")),this.error_},r.prototype.played=function(){return this.hasStarted_?(0,P.createTimeRange)(0,0):(0,P.createTimeRange)()},r.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.prototype.initTextTrackListeners=function(){var e=C.bind(this,function(){this.trigger("texttrackchange")}),t=this.textTracks();t&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",C.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},r.prototype.initTrackListeners=function(){var e=this;["video","audio"].forEach(function(t){var r=function(){e.trigger(t+"trackchange")},n=e[t+"Tracks"]();n.addEventListener("removetrack",r),n.addEventListener("addtrack",r),e.on("dispose",function(){n.removeEventListener("removetrack",r),n.removeEventListener("addtrack",r)})})},r.prototype.addWebVttScript_=function(){var t=this;if(!R["default"].WebVTT)if(j["default"].body.contains(this.el())){var r=e(99);if(!this.options_["vtt.js"]&&(0,L.isPlain)(r)&&Object.keys(r).length>0)return void this.trigger("vttjsloaded");var n=j["default"].createElement("script");n.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",n.onload=function(){t.trigger("vttjsloaded")},n.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){n.onload=null,n.onerror=null}),R["default"].WebVTT=!0,this.el().parentNode.appendChild(n)}else this.ready(this.addWebVttScript_)},r.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks();if(t){var r=this.remoteTextTracks(),n=function(e){return t.addTrack_(e.track)},i=function(e){return t.removeTrack_(e.track)};r.on("addtrack",n),r.on("removetrack",i),this.addWebVttScript_();var a=function(){return e.trigger("texttrackchange")},o=function(){a();for(var e=0;e<t.length;e++){var r=t[e];r.removeEventListener("cuechange",a),"showing"===r.mode&&r.addEventListener("cuechange",a)}};o(),t.addEventListener("change",o),t.addEventListener("addtrack",o),t.addEventListener("removetrack",o),this.on("dispose",function(){r.off("addtrack",n),r.off("removetrack",i),t.removeEventListener("change",o),t.removeEventListener("addtrack",o),t.removeEventListener("removetrack",o);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",a)}})}},r.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new T["default"],this.videoTracks_},r.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new w["default"],this.audioTracks_},r.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new _["default"],this.textTracks_},r.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new _["default"],this.remoteTextTracks_},r.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new p["default"],this.remoteTextTrackEls_},r.prototype.addTextTrack=function(e,t,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return s(this,e,t,r)},r.prototype.createRemoteTextTrack=function(e){var t=(0,v["default"])(e,{tech:this});return new c["default"](t)},r.prototype.addRemoteTextTrack=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1],r=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(k["default"].warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack_(r.track),!0!==t&&this.autoRemoteTextTracks_.addTrack_(r.track),r},r.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack_(e),this.autoRemoteTextTracks_.removeTrack_(e)},r.prototype.getVideoPlaybackQuality=function(){return{}},r.prototype.setPoster=function(){},r.prototype.playsinline=function(){},r.prototype.setPlaysinline=function(){},r.prototype.canPlayType=function(){return""},r.isTech=function(e){return e.prototype instanceof r||e instanceof r||e===r},r.registerTech=function(e,t){if(r.techs_||(r.techs_={}),!r.isTech(t))throw new Error("Tech "+e+" must be a Tech");return r.techs_[e]=t,t},r.getTech=function(e){return r.techs_&&r.techs_[e]?r.techs_[e]:R["default"]&&R["default"].videojs&&R["default"].videojs[e]?(k["default"].warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),R["default"].videojs[e]):void 0},r}(l["default"]);N.prototype.textTracks_,N.prototype.audioTracks_,N.prototype.videoTracks_,N.prototype.featuresVolumeControl=!0,N.prototype.featuresFullscreenResize=!1,N.prototype.featuresPlaybackRate=!1,N.prototype.featuresProgressEvents=!1,N.prototype.featuresTimeupdateEvents=!1,N.prototype.featuresNativeTextTracks=!1,N.withSourceHandlers=function(e){e.registerSourceHandler=function(t,r){var n=e.sourceHandlers;n||(n=e.sourceHandlers=[]),r===undefined&&(r=n.length),n.splice(r,0,t)},e.canPlayType=function(t){for(var r=e.sourceHandlers||[],n=void 0,i=0;i<r.length;i++)if(n=r[i].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,r){for(var n=e.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(t,r))return n[i];return null},e.canPlaySource=function(t,r){var n=e.selectSourceHandler(t,r);return n?n.canHandleSource(t,r):""},["seekable","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var r=e.selectSourceHandler(t,this.options_);return r||(e.nativeSourceHandler?r=e.nativeSourceHandler:k["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),r!==e.nativeSourceHandler&&(this.currentSource_=t,this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",e.prototype.firstLoadStartListener_)),this.sourceHandler_=r.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},e.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler(),this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},l["default"].registerComponent("Tech",N),l["default"].registerComponent("MediaTechController",N),N.registerTech("Tech",N),r["default"]=N},{46:46,5:5,63:63,65:65,66:66,70:70,72:72,76:76,79:79,83:83,86:86,87:87,88:88,90:90,94:94,95:95,99:99}],63:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(74),u=n(s),l=e(78),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(l),c=e(94),d=n(c),p=function(e,t){for(var r=0;r<e.length;r++)t.id!==e[r].id&&(e[r].enabled=!1)},h=function(e){function t(){var r,n,o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];i(this,t);for(var s=void 0,l=o.length-1;l>=0;l--)if(o[l].enabled){p(o,o[l]);break}if(f.IS_IE8){s=d["default"].createElement("custom");for(var c in u["default"].prototype)"constructor"!==c&&(s[c]=u["default"].prototype[c]);for(var h in t.prototype)"constructor"!==h&&(s[h]=t.prototype[h])}return s=r=a(this,e.call(this,o,s)),s.changing_=!1,n=s,a(r,n)}return o(t,e),t.prototype.addTrack_=function(t){var r=this;t.enabled&&p(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){r.changing_||(r.changing_=!0,p(r,t),r.changing_=!1,r.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(u["default"]);r["default"]=h},{74:74,78:78,94:94}],64:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(73),u=e(75),l=n(u),f=e(87),c=n(f),d=e(78),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(d),h=function(e){function t(){var r,n,o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};i(this,t);var u=(0,c["default"])(o,{kind:s.AudioTrackKind[o.kind]||""}),l=r=a(this,e.call(this,u)),f=!1;if(p.IS_IE8)for(var d in t.prototype)"constructor"!==d&&(l[d]=t.prototype[d]);return Object.defineProperty(l,"enabled",{get:function(){return f},set:function(e){"boolean"==typeof e&&e!==f&&(f=e,this.trigger("enabledchange"))}}),u.enabled&&(l.enabled=u.enabled),l.loaded_=!0,n=l,a(r,n)}return o(t,e),t}(l["default"]);r["default"]=h},{73:73,75:75,78:78,87:87}],65:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=e(78),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(i),o=e(94),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];n(this,e);var r=this;if(a.IS_IE8){r=s["default"].createElement("custom");for(var i in e.prototype)"constructor"!==i&&(r[i]=e.prototype[i])}r.trackElements_=[],Object.defineProperty(r,"length",{get:function(){return this.trackElements_.length}});for(var o=0,u=t.length;o<u;o++)r.addTrackElement_(t[o]);if(a.IS_IE8)return r}return e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,r=0,n=this.trackElements_.length;r<n;r++)if(e===this.trackElements_[r].track){t=this.trackElements_[r];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,r=this.trackElements_.length;t<r;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}();r["default"]=u},{78:78,94:94}],66:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(78),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(s),l=e(94),f=n(l),c=e(42),d=n(c),p=e(72),h=n(p),v=0,y=2,g=function(e){function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};i(this,t);var n=a(this,e.call(this)),o=void 0,s=n;if(u.IS_IE8){s=f["default"].createElement("custom");for(var l in t.prototype)"constructor"!==l&&(s[l]=t.prototype[l])}var c=new h["default"](r);if(s.kind=c.kind,s.src=c.src,s.srclang=c.language,s.label=c.label,s["default"]=c["default"],Object.defineProperty(s,"readyState",{get:function(){return o}}),Object.defineProperty(s,"track",{get:function(){return c}}),o=v,c.addEventListener("loadeddata",function(){o=y,s.trigger({type:"load",target:s})}),u.IS_IE8){var d;return d=s,a(n,d)}return n}return o(t,e),t}(d["default"]);g.prototype.allowedEvents_={load:"load"},g.NONE=v,g.LOADING=1,g.LOADED=y,g.ERROR=3,r["default"]=g},{42:42,72:72,78:78,94:94}],67:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=e(78),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(i),o=e(94),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(){function e(t){n(this,e);var r=this;if(a.IS_IE8){r=s["default"].createElement("custom");for(var i in e.prototype)"constructor"!==i&&(r[i]=e.prototype[i])}if(e.prototype.setCues_.call(r,t),Object.defineProperty(r,"length",{get:function(){return this.length_}}),a.IS_IE8)return r}return e.prototype.setCues_=function(e){var t=this.length||0,r=0,n=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<n)for(r=t;r<n;r++)i.call(this,r)},e.prototype.getCueById=function(e){for(var t=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===e){t=i;break}}return t},e}();r["default"]=u},{78:78,94:94}],68:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function u(e,t,r){try{e.style[t]=r}catch(e){return}}r.__esModule=!0;var l=e(5),f=n(l),c=e(83),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(c),p=e(95),h=n(p),v={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},y=function(e){function t(r,n,o){i(this,t);var s=a(this,e.call(this,r,n,o));return r.on("loadstart",d.bind(s,s.toggleDisplay)),r.on("texttrackchange",d.bind(s,s.updateDisplay)),r.ready(d.bind(s,function(){if(r.tech_&&r.tech_.featuresNativeTextTracks)return void this.hide();r.on("fullscreenchange",d.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);var n={captions:1,subtitles:1},i=this.player_.textTracks(),a=void 0,o=void 0;if(i){for(var s=0;s<i.length;s++){var u=i[s];u["default"]&&("descriptions"!==u.kind||a?u.kind in n&&!o&&(o=u):a=u)}o?o.mode="showing":a&&(a.mode="showing")}})),s}return o(t,e),t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof h["default"].WebVTT&&h["default"].WebVTT.processCues(h["default"],[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e){for(var t=null,r=null,n=e.length;n--;){var i=e[n];"showing"===i.mode&&("descriptions"===i.kind?t=i:r=i)}r?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))}},t.prototype.updateForTrack=function(e){if("function"==typeof h["default"].WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),r=[],n=0;n<e.activeCues.length;n++)r.push(e.activeCues[n]);h["default"].WebVTT.processCues(h["default"],r,this.el_);for(var i=r.length;i--;){var a=r[i];if(a){var o=a.displayState;if(t.color&&(o.firstChild.style.color=t.color),t.textOpacity&&u(o.firstChild,"color",s(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(o.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&u(o.firstChild,"backgroundColor",s(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?u(o,"backgroundColor",s(t.windowColor,t.windowOpacity)):o.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?o.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent){var l=h["default"].parseFloat(o.style.fontSize);o.style.fontSize=l*t.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=v[t.fontFamily])}}}},t}(f["default"]);f["default"].registerComponent("TextTrackDisplay",y),r["default"]=y},{5:5,83:83,95:95}],69:[function(e,t,r){"use strict";r.__esModule=!0;var n=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,r,n){return e[r]&&(t[r]=e[r]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},i=function(e){var t=e.$$("track"),r=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=n(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===r.indexOf(e)}).map(n))},a=function(e,t){return e.forEach(function(e){var r=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return r.addCue(e)})}),t.textTracks()};r["default"]={textTracksToJson:i,jsonToTextTracks:a,trackToJson_:n}},{}],70:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var u=e(74),l=i(u),f=e(83),c=n(f),d=e(78),p=n(d),h=e(94),v=i(h),y=function(e){function t(){var r,n,i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];a(this,t);var s=void 0;if(p.IS_IE8){s=v["default"].createElement("custom");for(var u in l["default"].prototype)"constructor"!==u&&(s[u]=l["default"].prototype[u]);for(var f in t.prototype)"constructor"!==f&&(s[f]=t.prototype[f])}return s=r=o(this,e.call(this,i,s)),n=s,o(r,n)}return s(t,e),t.prototype.addTrack_=function(t){e.prototype.addTrack_.call(this,t),t.addEventListener("modechange",c.bind(this,function(){this.trigger("change")}))},t}(l["default"]);r["default"]=y},{74:74,78:78,83:83,94:94}],71:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function l(e,t){return u(e.options[e.options.selectedIndex].value,t)}function f(e,t,r){if(t)for(var n=0;n<e.options.length;n++)if(u(e.options[n].value,r)===t){e.selectedIndex=n;break}}r.__esModule=!0;var c=e(95),d=i(c),p=e(5),h=i(p),v=e(81),y=e(83),g=n(y),m=e(88),_=n(m),b=e(86),T=i(b),E=["#000","Black"],w=["#00F","Blue"],S=["#0FF","Cyan"],C=["#0F0","Green"],O=["#F0F","Magenta"],k=["#F00","Red"],P=["#FFF","White"],x=["#FF0","Yellow"],A=["1","Opaque"],M=["0.5","Semi-Transparent"],I=["0","Transparent"],R={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[E,P,k,C,w,x,O,S]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[A,M,I]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[P,E,k,C,w,x,O,S]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[A,M]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[I,M,A]}};R.windowColor.options=R.backgroundColor.options;var D=function(e){function t(r,n){a(this,t);var i=o(this,e.call(this,r,n));return i.setDefaults(),i.hide(),i.updateDisplay=g.bind(i,i.updateDisplay),n.persistTextTrackSettings===undefined&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.hide()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),_.each(R,function(e){i.on(i.$(e.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}return s(t,e),t.prototype.createElSelect_=function(e){var t=this,r=R[e],n=r.id.replace("%s",this.id_);return[(0,v.createEl)("label",{className:"vjs-label",textContent:r.label},{for:n}),(0,v.createEl)("select",{id:n},undefined,r.options.map(function(e){return(0,v.createEl)("option",{textContent:t.localize(e[1]),value:e[0]})}))]},t.prototype.createElFgColor_=function(){var e=(0,v.createEl)("legend",{textContent:this.localize("Text")}),t=this.createElSelect_("color"),r=(0,v.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},undefined,this.createElSelect_("textOpacity"));return(0,v.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},undefined,[e].concat(t,r))},t.prototype.createElBgColor_=function(){var e=(0,v.createEl)("legend",{textContent:this.localize("Background")}),t=this.createElSelect_("backgroundColor"),r=(0,v.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},undefined,this.createElSelect_("backgroundOpacity"));return(0,v.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},undefined,[e].concat(t,r))},t.prototype.createElWinColor_=function(){var e=(0,v.createEl)("legend",{textContent:this.localize("Window")}),t=this.createElSelect_("windowColor"),r=(0,v.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},undefined,this.createElSelect_("windowOpacity"));return(0,v.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},undefined,[e].concat(t,r))},t.prototype.createElColors_=function(){return(0,v.createEl)("div",{className:"vjs-tracksettings-colors"},undefined,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},t.prototype.createElFont_=function(){var e=(0,v.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},undefined,this.createElSelect_("fontPercent")),t=(0,v.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},undefined,this.createElSelect_("edgeStyle")),r=(0,v.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},undefined,this.createElSelect_("fontFamily"));return(0,v.createEl)("div",{className:"vjs-tracksettings-font"},undefined,[e,t,r])},t.prototype.createElControls_=function(){var e=(0,v.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),t=(0,v.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,v.createEl)("div",{className:"vjs-tracksettings-controls"},undefined,[e,t])},t.prototype.createEl=function(){var e=(0,v.createEl)("div",{className:"vjs-tracksettings"},undefined,[this.createElColors_(),this.createElFont_(),this.createElControls_()]),t=(0,v.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.id_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),r=(0,v.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.id_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),n=(0,v.createEl)("div",undefined,{role:"document"},[t,r,e]);return(0,v.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":t.id,"aria-describedby":r.id},n)},t.prototype.getValues=function(){var e=this;return _.reduce(R,function(t,r,n){var i=l(e.$(r.selector),r.parser);return i!==undefined&&(t[n]=i),t},{})},t.prototype.setValues=function(e){var t=this;_.each(R,function(r,n){f(t.$(r.selector),e[n],r.parser)})},t.prototype.setDefaults=function(){var e=this;_.each(R,function(t){var r=t.hasOwnProperty("default")?t["default"]:0;e.$(t.selector).selectedIndex=r})},t.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(d["default"].localStorage.getItem("vjs-text-track-settings"))}catch(e){T["default"].warn(e)}e&&this.setValues(e)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?d["default"].localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):d["default"].localStorage.removeItem("vjs-text-track-settings")}catch(e){T["default"].warn(e)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t}(h["default"]);h["default"].registerComponent("TextTrackSettings",D),r["default"]=D},{5:5,81:81,83:83,86:86,88:88,95:95}],72:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var u=e(67),l=i(u),f=e(83),c=n(f),d=e(73),p=e(86),h=i(p),v=e(95),y=i(v),g=e(75),m=i(g),_=e(92),b=e(104),T=i(b),E=e(87),w=i(E),S=e(78),C=n(S),O=function(e,t){var r=new y["default"].WebVTT.Parser(y["default"],y["default"].vttjs,y["default"].WebVTT.StringDecoder()),n=[];r.oncue=function(e){t.addCue(e)},r.onparsingerror=function(e){n.push(e)},r.onflush=function(){t.trigger({type:"loadeddata",target:t})},r.parse(e),n.length>0&&(y["default"].console&&y["default"].console.groupCollapsed&&y["default"].console.groupCollapsed("Text Track parsing errors for "+t.src),n.forEach(function(e){return h["default"].error(e)}),y["default"].console&&y["default"].console.groupEnd&&y["default"].console.groupEnd()),r.flush()},k=function(e,t){var r={uri:e},n=(0,_.isCrossOrigin)(e);n&&(r.cors=n),(0,T["default"])(r,c.bind(this,function(e,r,n){if(e)return h["default"].error(e,r);if(t.loaded_=!0,"function"!=typeof y["default"].WebVTT){if(t.tech_){var i=function(){return O(n,t)};t.tech_.on("vttjsloaded",i),t.tech_.on("vttjserror",function(){h["default"].error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",i)})}}else O(n,t)}))},P=function(e){function t(){var r,n,i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(a(this,t),!i.tech)throw new Error("A tech was not provided.");var s=(0,w["default"])(i,{kind:d.TextTrackKind[i.kind]||"subtitles",language:i.language||i.srclang||""}),u=d.TextTrackMode[s.mode]||"disabled",f=s["default"];"metadata"!==s.kind&&"chapters"!==s.kind||(u="hidden");var p=r=o(this,e.call(this,s));if(p.tech_=s.tech,C.IS_IE8)for(var h in t.prototype)"constructor"!==h&&(p[h]=t.prototype[h]);p.cues_=[],p.activeCues_=[];var v=new l["default"](p.cues_),y=new l["default"](p.activeCues_),g=!1,m=c.bind(p,function(){this.activeCues,g&&(this.trigger("cuechange"),g=!1)});return"disabled"!==u&&p.tech_.ready(function(){p.tech_.on("timeupdate",m)},!0),Object.defineProperty(p,"default",{get:function(){return f},set:function(){}}),Object.defineProperty(p,"mode",{get:function(){return u},set:function(e){var t=this;d.TextTrackMode[e]&&(u=e,"showing"===u&&this.tech_.ready(function(){t.tech_.on("timeupdate",m)},!0),this.trigger("modechange"))}}),Object.defineProperty(p,"cues",{get:function(){return this.loaded_?v:null},set:function(){}}),Object.defineProperty(p,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return y;for(var e=this.tech_.currentTime(),t=[],r=0,n=this.cues.length;r<n;r++){var i=this.cues[r];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(g=!1,t.length!==this.activeCues_.length)g=!0;else for(var a=0;a<t.length;a++)-1===this.activeCues_.indexOf(t[a])&&(g=!0);return this.activeCues_=t,y.setCues_(this.activeCues_),y},set:function(){}}),s.src?(p.src=s.src,k(s.src,p)):p.loaded_=!0,n=p,o(r,n)}return s(t,e),t.prototype.addCue=function(e){var t=e;if(y["default"].vttjs&&!(e instanceof y["default"].vttjs.VTTCue)){t=new y["default"].vttjs.VTTCue(e.startTime,e.endTime,e.text);for(var r in e)r in t||(t[r]=e[r]);t.id=e.id,t.originalCue_=e}var n=this.tech_.textTracks();if(n)for(var i=0;i<n.length;i++)n[i]!==this&&n[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=this.cues_.length;t--;){var r=this.cues_[t];if(r===e||r.originalCue_&&r.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(m["default"]);P.prototype.allowedEvents_={cuechange:"cuechange"},r["default"]=P},{104:104,67:67,73:73,75:75,78:78,83:83,86:86,87:87,92:92,95:95}],73:[function(e,t,r){"use strict";r.__esModule=!0;r.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},r.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},r.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},r.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],74:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(42),u=n(s),l=e(78),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(l),c=e(94),d=n(c),p=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;i(this,t);var s=a(this,e.call(this));if(!o&&(o=s,f.IS_IE8)){o=d["default"].createElement("custom");for(var u in t.prototype)"constructor"!==u&&(o[u]=t.prototype[u])}o.tracks_=[],Object.defineProperty(o,"length",{get:function(){return this.tracks_.length}});for(var l=0;l<n.length;l++)o.addTrack_(n[l]);return r=o,a(s,r)}return o(t,e),t.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack_=function(e){for(var t=void 0,r=0,n=this.length;r<n;r++)if(this[r]===e){t=this[r],t.off&&t.off(),this.tracks_.splice(r,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,r=0,n=this.length;r<n;r++){var i=this[r];if(i.id===e){t=i;break}}return t},t}(u["default"]);p.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var h in p.prototype.allowedEvents_)p.prototype["on"+h]=null;r["default"]=p},{42:42,78:78,94:94}],75:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var u=e(78),l=i(u),f=e(94),c=n(f),d=e(85),p=i(d),h=e(42),v=n(h),y=function(e){function t(){var r,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};a(this,t);var i=o(this,e.call(this)),s=i;if(l.IS_IE8){s=c["default"].createElement("custom");for(var u in t.prototype)"constructor"!==u&&(s[u]=t.prototype[u])}var f={id:n.id||"vjs_track_"+p.newGUID(),kind:n.kind||"",label:n.label||"",language:n.language||""};for(var d in f)!function(e){Object.defineProperty(s,e,{get:function(){return f[e]},set:function(){}})}(d);return r=s,o(i,r)}return s(t,e),t}(v["default"]);r["default"]=y},{42:42,78:78,85:85,94:94}],76:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(74),u=n(s),l=e(78),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(l),c=e(94),d=n(c),p=function(e,t){for(var r=0;r<e.length;r++)t.id!==e[r].id&&(e[r].selected=!1)},h=function(e){function t(){var r,n,o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];i(this,t);for(var s=void 0,l=o.length-1;l>=0;l--)if(o[l].selected){p(o,o[l]);break}if(f.IS_IE8){s=d["default"].createElement("custom");for(var c in u["default"].prototype)"constructor"!==c&&(s[c]=u["default"].prototype[c]);for(var h in t.prototype)"constructor"!==h&&(s[h]=t.prototype[h])}return s=r=a(this,e.call(this,o,s)),s.changing_=!1,Object.defineProperty(s,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n=s,a(r,n)}return o(t,e),t.prototype.addTrack_=function(t){var r=this;t.selected&&p(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){r.changing_||(r.changing_=!0,p(r,t),r.changing_=!1,r.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(u["default"]);r["default"]=h},{74:74,78:78,94:94}],77:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=e(73),u=e(75),l=n(u),f=e(87),c=n(f),d=e(78),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(d),h=function(e){function t(){var r,n,o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};i(this,t);var u=(0,c["default"])(o,{kind:s.VideoTrackKind[o.kind]||""}),l=r=a(this,e.call(this,u)),f=!1;if(p.IS_IE8)for(var d in t.prototype)"constructor"!==d&&(l[d]=t.prototype[d]);return Object.defineProperty(l,"selected",{get:function(){return f},set:function(e){"boolean"==typeof e&&e!==f&&(f=e,this.trigger("selectedchange"))}}),u.selected&&(l.selected=u.selected),n=l,a(r,n)}return o(t,e),t}(l["default"]);r["default"]=h},{73:73,75:75,78:78,87:87}],78:[function(e,t,r){"use strict";r.__esModule=!0,r.BACKGROUND_SIZE_SUPPORTED=r.TOUCH_ENABLED=r.IS_ANY_SAFARI=r.IS_SAFARI=r.IE_VERSION=r.IS_IE8=r.CHROME_VERSION=r.IS_CHROME=r.IS_EDGE=r.IS_FIREFOX=r.IS_NATIVE_ANDROID=r.IS_OLD_ANDROID=r.ANDROID_VERSION=r.IS_ANDROID=r.IOS_VERSION=r.IS_IOS=r.IS_IPOD=r.IS_IPHONE=r.IS_IPAD=undefined;var n=e(81),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(n),a=e(95),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=o["default"].navigator&&o["default"].navigator.userAgent||"",u=/AppleWebKit\/([\d.]+)/i.exec(s),l=u?parseFloat(u.pop()):null,f=r.IS_IPAD=/iPad/i.test(s),c=r.IS_IPHONE=/iPhone/i.test(s)&&!f,d=r.IS_IPOD=/iPod/i.test(s),p=r.IS_IOS=c||f||d,h=(r.IOS_VERSION=function(){var e=s.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),r.IS_ANDROID=/Android/i.test(s)),v=r.ANDROID_VERSION=function(){var e=s.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return t&&r?parseFloat(e[1]+"."+e[2]):t||null}(),y=(r.IS_OLD_ANDROID=h&&/webkit/i.test(s)&&v<2.3,r.IS_NATIVE_ANDROID=h&&v<5&&l<537,r.IS_FIREFOX=/Firefox/i.test(s),r.IS_EDGE=/Edge/i.test(s)),g=r.IS_CHROME=!y&&/Chrome/i.test(s),m=(r.CHROME_VERSION=function(){var e=s.match(/Chrome\/(\d+)/);return e&&e[1]?parseFloat(e[1]):null}(),r.IS_IE8=/MSIE\s8\.0/.test(s),r.IE_VERSION=function(){var e=/MSIE\s(\d+)\.\d/.exec(s),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(s)&&/rv:11.0/.test(s)&&(t=11),t}(),r.IS_SAFARI=/Safari/i.test(s)&&!g&&!h&&!y);r.IS_ANY_SAFARI=m||p,r.TOUCH_ENABLED=i.isReal()&&("ontouchstart"in o["default"]||o["default"].DocumentTouch&&o["default"].document instanceof o["default"].DocumentTouch),r.BACKGROUND_SIZE_SUPPORTED=i.isReal()&&"backgroundSize"in o["default"].document.createElement("video").style},{81:81,95:95}],79:[function(e,t,r){"use strict";function n(e,t){var r=0,n=void 0,a=void 0;if(!t)return 0;e&&e.length||(e=(0,i.createTimeRange)(0,0));for(var o=0;o<e.length;o++)n=e.start(o),a=e.end(o),a>t&&(a=t),r+=a-n;return r/t}r.__esModule=!0,r.bufferedPercent=n;var i=e(90)},{90:90}],80:[function(e,t,r){"use strict";function n(e,t){if(!e||!t)return"";if("function"==typeof a["default"].getComputedStyle){var r=a["default"].getComputedStyle(e);return r?r[t]:""}return e.currentStyle[t]||""}r.__esModule=!0,r["default"]=n;var i=e(95),a=function(e){return e&&e.__esModule?e:{default:e}}(i)},{95:95}],81:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){return"string"==typeof e&&/\S/.test(e)}function a(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function o(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function s(){return N["default"]===B["default"].document&&"undefined"!=typeof N["default"].createElement}function u(e){return(0,K.isObject)(e)&&1===e.nodeType}function l(e){return function(t,r){if(!i(t))return N["default"][e](null);i(r)&&(r=N["default"].querySelector(r));var n=u(r)?r:N["default"];return n[e]&&n[e](t)}}function f(e){return 0===e.indexOf("#")&&(e=e.slice(1)),N["default"].getElementById(e)}function c(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div",t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},n=arguments[3],i=N["default"].createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var r=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(q["default"].warn((0,z["default"])(j,e,r)),i.setAttribute(e,r)):"textContent"===e?d(i,r):i[e]=r}),Object.getOwnPropertyNames(r).forEach(function(e){i.setAttribute(e,r[e])}),n&&R(i,n),i}function d(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function p(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function h(e){var t=e[W];return t||(t=e[W]=H.newGUID()),Y[t]||(Y[t]={}),Y[t]}function v(e){var t=e[W];return!!t&&!!Object.getOwnPropertyNames(Y[t]).length}function y(e){var t=e[W];if(t){delete Y[t];try{delete e[W]}catch(t){e.removeAttribute?e.removeAttribute(W):e[W]=null}}}function g(e,t){return a(t),e.classList?e.classList.contains(t):o(t).test(e.className)}function m(e,t){return e.classList?e.classList.add(t):g(e,t)||(e.className=(e.className+" "+t).trim()),e}function _(e,t){return e.classList?e.classList.remove(t):(a(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function b(e,t,r){var n=g(e,t);if("function"==typeof r&&(r=r(e,t)),"boolean"!=typeof r&&(r=!n),r!==n)return r?m(e,t):_(e,t),e}function T(e,t){Object.getOwnPropertyNames(t).forEach(function(r){var n=t[r];null===n||void 0===n||!1===n?e.removeAttribute(r):e.setAttribute(r,!0===n?"":n)})}function E(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,n=r.length-1;n>=0;n--){var i=r[n].name,a=r[n].value;"boolean"!=typeof e[i]&&-1===",autoplay,controls,loop,muted,default,".indexOf(","+i+",")||(a=null!==a),t[i]=a}return t}function w(e,t){return e.getAttribute(t)}function S(e,t,r){e.setAttribute(t,r)}function C(e,t){e.removeAttribute(t)}function O(){N["default"].body.focus(),N["default"].onselectstart=function(){return!1}}function k(){N["default"].onselectstart=function(){return!0}}function P(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var r=N["default"].documentElement,n=N["default"].body,i=r.clientLeft||n.clientLeft||0,a=B["default"].pageXOffset||n.scrollLeft,o=t.left+a-i,s=r.clientTop||n.clientTop||0,u=B["default"].pageYOffset||n.scrollTop,l=t.top+u-s;return{left:Math.round(o),top:Math.round(l)}}function x(e,t){var r={},n=P(e),i=e.offsetWidth,a=e.offsetHeight,o=n.top,s=n.left,u=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),r.y=Math.max(0,Math.min(1,(o-u+a)/a)),r.x=Math.max(0,Math.min(1,(l-s)/i)),r}function A(e){return(0,K.isObject)(e)&&3===e.nodeType}function M(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function I(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),u(e)||A(e)?e:"string"==typeof e&&/\S/.test(e)?N["default"].createTextNode(e):void 0}).filter(function(e){return e})}function R(e,t){return I(t).forEach(function(t){return e.appendChild(t)}),e}function D(e,t){return R(M(e),t)}r.__esModule=!0,r.$$=r.$=undefined;var j=function(e,t){return e.raw=t,e}(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);r.isReal=s,r.isEl=u,r.getEl=f,r.createEl=c,r.textContent=d,r.insertElFirst=p,r.getElData=h,r.hasElData=v,r.removeElData=y,r.hasElClass=g,r.addElClass=m,r.removeElClass=_,r.toggleElClass=b,r.setElAttributes=T,r.getElAttributes=E,r.getAttribute=w,r.setAttribute=S,r.removeAttribute=C,r.blockTextSelection=O,r.unblockTextSelection=k,r.findElPosition=P,r.getPointerPosition=x,r.isTextNode=A,r.emptyEl=M,r.normalizeContent=I,r.appendContent=R,r.insertContent=D;var L=e(94),N=n(L),F=e(95),B=n(F),U=e(85),H=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}(U),V=e(86),q=n(V),G=e(98),z=n(G),K=e(88),Y={},W="vdata"+(new Date).getTime();r.$=l("querySelector"),r.$$=l("querySelectorAll")},{85:85,86:86,88:88,94:94,95:95,98:98}],82:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function a(e,t){var r=p.getElData(e);0===r.handlers[t].length&&(delete r.handlers[t],e.removeEventListener?e.removeEventListener(t,r.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),0===Object.getOwnPropertyNames(r).length&&p.removeElData(e)}function o(e,t,r,n){r.forEach(function(r){e(t,r,n)})}function s(e){function t(){return!0}function r(){return!1}if(!e||!e.isPropagationStopped){var n=e||_["default"].event;e={};for(var i in n)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&n.preventDefault||(e[i]=n[i]));if(e.target||(e.target=e.srcElement||T["default"]),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=r,null!==e.clientX&&e.clientX!==undefined){var a=T["default"].documentElement,o=T["default"].body;e.pageX=e.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&e.button!==undefined&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function u(e,t,r){if(Array.isArray(t))return o(u,e,t,r);var n=p.getElData(e);if(n.handlers||(n.handlers={}),n.handlers[t]||(n.handlers[t]=[]),r.guid||(r.guid=v.newGUID()),n.handlers[t].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(t,r){if(!n.disabled){t=s(t);var i=n.handlers[t.type];if(i)for(var a=i.slice(0),o=0,u=a.length;o<u&&!t.isImmediatePropagationStopped();o++)try{a[o].call(e,t,r)}catch(e){g["default"].error(e)}}}),1===n.handlers[t].length)if(e.addEventListener){var i=!1;E&&w.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,n.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,n.dispatcher)}function l(e,t,r){if(p.hasElData(e)){var n=p.getElData(e);if(n.handlers){if(Array.isArray(t))return o(l,e,t,r);var i=function(t){n.handlers[t]=[],a(e,t)};if(t){var s=n.handlers[t];if(s){if(!r)return void i(t);if(r.guid)for(var u=0;u<s.length;u++)s[u].guid===r.guid&&s.splice(u--,1);a(e,t)}}else for(var f in n.handlers)i(f)}}}function f(e,t,r){var n=p.hasElData(e)?p.getElData(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=s(t),n.dispatcher&&n.dispatcher.call(e,t,r),i&&!t.isPropagationStopped()&&!0===t.bubbles)f.call(null,i,t,r);else if(!i&&!t.defaultPrevented){var a=p.getElData(t.target);t.target[t.type]&&(a.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),a.disabled=!1)}return!t.defaultPrevented}function c(e,t,r){if(Array.isArray(t))return o(c,e,t,r);var n=function n(){l(e,t,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||v.newGUID(),u(e,t,n)}r.__esModule=!0,r.fixEvent=s,r.on=u,r.off=l,r.trigger=f,r.one=c;var d=e(81),p=i(d),h=e(85),v=i(h),y=e(86),g=n(y),m=e(95),_=n(m),b=e(94),T=n(b),E=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){E=!0}});_["default"].addEventListener("test",null,e)}catch(e){}}();var w=["touchstart","touchmove"]},{81:81,85:85,86:86,94:94,95:95}],83:[function(e,t,r){"use strict";r.__esModule=!0,r.throttle=r.bind=undefined;var n=e(85);r.bind=function(e,t,r){t.guid||(t.guid=(0,n.newGUID)());var i=function(){return t.apply(e,arguments)};return i.guid=r?r+"_"+t.guid:t.guid,i},r.throttle=function(e,t){var r=Date.now();return function(){var n=Date.now();n-r>=t&&(e.apply(undefined,arguments),r=n)}}},{85:85}],84:[function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e;e=e<0?0:e;var r=Math.floor(e%60),n=Math.floor(e/60%60),i=Math.floor(e/3600),a=Math.floor(t/60%60),o=Math.floor(t/3600);return(isNaN(e)||e===Infinity)&&(i=n=r="-"),i=i>0||o>0?i+":":"",n=((i||a>=10)&&n<10?"0"+n:n)+":",r=r<10?"0"+r:r,i+n+r}r.__esModule=!0,r["default"]=n},{}],85:[function(e,t,r){"use strict";function n(){return i++}r.__esModule=!0,r.newGUID=n;var i=1},{}],86:[function(e,t,r){"use strict";r.__esModule=!0,r.logByType=undefined;var n=e(95),i=function(e){return e&&e.__esModule?e:{default:e}}(n),a=e(78),o=e(88),s=void 0,u=r.logByType=function(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!!a.IE_VERSION&&a.IE_VERSION<11;"log"!==e&&t.unshift(e.toUpperCase()+":"),s.history.push(t),t.unshift("VIDEOJS:");var n=i["default"].console&&i["default"].console[e];n&&(r&&(t=t.map(function(e){if((0,o.isObject)(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),n.apply?n[Array.isArray(t)?"apply":"call"](i["default"].console,t):n(t))};s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];u("log",t)},s.history=[],s.error=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return u("error",t)},s.warn=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return u("warn",t)},r["default"]=s},{78:78,88:88,95:95}],87:[function(e,t,r){"use strict";function n(){for(var e={},t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return r.forEach(function(t){t&&(0,i.each)(t,function(t,r){if(!(0,i.isPlain)(t))return void(e[r]=t);(0,i.isPlain)(e[r])||(e[r]={}),e[r]=n(e[r],t)})}),e}r.__esModule=!0,r["default"]=n;var i=e(88)},{88:88}],88:[function(e,t,r){"use strict";function n(e,t){f(e).forEach(function(r){return t(e[r],r)})}function i(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return f(e).reduce(function(r,n){return t(r,e[n],n)},r)}function a(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[e].concat(r)):(r.forEach(function(t){t&&n(t,function(t,r){e[r]=t})}),e)}function o(e){return!!e&&"object"===(void 0===e?"undefined":u(e))}function s(e){return o(e)&&"[object Object]"===l.call(e)&&e.constructor===Object}r.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.each=n,r.reduce=i,r.assign=a,r.isObject=o,r.isPlain=s;var l=Object.prototype.toString,f=function(e){return o(e)?Object.keys(e):[]}},{}],89:[function(e,t,r){"use strict";r.__esModule=!0,r.setTextContent=r.createStyleElement=undefined;var n=e(94),i=function(e){return e&&e.__esModule?e:{default:e}}(n);r.createStyleElement=function(e){var t=i["default"].createElement("style");return t.className=e,t},r.setTextContent=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}},{94:94}],90:[function(e,t,r){"use strict";function n(e,t,r){if(t<0||t>r)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+r+").")}function i(e,t,r,i){return i===undefined&&(u["default"].warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument."),i=0),n(e,i,r.length-1),r[i][t]}function a(e){return e===undefined||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:i.bind(null,"start",0,e),end:i.bind(null,"end",1,e)}}function o(e,t){return Array.isArray(e)?a(e):e===undefined||t===undefined?a():a([[e,t]])}r.__esModule=!0,r.createTimeRange=undefined,r.createTimeRanges=o;var s=e(86),u=function(e){return e&&e.__esModule?e:{default:e}}(s);r.createTimeRange=o},{86:86}],91:[function(e,t,r){"use strict";function n(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}r.__esModule=!0,r["default"]=n},{}],92:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0,r.isCrossOrigin=r.getFileExtension=r.getAbsoluteURL=r.parseUrl=undefined;var i=e(94),a=n(i),o=e(95),s=n(o),u=r.parseUrl=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],r=a["default"].createElement("a");r.href=e;var n=""===r.host&&"file:"!==r.protocol,i=void 0;n&&(i=a["default"].createElement("div"),i.innerHTML='<a href="'+e+'"></a>',r=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),a["default"].body.appendChild(i));for(var o={},s=0;s<t.length;s++)o[t[s]]=r[t[s]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),n&&a["default"].body.removeChild(i),o};r.getAbsoluteURL=function(e){if(!e.match(/^https?:\/\//)){var t=a["default"].createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},r.getFileExtension=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,r=t.exec(e);if(r)return r.pop().toLowerCase()}return""},r.isCrossOrigin=function(e){var t=s["default"].location,r=u(e);return(":"===r.protocol?t.protocol:r.protocol)+r.host!==t.protocol+t.host}},{94:94,95:95}],93:[function(t,r,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){var n=void 0;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),o.getPlayers()[e])return t&&G["default"].warn('Player "'+e+'" is already initialised. Options will not be applied.'),r&&o.getPlayers()[e].ready(r),o.getPlayers()[e];n=v.getEl(e)}else n=e;if(!n||!n.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(n.player||k["default"].players[n.playerId])return n.player||k["default"].players[n.playerId];t=t||{},o.hooks("beforesetup").forEach(function(e){var r=e(n,(0,M["default"])(t));if(!(0,Y.isObject)(r)||Array.isArray(r))return void G["default"].error("please return an object in beforesetup hooks");t=(0,M["default"])(t,r)});var i=T["default"].getComponent("Player"),a=new i(n,t,r);return o.hooks("setup").forEach(function(e){return e(a)}),a}n.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=t(95),l=a(u),f=t(94),c=a(f),d=t(78),p=i(d),h=t(81),v=i(h),y=t(56),g=i(y),m=t(89),_=i(m),b=t(5),T=a(b),E=t(42),w=a(E),S=t(82),C=i(S),O=t(51),k=a(O),P=t(52),x=a(P),A=t(87),M=a(A),I=t(83),R=i(I),D=t(72),j=a(D),L=t(64),N=a(L),F=t(77),B=a(F),U=t(90),H=t(84),V=a(H),q=t(86),G=a(q),z=t(92),K=i(z),Y=t(88),W=t(80),X=a(W),Q=t(43),$=a(Q),J=t(104),Z=a(J),ee=t(62),te=a(ee);if("undefined"==typeof HTMLVideoElement&&v.isReal()&&(c["default"].createElement("video"),c["default"].createElement("audio"),c["default"].createElement("track")),o.hooks_={},o.hooks=function(e,t){return o.hooks_[e]=o.hooks_[e]||[],t&&(o.hooks_[e]=o.hooks_[e].concat(t)),o.hooks_[e]},o.hook=function(e,t){o.hooks(e,t)},o.removeHook=function(e,t){var r=o.hooks(e).indexOf(t);return!(r<=-1)&&(o.hooks_[e]=o.hooks_[e].slice(),o.hooks_[e].splice(r,1),!0)},!0!==l["default"].VIDEOJS_NO_DYNAMIC_STYLE&&v.isReal()){var re=v.$(".vjs-styles-defaults");if(!re){re=_.createStyleElement("vjs-styles-defaults");var ne=v.$("head");ne&&ne.insertBefore(re,ne.firstChild),_.setTextContent(re,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}g.autoSetupTimeout(1,o),o.VERSION="5.20.3",o.options=k["default"].prototype.options_,o.getPlayers=function(){return k["default"].players},o.players=k["default"].players,o.getComponent=T["default"].getComponent,o.registerComponent=function(e,t){te["default"].isTech(t)&&G["default"].warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),T["default"].registerComponent.call(T["default"],e,t)},o.getTech=te["default"].getTech,o.registerTech=te["default"].registerTech,o.browser=p,o.TOUCH_ENABLED=p.TOUCH_ENABLED,o.extend=$["default"],o.mergeOptions=M["default"],o.bind=R.bind,o.plugin=x["default"],o.addLanguage=function(e,t){var r;return e=(""+e).toLowerCase(),o.options.languages=(0,M["default"])(o.options.languages,(r={},r[e]=t,r)),o.options.languages[e]},o.log=G["default"],o.createTimeRange=o.createTimeRanges=U.createTimeRanges,o.formatTime=V["default"],o.parseUrl=K.parseUrl,o.isCrossOrigin=K.isCrossOrigin,o.EventTarget=w["default"],o.on=C.on,o.one=C.one,o.off=C.off,o.trigger=C.trigger,o.xhr=Z["default"],o.TextTrack=j["default"],o.AudioTrack=N["default"],o.VideoTrack=B["default"],o.isEl=v.isEl,o.isTextNode=v.isTextNode,o.createEl=v.createEl,o.hasClass=v.hasElClass,o.addClass=v.addElClass,o.removeClass=v.removeElClass,o.toggleClass=v.toggleElClass,o.setAttributes=v.setElAttributes,o.getAttributes=v.getElAttributes,o.emptyEl=v.emptyEl,o.appendContent=v.appendContent,o.insertContent=v.insertContent,o.computedStyle=X["default"],"function"==typeof e&&e.amd?e("videojs",[],function(){return o}):"object"===(void 0===n?"undefined":s(n))&&"object"===(void 0===r?"undefined":s(r))&&(r.exports=o),n["default"]=o},{104:104,42:42,43:43,5:5,51:51,52:52,56:56,62:62,64:64,72:72,77:77,78:78,80:80,81:81,82:82,83:83,84:84,86:86,87:87,88:88,89:89,90:90,92:92,94:94,95:95}],94:[function(e,t,r){(function(r){var n=void 0!==r?r:"undefined"!=typeof window?window:{},i=e(96);if("undefined"!=typeof document)t.exports=document;else{var a=n["__GLOBAL_DOCUMENT_CACHE@4"];a||(a=n["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=a}}).call(this,false?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{96:96}],95:[function(e,t,r){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,false?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],96:[function(e,t,r){},{}],97:[function(e,t,r){function n(e,t){var r,n=null;try{r=JSON.parse(e,t)}catch(e){n=e}return[n,r]}t.exports=n},{}],98:[function(e,t,r){function n(e){return e.replace(/\n\r?\s*/g,"")}t.exports=function(e){for(var t="",r=0;r<arguments.length;r++)t+=n(e[r])+(arguments[r+1]||"");return t}},{}],99:[function(e,t,r){var n=e(103),i=t.exports={WebVTT:e(100),VTTCue:e(101),VTTRegion:e(102)};n.vttjs=i,n.WebVTT=i.WebVTT;var a=i.VTTCue,o=i.VTTRegion,s=n.VTTCue,u=n.VTTRegion;i.shim=function(){n.VTTCue=a,n.VTTRegion=o},i.restore=function(){n.VTTCue=s,n.VTTRegion=u},n.VTTCue||i.shim()},{100:100,101:101,102:102,103:103}],100:[function(e,t,r){function n(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function i(e){function t(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+(0|n)/1e3}var r=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}function a(){this.values=g(null)}function o(e,t,r,n){var i=n?e.split(n):[e];for(var a in i)if("string"==typeof i[a]){var o=i[a].split(r);if(2===o.length){var s=o[0],u=o[1];t(s,u)}}}function s(e,t,r){function s(){var t=i(e);if(null===t)throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+l);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function u(){e=e.replace(/^\s+/,"")}var l=e;if(u(),t.startTime=s(),u(),"--\x3e"!==e.substr(0,3))throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+l);e=e.substr(3),u(),t.endTime=s(),u(),function(e,t){var n=new a;o(e,function(e,t){switch(e){case"region":for(var i=r.length-1;i>=0;i--)if(r[i].id===t){n.set(e,r[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),o=a[0];n.integer(e,o),n.percent(e,o)&&n.set("snapToLines",!1),n.alt(e,o,["auto"]),2===a.length&&n.alt("lineAlign",a[1],["start","middle","end"]);break;case"position":a=t.split(","),n.percent(e,a[0]),2===a.length&&n.alt("positionAlign",a[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(e,t)}function u(e,t){function r(e){return m[e]}for(var n,a=e.document.createElement("div"),o=a,s=[];null!==(n=function(){if(!t)return null;var e=t.match(/^([^<]*)(<[^>]+>?)?/);return function(e){return t=t.substr(e.length),e}(e[1]?e[1]:e[2])}());)if("<"!==n[0])o.appendChild(e.document.createTextNode(function(e){for(;f=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(f[0],r);return e}(n)));else{if("/"===n[1]){s.length&&s[s.length-1]===n.substr(2).replace(">","")&&(s.pop(),o=o.parentNode);continue}var u,l=i(n.substr(1,n.length-2));if(l){u=e.document.createProcessingInstruction("timestamp",l),o.appendChild(u);continue}var f=n.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f)continue;if(!(u=function(t,r){var n=_[t];if(!n)return null;var i=e.document.createElement(n);i.localName=n;var a=b[t];return a&&r&&(i[a]=r.trim()),i}(f[1],f[3])))continue;if(!function(e,t){return!T[t.localName]||T[t.localName]===e.localName}(o,u))continue;f[2]&&(u.className=f[2].substr(1).replace("."," ")),s.push(f[1]),o.appendChild(u),o=u}return a}function l(e){for(var t=0;t<E.length;t++){var r=E[t];if(e>=r[0]&&e<=r[1])return!0}return!1}function f(e){function t(e,t){for(var r=t.childNodes.length-1;r>=0;r--)e.push(t.childNodes[r])}function r(e){if(!e||!e.length)return null;var n=e.pop(),i=n.textContent||n.innerText;if(i){var a=i.match(/^.*(\n|\r)/);return a?(e.length=0,a[0]):i}return"ruby"===n.tagName?r(e):n.childNodes?(t(e,n),r(e)):void 0}var n,i=[],a="";if(!e||!e.childNodes)return"ltr";for(t(i,e);a=r(i);)for(var o=0;o<a.length;o++)if(n=a.charCodeAt(o),l(n))return"rtl";return"ltr"}function c(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,r=t.textTrackList,n=0,i=0;i<r.length&&r[i]!==t;i++)"showing"===r[i].mode&&n++;return-1*++n}function d(){}function p(e,t,r){var n=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",a="rgba(0, 0, 0, 0.8)";n&&(i="rgb(255, 255, 255)",a="rgb(0, 0, 0)"),d.call(this),this.cue=t,this.cueDiv=u(e,t.text);var o={color:i,backgroundColor:a,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};n||(o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",o.unicodeBidi="plaintext"),this.applyStyles(o,this.cueDiv),this.div=e.document.createElement("div"),o={textAlign:"middle"===t.align?"center":t.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},n||(o.direction=f(this.cueDiv),o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(o),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function h(e){var t,r,n,i,a=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){r=e.div.offsetHeight,n=e.div.offsetWidth,i=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||r,this.bottom=e.bottom||i+(e.height||r),this.width=e.width||n,this.lineHeight=t!==undefined?t:e.lineHeight,a&&!this.lineHeight&&(this.lineHeight=13)}function v(e,t,r,n){var i=new h(t),a=t.cue,o=c(a),s=[];if(a.snapToLines){var u;switch(a.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var l=i.lineHeight,f=l*Math.round(o),d=r[u]+l,p=s[0];Math.abs(f)>d&&(f=f<0?-1:1,f*=Math.ceil(d/l)*l),o<0&&(f+=""===a.vertical?r.height:r.width,s=s.reverse()),i.move(p,f)}else{var v=i.lineHeight/r.height*100;switch(a.lineAlign){case"middle":o-=v/2;break;case"end":o-=v}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}s=["+y","-x","+x","-y"],i=new h(t)}var y=function(e,t){for(var i,a=new h(e),o=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(r,t[s])||e.within(r)&&e.overlapsAny(n);)e.move(t[s]);if(e.within(r))return e;var u=e.intersectPercentage(r);o>u&&(i=new h(e),o=u),e=new h(a)}return i||a}(i,s);t.move(y.toCSSCompatValues(r))}function y(){}var g=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();n.prototype=g(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},a.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var m={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},_={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},b={v:"title",lang:"lang"},T={rt:"ruby"},E=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];d.prototype.applyStyles=function(e,t){t=t||this.div;for(var r in e)e.hasOwnProperty(r)&&(t.style[r]=e[r])},d.prototype.formatStyle=function(e,t){return 0===e?0:e+t},p.prototype=g(d.prototype),p.prototype.constructor=p,h.prototype.move=function(e,t){switch(t=t!==undefined?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},h.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},h.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},h.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},h.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},h.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},h.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},h.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,r=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e,{left:e.left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||r}},y.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},y.convertCueToDOMTree=function(e,t){return e&&t?u(e,t):null};y.processCues=function(e,t,r){if(!e||!t||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=e.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",r.appendChild(n),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],a=h.getSimpleBoxPosition(n),o=Math.round(.05*a.height*100)/100,s={font:o+"px sans-serif"};!function(){for(var r,o,u=0;u<t.length;u++)o=t[u],r=new p(e,o,s),n.appendChild(r.div),v(e,r,a,i),o.displayState=r.div,i.push(h.getSimpleBoxPosition(r))}()}else for(var u=0;u<t.length;u++)n.appendChild(t[u].displayState)},y.Parser=function(e,t,r){r||(r=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]},y.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof n))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function t(){for(var e=l.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var r=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,l.buffer=e.substr(t),r}function r(e){var t=new a;if(o(e,function(e,r){switch(e){case"id":t.set(e,r);break;case"width":t.percent(e,r);break;case"lines":t.integer(e,r);break;case"regionanchor":case"viewportanchor":var n=r.split(",");if(2!==n.length)break;var i=new a;if(i.percent("x",n[0]),i.percent("y",n[1]),!i.has("x")||!i.has("y"))break;t.set(e+"X",i.get("x")),t.set(e+"Y",i.get("y"));break;case"scroll":t.alt(e,r,["up"])}},/=/,/\s/),t.has("id")){var r=new(l.vttjs.VTTRegion||l.window.VTTRegion);r.width=t.get("width",100),r.lines=t.get("lines",3),r.regionAnchorX=t.get("regionanchorX",0),r.regionAnchorY=t.get("regionanchorY",100),r.viewportAnchorX=t.get("viewportanchorX",0),r.viewportAnchorY=t.get("viewportanchorY",100),r.scroll=t.get("scroll",""),l.onregion&&l.onregion(r),l.regionList.push({id:t.get("id"),region:r})}}function u(e){var t=new a;o(e,function(e,r){switch(e){case"MPEGT":t.integer(e+"S",r);break;case"LOCA":t.set(e+"L",i(r))}},/[^\d]:/,/,/),l.ontimestampmap&&l.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}var l=this;e&&(l.buffer+=l.decoder.decode(e,{stream:!0}));try{var f;if("INITIAL"===l.state){if(!/\r\n|\n/.test(l.buffer))return this;f=t();var c=f.match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new n(n.Errors.BadSignature);l.state="HEADER"}for(var d=!1;l.buffer;){if(!/\r\n|\n/.test(l.buffer))return this;switch(d?d=!1:f=t(),l.state){case"HEADER":/:/.test(f)?function(e){e.match(/X-TIMESTAMP-MAP/)?o(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":u(t)}},/=/):o(e,function(e,t){switch(e){case"Region":r(t)}},/:/)}(f):f||(l.state="ID");continue;case"NOTE":f||(l.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(f)){l.state="NOTE";break}if(!f)continue;if(l.cue=new(l.vttjs.VTTCue||l.window.VTTCue)(0,0,""),l.state="CUE",-1===f.indexOf("--\x3e")){l.cue.id=f;continue}case"CUE":try{s(f,l.cue,l.regionList)}catch(e){l.reportOrThrowError(e),l.cue=null,l.state="BADCUE";continue}l.state="CUETEXT";continue;case"CUETEXT":var p=-1!==f.indexOf("--\x3e");if(!f||p&&(d=!0)){l.oncue&&l.oncue(l.cue),l.cue=null,l.state="ID";continue}l.cue.text&&(l.cue.text+="\n"),l.cue.text+=f;continue;case"BADCUE":f||(l.state="ID");continue}}}catch(e){l.reportOrThrowError(e),"CUETEXT"===l.state&&l.cue&&l.oncue&&l.oncue(l.cue),l.cue=null,l.state="INITIAL"===l.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new n(n.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},t.exports=y},{}],101:[function(e,t,r){function n(e){return"string"==typeof e&&(!!u[e.toLowerCase()]&&e.toLowerCase())}function i(e){return"string"==typeof e&&(!!l[e.toLowerCase()]&&e.toLowerCase())}function a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}function o(e,t,r){var o=this,u=/MSIE\s8\.0/.test(navigator.userAgent),l={};u?o=document.createElement("custom"):l.enumerable=!0,o.hasBeenReset=!1;var f="",c=!1,d=e,p=t,h=r,v=null,y="",g=!0,m="auto",_="start",b=50,T="middle",E=50,w="middle";if(Object.defineProperty(o,"id",a({},l,{get:function(){return f},set:function(e){f=""+e}})),Object.defineProperty(o,"pauseOnExit",a({},l,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(o,"startTime",a({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",a({},l,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",a({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",a({},l,{get:function(){return v},set:function(e){v=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",a({},l,{get:function(){return y},set:function(e){var t=n(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",a({},l,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",a({},l,{get:function(){return m},set:function(e){if("number"!=typeof e&&e!==s)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",a({},l,{get:function(){return _},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",a({},l,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",a({},l,{get:function(){return T},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");T=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",a({},l,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",a({},l,{get:function(){return w},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),o.displayState=undefined,u)return o}var s="auto",u={"":!0,lr:!0,rl:!0},l={start:!0,middle:!0,end:!0,left:!0,right:!0};o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=o},{}],102:[function(e,t,r){function n(e){return"string"==typeof e&&(!!o[e.toLowerCase()]&&e.toLowerCase())}function i(e){return"number"==typeof e&&e>=0&&e<=100}function a(){var e=100,t=3,r=0,a=100,o=0,s=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!i(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!i(e))throw new Error("RegionAnchorX must be between 0 and 100.");a=e}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!i(e))throw new Error("RegionAnchorY must be between 0 and 100.");r=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!i(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!i(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return u},set:function(e){var t=n(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");u=t}}})}var o={"":!0,up:!0};t.exports=a},{}],103:[function(e,t,r){(function(e){var r;r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=r}).call(this,false?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],104:[function(e,t,r){"use strict";function n(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function i(e,t,r){var n=e;return f(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=d(t,{uri:e}),n.callback=r,n}function a(e,t,r){return t=i(e,t,r),o(t)}function o(e){function t(){4===d.readyState&&o()}function r(){var e=undefined;if(e=d.response?d.response:d.responseText||s(d),T)try{e=JSON.parse(e)}catch(e){}return e}function i(e){return clearTimeout(v),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,l(e,f)}function o(){if(!h){var t;clearTimeout(v),t=e.useXDR&&d.status===undefined?200:1223===d.status?204:d.status;var n=f,i=null;return 0!==t?(n={body:r(),statusCode:t,method:g,headers:{},url:y,rawRequest:d},d.getAllResponseHeaders&&(n.headers=c(d.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),l(i,n,n.body)}}if("undefined"==typeof e.callback)throw new Error("callback argument missing");var u=!1,l=function(t,r,n){u||(u=!0,e.callback(t,r,n))},f={body:undefined,headers:{},statusCode:0,method:g,url:y,rawRequest:d},d=e.xhr||null;d||(d=e.cors||e.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var p,h,v,y=d.url=e.uri||e.url,g=d.method=e.method||"GET",m=e.body||e.data||null,_=d.headers=e.headers||{},b=!!e.sync,T=!1;if("json"in e&&(T=!0,_.accept||_.Accept||(_.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(_["content-type"]||_["Content-Type"]||(_["Content-Type"]="application/json"),m=JSON.stringify(e.json))),d.onreadystatechange=t,d.onload=o,d.onerror=i,d.onprogress=function(){},d.ontimeout=i,d.open(g,y,!b,e.username,e.password),b||(d.withCredentials=!!e.withCredentials),!b&&e.timeout>0&&(v=setTimeout(function(){h=!0,d.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)},e.timeout)),d.setRequestHeader)for(p in _)_.hasOwnProperty(p)&&d.setRequestHeader(p,_[p]);else if(e.headers&&!n(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(d.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(d),d.send(m),d}function s(e){if("document"===e.responseType)return e.responseXML;var t=204===e.status&&e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function u(){}var l=e(95),f=e(105),c=e(108),d=e(109);t.exports=a,a.XMLHttpRequest=l.XMLHttpRequest||u,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:l.XDomainRequest,function(e,t){for(var r=0;r<e.length;r++)t(e[r])}(["get","put","post","patch","head","delete"],function(e){a["delete"===e?"del":e]=function(t,r,n){return r=i(t,r,n),r.method=e.toUpperCase(),o(r)}})},{105:105,108:108,109:109,95:95}],105:[function(e,t,r){function n(e){var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=n;var i=Object.prototype.toString},{}],106:[function(e,t,r){function n(e,t,r){if(!s(t))throw new TypeError("iterator must be a function");arguments.length<3&&(r=this),"[object Array]"===u.call(e)?i(e,t,r):"string"==typeof e?a(e,t,r):o(e,t,r)}function i(e,t,r){for(var n=0,i=e.length;n<i;n++)l.call(e,n)&&t.call(r,e[n],n,e)}function a(e,t,r){for(var n=0,i=e.length;n<i;n++)t.call(r,e.charAt(n),n,e)}function o(e,t,r){for(var n in e)l.call(e,n)&&t.call(r,e[n],n,e)}var s=e(105);t.exports=n;var u=Object.prototype.toString,l=Object.prototype.hasOwnProperty},{105:105}],107:[function(e,t,r){function n(e){return e.replace(/^\s*|\s*$/g,"")}r=t.exports=n,r.left=function(e){return e.replace(/^\s*/,"")},r.right=function(e){return e.replace(/\s*$/,"")}},{}],108:[function(e,t,r){var n=e(107),i=e(106),a=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return i(n(e).split("\n"),function(e){var r=e.indexOf(":"),i=n(e.slice(0,r)).toLowerCase(),o=n(e.slice(r+1));"undefined"==typeof t[i]?t[i]=o:a(t[i])?t[i].push(o):t[i]=[t[i],o]}),t}},{106:106,107:107}],109:[function(e,t,r){function n(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)i.call(r,n)&&(e[n]=r[n])}return e}t.exports=n;var i=Object.prototype.hasOwnProperty},{}]},{},[93])(93)})},function(e,t,r){"use strict";t.__esModule=true;var n=r(46);var i=s(n);var a=r(1);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=function(e){f(t,e);function t(r,n){u(this,t);var i=l(this,e.call(this,r,n));i.mouseused_=false;i.on("mousedown",i.handleMouseDown);return i}t.prototype.buildCSSClass=function e(){return"vjs-big-play-button"};t.prototype.handleClick=function e(t){var r=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){return}var n=this.player_.getChild("controlBar");var i=n&&n.getChild("playToggle");if(!i){this.player_.focus();return}var a=function e(){return i.focus()};if(r&&r.then){var o=function e(){};r.then(a,o)}else{this.setTimeout(a,1)}};t.prototype.handleKeyPress=function t(r){this.mouseused_=false;e.prototype.handleKeyPress.call(this,r)};t.prototype.handleMouseDown=function e(t){this.mouseused_=true};return t}(i["default"]);c.prototype.controlText_="Play Video";o["default"].registerComponent("BigPlayButton",c);t["default"]=c},function(e,t,r){"use strict";t.__esModule=true;var n=r(46);var i=s(n);var a=r(1);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=function(e){f(t,e);function t(r,n){u(this,t);var i=l(this,e.call(this,r,n));i.controlText(n&&n.controlText||i.localize("Close"));return i}t.prototype.buildCSSClass=function t(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)};t.prototype.handleClick=function e(t){this.trigger({type:"close",bubbles:false})};return t}(i["default"]);o["default"].registerComponent("CloseButton",c);t["default"]=c},function(e,t,r){"use strict";t.__esModule=true;var n=r(137);var i=l(n);var a=r(1);var o=l(a);var s=r(331);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var p=function(e){d(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};f(this,t);n.tracks=r.audioTracks&&r.audioTracks();var i=c(this,e.call(this,r,n));i.el_.setAttribute("aria-label","Audio Menu");return i}t.prototype.buildCSSClass=function t(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)};t.prototype.createItems=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];this.hideThreshold_=1;var r=this.player_.audioTracks&&this.player_.audioTracks();if(!r){return t}for(var n=0;n<r.length;n++){var i=r[n];t.push(new u["default"](this.player_,{track:i,selectable:true}))}return t};return t}(i["default"]);p.prototype.controlText_="Audio Track";o["default"].registerComponent("AudioTrackButton",p);t["default"]=p},function(e,t,r){"use strict";t.__esModule=true;var n=r(65);var i=f(n);var a=r(1);var o=f(a);var s=r(5);var u=l(s);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){p(t,e);function t(r,n){c(this,t);var i=n.track;var a=r.audioTracks();n.label=i.label||i.language||"Unknown";n.selected=i.enabled;var o=d(this,e.call(this,r,n));o.track=i;if(a){var s=u.bind(o,o.handleTracksChange);a.addEventListener("change",s);o.on("dispose",function(){a.removeEventListener("change",s)})}return o}t.prototype.handleClick=function t(r){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,r);if(!n){return}for(var i=0;i<n.length;i++){var a=n[i];a.enabled=a===this.track}};t.prototype.handleTracksChange=function e(t){this.selected(this.track.enabled)};return t}(i["default"]);o["default"].registerComponent("AudioTrackMenuItem",h);t["default"]=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=a(n);r(335);r(353);r(354);r(356);r(355);r(334);r(341);r(333);r(357);r(359);r(136);r(348);r(350);r(352);r(347);r(330);r(336);r(344);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){u(t,e);function t(){o(this,t);return s(this,e.apply(this,arguments))}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})};return t}(i["default"]);l.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]};i["default"].registerComponent("ControlBar",l);t["default"]=l},function(e,t,r){"use strict";t.__esModule=true;var n=r(46);var i=s(n);var a=r(1);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=function(e){f(t,e);function t(r,n){u(this,t);var i=l(this,e.call(this,r,n));i.on(r,"fullscreenchange",i.handleFullscreenChange);return i}t.prototype.buildCSSClass=function t(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)};t.prototype.handleFullscreenChange=function e(t){if(this.player_.isFullscreen()){this.controlText("Non-Fullscreen")}else{this.controlText("Fullscreen")}};t.prototype.handleClick=function e(t){if(!this.player_.isFullscreen()){this.player_.requestFullscreen()}else{this.player_.exitFullscreen()}};return t}(i["default"]);c.prototype.controlText_="Fullscreen";o["default"].registerComponent("FullscreenToggle",c);t["default"]=c},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=u(n);var a=r(6);var o=s(a);function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=function(e){c(t,e);function t(r,n){l(this,t);var i=f(this,e.call(this,r,n));i.updateShowing();i.on(i.player(),"durationchange",i.updateShowing);return i}t.prototype.createEl=function t(){var r=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});this.contentEl_=o.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"});r.appendChild(this.contentEl_);return r};t.prototype.updateShowing=function e(t){if(this.player().duration()===Infinity){this.show()}else{this.hide()}};return t}(i["default"]);i["default"].registerComponent("LiveDisplay",d);t["default"]=d},function(e,t,r){"use strict";t.__esModule=true;var n=r(46);var i=s(n);var a=r(1);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=function(e){f(t,e);function t(r,n){u(this,t);var i=l(this,e.call(this,r,n));i.on(r,"play",i.handlePlay);i.on(r,"pause",i.handlePause);return i}t.prototype.buildCSSClass=function t(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)};t.prototype.handleClick=function e(t){if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}};t.prototype.handlePlay=function e(t){this.removeClass("vjs-paused");this.addClass("vjs-playing");this.controlText("Pause")};t.prototype.handlePause=function e(t){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.controlText("Play")};return t}(i["default"]);c.prototype.controlText_="Play";o["default"].registerComponent("PlayToggle",c);t["default"]=c},function(e,t,r){"use strict";t.__esModule=true;var n=r(140);var i=h(n);var a=r(141);var o=h(a);var s=r(337);var u=h(s);var l=r(1);var f=h(l);var c=r(6);var d=p(c);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m=function(e){g(t,e);function t(r,n){v(this,t);var i=y(this,e.call(this,r,n));i.updateVisibility();i.updateLabel();i.on(r,"loadstart",i.updateVisibility);i.on(r,"ratechange",i.updateLabel);return i}t.prototype.createEl=function t(){var r=e.prototype.createEl.call(this);this.labelEl_=d.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1});r.appendChild(this.labelEl_);return r};t.prototype.buildCSSClass=function t(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)};t.prototype.createMenu=function e(){var t=new o["default"](this.player());var r=this.playbackRates();if(r){for(var n=r.length-1;n>=0;n--){t.addChild(new u["default"](this.player(),{rate:r[n]+"x"}))}}return t};t.prototype.updateARIAAttributes=function e(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())};t.prototype.handleClick=function e(t){var r=this.player().playbackRate();var n=this.playbackRates();var i=n[0];for(var a=0;a<n.length;a++){if(n[a]>r){i=n[a];break}}this.player().playbackRate(i)};t.prototype.playbackRates=function e(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates};t.prototype.playbackRateSupported=function e(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0};t.prototype.updateVisibility=function e(t){if(this.playbackRateSupported()){this.removeClass("vjs-hidden")}else{this.addClass("vjs-hidden")}};t.prototype.updateLabel=function e(t){if(this.playbackRateSupported()){this.labelEl_.innerHTML=this.player().playbackRate()+"x"}};return t}(i["default"]);m.prototype.controlText_="Playback Rate";f["default"].registerComponent("PlaybackRateMenuButton",m);t["default"]=m},function(e,t,r){"use strict";t.__esModule=true;var n=r(65);var i=s(n);var a=r(1);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=function(e){f(t,e);function t(r,n){u(this,t);var i=n.rate;var a=parseFloat(i,10);n.label=i;n.selected=a===1;n.selectable=true;var o=l(this,e.call(this,r,n));o.label=i;o.rate=a;o.on(r,"ratechange",o.update);return o}t.prototype.handleClick=function t(r){e.prototype.handleClick.call(this);this.player().playbackRate(this.rate)};t.prototype.update=function e(t){this.selected(this.player().playbackRate()===this.rate)};return t}(i["default"]);c.prototype.contentElType="button";o["default"].registerComponent("PlaybackRateMenuItem",c);t["default"]=c},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=u(n);var a=r(6);var o=s(a);function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=function(e){c(t,e);function t(r,n){l(this,t);var i=f(this,e.call(this,r,n));i.partEls_=[];i.on(r,"progress",i.update);return i}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})};t.prototype.update=function e(t){var r=this.player_.buffered();var n=this.player_.duration();var i=this.player_.bufferedEnd();var a=this.partEls_;var s=function e(t,r){var n=t/r||0;return(n>=1?1:n)*100+"%"};this.el_.style.width=s(i,n);for(var u=0;u<r.length;u++){var l=r.start(u);var f=r.end(u);var c=a[u];if(!c){c=this.el_.appendChild(o.createEl());a[u]=c}c.style.left=s(l,i);c.style.width=s(f-l,i)}for(var d=a.length;d>r.length;d--){this.el_.removeChild(a[d-1])}a.length=r.length};return t}(i["default"]);i["default"].registerComponent("LoadProgressBar",d);t["default"]=d},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=h(n);var a=r(6);var o=p(a);var s=r(5);var u=p(s);var l=r(24);var f=h(l);var c=r(99);var d=h(c);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m=function(e){g(t,e);function t(r,n){v(this,t);var i=y(this,e.call(this,r,n));if(n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside){i.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside}if(i.keepTooltipsInside){i.tooltip=o.createEl("div",{className:"vjs-time-tooltip"});i.el().appendChild(i.tooltip);i.addClass("vjs-keep-tooltips-inside")}i.update(0,0);r.on("ready",function(){i.on(r.controlBar.progressControl.el(),"mousemove",u.throttle(u.bind(i,i.handleMouseMove),25))});return i}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})};t.prototype.handleMouseMove=function e(t){var r=this.player_.duration();var n=this.calculateDistance(t)*r;var i=t.pageX-o.findElPosition(this.el().parentNode).left;this.update(n,i)};t.prototype.update=function e(t,r){var n=(0,f["default"])(t,this.player_.duration());this.el().style.left=r+"px";this.el().setAttribute("data-current-time",n);if(this.keepTooltipsInside){var i=this.clampPosition_(r);var a=r-i+1;var o=parseFloat((0,d["default"])(this.tooltip,"width"));var s=o/2;this.tooltip.innerHTML=n;this.tooltip.style.right="-"+(s-a)+"px"}};t.prototype.calculateDistance=function e(t){return o.getPointerPosition(this.el().parentNode,t).x};t.prototype.clampPosition_=function e(t){if(!this.keepTooltipsInside){return t}var r=parseFloat((0,d["default"])(this.player().el(),"width"));var n=parseFloat((0,d["default"])(this.tooltip,"width"));var i=n/2;var a=t;if(t<i){a=Math.ceil(i)}else if(t>r-i){a=Math.floor(r-i)}return a};return t}(i["default"]);i["default"].registerComponent("MouseTimeDisplay",m);t["default"]=m},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=f(n);var a=r(5);var o=l(a);var s=r(24);var u=f(s);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){p(t,e);function t(r,n){c(this,t);var i=d(this,e.call(this,r,n));i.updateDataAttr();i.on(r,"timeupdate",i.updateDataAttr);r.ready(o.bind(i,i.updateDataAttr));if(n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside){i.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside}if(i.keepTooltipsInside){i.addClass("vjs-keep-tooltips-inside")}return i}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})};t.prototype.updateDataAttr=function e(t){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",(0,u["default"])(r,this.player_.duration()))};return t}(i["default"]);i["default"].registerComponent("PlayProgressBar",h);t["default"]=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=a(n);r(342);r(339);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){u(t,e);function t(){o(this,t);return s(this,e.apply(this,arguments))}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};return t}(i["default"]);l.prototype.options_={children:["seekBar"]};i["default"].registerComponent("ProgressControl",l);t["default"]=l},function(e,t,r){"use strict";t.__esModule=true;var n=r(144);var i=h(n);var a=r(1);var o=h(a);var s=r(5);var u=p(s);var l=r(24);var f=h(l);var c=r(99);var d=h(c);r(338);r(340);r(343);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m=function(e){g(t,e);function t(r,n){v(this,t);var i=y(this,e.call(this,r,n));i.on(r,"timeupdate",i.updateProgress);i.on(r,"ended",i.updateProgress);r.ready(u.bind(i,i.updateProgress));if(n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside){i.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside}if(i.keepTooltipsInside){i.tooltipProgressBar=i.addChild("TooltipProgressBar")}return i}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})};t.prototype.updateProgress=function e(t){this.updateAriaAttributes(this.el_);if(this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_);this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var r=parseFloat((0,d["default"])(this.player().el(),"width"));var n=parseFloat((0,d["default"])(this.tooltipProgressBar.tooltip,"width"));var i=this.tooltipProgressBar.el().style;i.maxWidth=Math.floor(r-n/2)+"px";i.minWidth=Math.ceil(n/2)+"px";i.right="-"+n/2+"px"}};t.prototype.updateAriaAttributes=function e(t){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();t.setAttribute("aria-valuenow",(this.getPercent()*100).toFixed(2));t.setAttribute("aria-valuetext",(0,f["default"])(r,this.player_.duration()))};t.prototype.getPercent=function e(){var t=this.player_.currentTime()/this.player_.duration();return t>=1?1:t};t.prototype.handleMouseDown=function t(r){this.player_.scrubbing(true);this.videoWasPlaying=!this.player_.paused();this.player_.pause();e.prototype.handleMouseDown.call(this,r)};t.prototype.handleMouseMove=function e(t){var r=this.calculateDistance(t)*this.player_.duration();if(r===this.player_.duration()){r=r-.1}this.player_.currentTime(r)};t.prototype.handleMouseUp=function t(r){e.prototype.handleMouseUp.call(this,r);this.player_.scrubbing(false);if(this.videoWasPlaying){this.player_.play()}};t.prototype.stepForward=function e(){this.player_.currentTime(this.player_.currentTime()+5)};t.prototype.stepBack=function e(){this.player_.currentTime(this.player_.currentTime()-5)};return t}(i["default"]);m.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"};m.prototype.playerEvent="timeupdate";o["default"].registerComponent("SeekBar",m);t["default"]=m},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=f(n);var a=r(5);var o=l(a);var s=r(24);var u=f(s);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){p(t,e);function t(r,n){c(this,t);var i=d(this,e.call(this,r,n));i.updateDataAttr();i.on(r,"timeupdate",i.updateDataAttr);r.ready(o.bind(i,i.updateDataAttr));return i}t.prototype.createEl=function t(){var r=e.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});this.tooltip=r.querySelector(".vjs-time-tooltip");return r};t.prototype.updateDataAttr=function e(t){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();var n=(0,u["default"])(r,this.player_.duration());this.el_.setAttribute("data-current-time",n);this.tooltip.innerHTML=n};return t}(i["default"]);i["default"].registerComponent("TooltipProgressBar",h);t["default"]=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(345);var i=s(n);var a=r(1);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=function(e){f(t,e);function t(){u(this,t);return l(this,e.apply(this,arguments))}t.prototype.buildCSSClass=function t(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)};t.prototype.createEl=function t(){var r=e.prototype.createEl.call(this,{className:this.buildCSSClass()});r.innerHTML="&nbsp;";return r};return t}(i["default"]);o["default"].registerComponent("CustomControlSpacer",c);t["default"]=c},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){u(t,e);function t(){o(this,t);return s(this,e.apply(this,arguments))}t.prototype.buildCSSClass=function t(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)};t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})};return t}(i["default"]);i["default"].registerComponent("Spacer",l);t["default"]=l},function(e,t,r){"use strict";t.__esModule=true;var n=r(94);var i=s(n);var a=r(1);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=function(e){f(t,e);function t(r,n){u(this,t);n.track={player:r,kind:n.kind,label:n.kind+" settings",selectable:false,default:false,mode:"disabled"};n.selectable=false;var i=l(this,e.call(this,r,n));i.addClass("vjs-texttrack-settings");i.controlText(", opens "+n.kind+" settings dialog");return i}t.prototype.handleClick=function e(t){this.player().getChild("textTrackSettings").show();this.player().getChild("textTrackSettings").el_.focus()};return t}(i["default"]);o["default"].registerComponent("CaptionSettingsMenuItem",c);t["default"]=c},function(e,t,r){"use strict";t.__esModule=true;var n=r(63);var i=l(n);var a=r(1);var o=l(a);var s=r(346);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var p=function(e){d(t,e);function t(r,n,i){f(this,t);var a=c(this,e.call(this,r,n,i));a.el_.setAttribute("aria-label","Captions Menu");return a}t.prototype.buildCSSClass=function t(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)};t.prototype.createItems=function t(){var r=[];if(!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)){r.push(new u["default"](this.player_,{kind:this.kind_}));this.hideThreshold_+=1}return e.prototype.createItems.call(this,r)};return t}(i["default"]);p.prototype.kind_="captions";p.prototype.controlText_="Captions";o["default"].registerComponent("CaptionsButton",p);t["default"]=p},function(e,t,r){"use strict";t.__esModule=true;var n=r(63);var i=c(n);var a=r(1);var o=c(a);var s=r(349);var u=c(s);var l=r(38);var f=c(l);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=function(e){h(t,e);function t(r,n,i){d(this,t);var a=p(this,e.call(this,r,n,i));a.el_.setAttribute("aria-label","Chapters Menu");return a}t.prototype.buildCSSClass=function t(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)};t.prototype.update=function t(r){if(!this.track_||r&&(r.type==="addtrack"||r.type==="removetrack")){this.setTrack(this.findChaptersTrack())}e.prototype.update.call(this)};t.prototype.setTrack=function e(t){if(this.track_===t){return}if(!this.updateHandler_){this.updateHandler_=this.update.bind(this)}if(this.track_){var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(r){r.removeEventListener("load",this.updateHandler_)}this.track_=null}this.track_=t;if(this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(n){n.addEventListener("load",this.updateHandler_)}}};t.prototype.findChaptersTrack=function e(){var t=this.player_.textTracks()||[];for(var r=t.length-1;r>=0;r--){var n=t[r];if(n.kind===this.kind_){return n}}};t.prototype.getMenuCaption=function e(){if(this.track_&&this.track_.label){return this.track_.label}return this.localize((0,f["default"])(this.kind_))};t.prototype.createMenu=function t(){this.options_.title=this.getMenuCaption();return e.prototype.createMenu.call(this)};t.prototype.createItems=function e(){var t=[];if(!this.track_){return t}var r=this.track_.cues;if(!r){return t}for(var n=0,i=r.length;n<i;n++){var a=r[n];var o=new u["default"](this.player_,{track:this.track_,cue:a});t.push(o)}return t};return t}(i["default"]);v.prototype.kind_="chapters";v.prototype.controlText_="Chapters";o["default"].registerComponent("ChaptersButton",v);t["default"]=v},function(e,t,r){"use strict";t.__esModule=true;var n=r(65);var i=f(n);var a=r(1);var o=f(a);var s=r(5);var u=l(s);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){p(t,e);function t(r,n){c(this,t);var i=n.track;var a=n.cue;var o=r.currentTime();n.selectable=true;n.label=a.text;n.selected=a.startTime<=o&&o<a.endTime;var s=d(this,e.call(this,r,n));s.track=i;s.cue=a;i.addEventListener("cuechange",u.bind(s,s.update));return s}t.prototype.handleClick=function t(r){e.prototype.handleClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};t.prototype.update=function e(t){var r=this.cue;var n=this.player_.currentTime();this.selected(r.startTime<=n&&n<r.endTime)};return t}(i["default"]);o["default"].registerComponent("ChaptersTrackMenuItem",h);t["default"]=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(63);var i=f(n);var a=r(1);var o=f(a);var s=r(5);var u=l(s);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){p(t,e);function t(r,n,i){c(this,t);var a=d(this,e.call(this,r,n,i));a.el_.setAttribute("aria-label","Descriptions Menu");var o=r.textTracks();if(o){var s=u.bind(a,a.handleTracksChange);o.addEventListener("change",s);a.on("dispose",function(){o.removeEventListener("change",s)})}return a}t.prototype.handleTracksChange=function e(t){var r=this.player().textTracks();var n=false;for(var i=0,a=r.length;i<a;i++){var o=r[i];if(o.kind!==this.kind_&&o.mode==="showing"){n=true;break}}if(n){this.disable()}else{this.enable()}};t.prototype.buildCSSClass=function t(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)};return t}(i["default"]);h.prototype.kind_="descriptions";h.prototype.controlText_="Descriptions";o["default"].registerComponent("DescriptionsButton",h);t["default"]=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(94);var i=s(n);var a=r(1);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=function(e){f(t,e);function t(r,n){u(this,t);n.track={player:r,kind:n.kind,label:n.kind+" off",default:false,mode:"disabled"};n.selectable=true;var i=l(this,e.call(this,r,n));i.selected(true);return i}t.prototype.handleTracksChange=function e(t){var r=this.player().textTracks();var n=true;for(var i=0,a=r.length;i<a;i++){var o=r[i];if(o.kind===this.track.kind&&o.mode==="showing"){n=false;break}}this.selected(n)};return t}(i["default"]);o["default"].registerComponent("OffTextTrackMenuItem",c);t["default"]=c},function(e,t,r){"use strict";t.__esModule=true;var n=r(63);var i=s(n);var a=r(1);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=function(e){f(t,e);function t(r,n,i){u(this,t);var a=l(this,e.call(this,r,n,i));a.el_.setAttribute("aria-label","Subtitles Menu");return a}t.prototype.buildCSSClass=function t(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)};return t}(i["default"]);c.prototype.kind_="subtitles";c.prototype.controlText_="Subtitles";o["default"].registerComponent("SubtitlesButton",c);t["default"]=c},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=f(n);var a=r(6);var o=l(a);var s=r(24);var u=f(s);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){p(t,e);function t(r,n){c(this,t);var i=d(this,e.call(this,r,n));i.on(r,"timeupdate",i.updateContent);return i}t.prototype.createEl=function t(){var r=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});this.contentEl_=o.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>'+"0:00"},{"aria-live":"off"});r.appendChild(this.contentEl_);return r};t.prototype.updateContent=function e(t){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();var n=this.localize("Current Time");var i=(0,u["default"])(r,this.player_.duration());if(i!==this.formattedTime_){this.formattedTime_=i;this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+i}};return t}(i["default"]);i["default"].registerComponent("CurrentTimeDisplay",h);t["default"]=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=f(n);var a=r(6);var o=l(a);var s=r(24);var u=f(s);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){p(t,e);function t(r,n){c(this,t);var i=d(this,e.call(this,r,n));i.on(r,"durationchange",i.updateContent);i.on(r,"timeupdate",i.updateContent);i.on(r,"loadedmetadata",i.updateContent);return i}t.prototype.createEl=function t(){var r=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});this.contentEl_=o.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"});r.appendChild(this.contentEl_);return r};t.prototype.updateContent=function e(t){var r=this.player_.duration();if(r&&this.duration_!==r){this.duration_=r;var n=this.localize("Duration Time");var i=(0,u["default"])(r);this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+i}};return t}(i["default"]);i["default"].registerComponent("DurationDisplay",h);t["default"]=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=f(n);var a=r(6);var o=l(a);var s=r(24);var u=f(s);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){p(t,e);function t(r,n){c(this,t);var i=d(this,e.call(this,r,n));i.on(r,"timeupdate",i.updateContent);i.on(r,"durationchange",i.updateContent);return i}t.prototype.createEl=function t(){var r=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});this.contentEl_=o.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"});r.appendChild(this.contentEl_);return r};t.prototype.updateContent=function e(t){if(this.player_.duration()){var r=this.localize("Remaining Time");var n=(0,u["default"])(this.player_.remainingTime());if(n!==this.formattedTime_){this.formattedTime_=n;this.contentEl_.innerHTML='<span class="vjs-control-text">'+r+"</span> -"+n}}};return t}(i["default"]);i["default"].registerComponent("RemainingTimeDisplay",h);t["default"]=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){u(t,e);function t(){o(this,t);return s(this,e.apply(this,arguments))}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};return t}(i["default"]);i["default"].registerComponent("TimeDivider",l);t["default"]=l},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=a(n);r(138);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){u(t,e);function t(r,n){o(this,t);var i=s(this,e.call(this,r,n));if(r.tech_&&r.tech_.featuresVolumeControl===false){i.addClass("vjs-hidden")}i.on(r,"loadstart",function(){if(r.tech_.featuresVolumeControl===false){this.addClass("vjs-hidden")}else{this.removeClass("vjs-hidden")}});return i}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})};return t}(i["default"]);l.prototype.options_={children:["volumeBar"]};i["default"].registerComponent("VolumeControl",l);t["default"]=l},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){u(t,e);function t(){o(this,t);return s(this,e.apply(this,arguments))}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};return t}(i["default"]);i["default"].registerComponent("VolumeLevel",l);t["default"]=l},function(e,t,r){"use strict";t.__esModule=true;var n=r(5);var i=y(n);var a=r(1);var o=v(a);var s=r(366);var u=v(s);var l=r(365);var f=v(l);var c=r(136);var d=v(c);var p=r(138);var h=v(p);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function _(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var b=function(e){_(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};g(this,t);if(n.inline===undefined){n.inline=true}if(n.vertical===undefined){if(n.inline){n.vertical=false}else{n.vertical=true}}n.volumeBar=n.volumeBar||{};n.volumeBar.vertical=!!n.vertical;var i=m(this,e.call(this,r,n));i.on(r,"volumechange",i.volumeUpdate);i.on(r,"loadstart",i.volumeUpdate);function a(){if(r.tech_&&r.tech_.featuresVolumeControl===false){this.addClass("vjs-hidden")}else{this.removeClass("vjs-hidden")}}a.call(i);i.on(r,"loadstart",a);i.on(i.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")});i.on(i.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")});i.on(i.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")});i.on(i.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")});return i}t.prototype.buildCSSClass=function t(){var r="";if(this.options_.vertical){r="vjs-volume-menu-button-vertical"}else{r="vjs-volume-menu-button-horizontal"}return"vjs-volume-menu-button "+e.prototype.buildCSSClass.call(this)+" "+r};t.prototype.createPopup=function e(){var t=new u["default"](this.player_,{contentElType:"div"});var r=new h["default"](this.player_,this.options_.volumeBar);t.addChild(r);this.menuContent=t;this.volumeBar=r;this.attachVolumeBarEvents();return t};t.prototype.handleClick=function t(r){d["default"].prototype.handleClick.call(this);e.prototype.handleClick.call(this)};t.prototype.attachVolumeBarEvents=function e(){this.menuContent.on(["mousedown","touchdown"],i.bind(this,this.handleMouseDown))};t.prototype.handleMouseDown=function e(t){this.on(["mousemove","touchmove"],i.bind(this.volumeBar,this.volumeBar.handleMouseMove));this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)};t.prototype.handleMouseUp=function e(t){this.off(["mousemove","touchmove"],i.bind(this.volumeBar,this.volumeBar.handleMouseMove))};return t}(f["default"]);b.prototype.volumeUpdate=d["default"].prototype.update;b.prototype.controlText_="Mute";o["default"].registerComponent("VolumeMenuButton",b);t["default"]=b},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=l(n);var a=r(142);var o=l(a);var s=r(20);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var p=function(e){d(t,e);function t(r,n){f(this,t);var i=c(this,e.call(this,r,n));i.on(r,"error",i.open);return i}t.prototype.buildCSSClass=function t(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)};t.prototype.content=function e(){var t=this.player().error();return t?this.localize(t.message):""};return t}(o["default"]);p.prototype.options_=(0,u["default"])(o["default"].prototype.options_,{pauseOnOpen:false,fillAlways:true,temporary:false,uncloseable:true});i["default"].registerComponent("ErrorDisplay",p);t["default"]=p},function(e,t,r){"use strict";t.__esModule=true;var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=r(12);var a=s(i);var o=r(11);function s(e){return e&&e.__esModule?e:{default:e}}var u=function e(t,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof r==="undefined"?"undefined":n(r)))}t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(r){t.super_=r}};var l=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=function e(){t.apply(this,arguments)};var i={};if((0,o.isObject)(r)){if(typeof r.init==="function"){a["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead.");r.constructor=r.init}if(r.constructor!==Object.prototype.constructor){n=r.constructor}i=r}else if(typeof r==="function"){n=r}u(n,t);for(var s in i){if(i.hasOwnProperty(s)){n.prototype[s]=i[s]}}return n};t["default"]=l},function(e,t,r){"use strict";t.__esModule=true;var n=r(7);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o={};var s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];var u=s[0];var l=void 0;for(var f=0;f<s.length;f++){if(s[f][1]in i["default"]){l=s[f];break}}if(l){for(var c=0;c<l.length;c++){o[u[c]]=l[c]}}t["default"]=o},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){u(t,e);function t(){o(this,t);return s(this,e.apply(this,arguments))}t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})};return t}(i["default"]);i["default"].registerComponent("LoadingSpinner",l);t["default"]=l},function(e,t,r){"use strict";t.__esModule=true;var n=r(143);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=function e(t,r){i["default"].prototype[t]=r};t["default"]=o},function(e,t,r){"use strict";t.__esModule=true;var n=r(47);var i=s(n);var a=r(1);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=function(e){f(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};u(this,t);var i=l(this,e.call(this,r,n));i.update();return i}t.prototype.update=function e(){var t=this.createPopup();if(this.popup){this.removeChild(this.popup)}this.popup=t;this.addChild(t);if(this.items&&this.items.length===0){this.hide()}else if(this.items&&this.items.length>1){this.show()}};t.prototype.createPopup=function e(){};t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})};t.prototype.buildCSSClass=function t(){var r="vjs-menu-button";if(this.options_.inline===true){r+="-inline"}else{r+="-popup"}return"vjs-menu-button "+r+" "+e.prototype.buildCSSClass.call(this)};return t}(i["default"]);o["default"].registerComponent("PopupButton",c);t["default"]=c},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=d(n);var a=r(6);var o=c(a);var s=r(5);var u=c(s);var l=r(23);var f=c(l);function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var y=function(e){v(t,e);function t(){p(this,t);return h(this,e.apply(this,arguments))}t.prototype.addItem=function e(t){this.addChild(t);t.on("click",u.bind(this,function(){this.unlockShowing()}))};t.prototype.createEl=function t(){var r=this.options_.contentElType||"ul";this.contentEl_=o.createEl(r,{className:"vjs-menu-content"});var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});n.appendChild(this.contentEl_);f.on(n,"click",function(e){e.preventDefault();e.stopImmediatePropagation()});return n};return t}(i["default"]);i["default"].registerComponent("Popup",y);t["default"]=y},function(e,t,r){"use strict";t.__esModule=true;var n=r(47);var i=h(n);var a=r(1);var o=h(a);var s=r(5);var u=p(s);var l=r(6);var f=p(l);var c=r(9);var d=p(c);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m=function(e){g(t,e);function t(r,n){v(this,t);var i=y(this,e.call(this,r,n));i.update();r.on("posterchange",u.bind(i,i.update));return i}t.prototype.dispose=function t(){this.player().off("posterchange",this.update);e.prototype.dispose.call(this)};t.prototype.createEl=function e(){var t=f.createEl("div",{className:"vjs-poster",tabIndex:-1});if(!d.BACKGROUND_SIZE_SUPPORTED){this.fallbackImg_=f.createEl("img");t.appendChild(this.fallbackImg_)}return t};t.prototype.update=function e(t){var r=this.player().poster();this.setSrc(r);if(r){this.show()}else{this.hide()}};t.prototype.setSrc=function e(t){if(this.fallbackImg_){this.fallbackImg_.src=t}else{var r="";if(t){r='url("'+t+'")'}this.el_.style.backgroundImage=r}};t.prototype.handleClick=function e(t){if(!this.player_.controls()){return}if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}};return t}(i["default"]);o["default"].registerComponent("PosterImage",m);t["default"]=m},function(e,t,r){"use strict";t.__esModule=true;t.hasLoaded=t.autoSetupTimeout=t.autoSetup=undefined;var n=r(6);var i=d(n);var a=r(23);var o=d(a);var s=r(7);var u=c(s);var l=r(8);var f=c(l);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}var p=false;var h=void 0;var v=function e(){if(!i.isReal()){return}var t=u["default"].getElementsByTagName("video");var r=u["default"].getElementsByTagName("audio");var n=[];if(t&&t.length>0){for(var a=0,o=t.length;a<o;a++){n.push(t[a])}}if(r&&r.length>0){for(var s=0,l=r.length;s<l;s++){n.push(r[s])}}if(n&&n.length>0){for(var f=0,c=n.length;f<c;f++){var d=n[f];if(d&&d.getAttribute){if(d.player===undefined){var v=d.getAttribute("data-setup");if(v!==null){h(d)}}}else{y(1);break}}}else if(!p){y(1)}};function y(e,t){if(t){h=t}f["default"].setTimeout(v,e)}if(i.isReal()&&u["default"].readyState==="complete"){p=true}else{o.one(f["default"],"load",function(){p=true})}var g=function e(){return p};t.autoSetup=v;t.autoSetupTimeout=y;t.hasLoaded=g},function(e,t,r){"use strict";t.__esModule=true;function n(e){e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"};e.streamFromParts=function(e,t){return e+"&"+t};e.streamToParts=function(e){var t={connection:"",stream:""};if(!e){return t}var r=e.search(/&(?!\w+=)/);var n=void 0;if(r!==-1){n=r+1}else{r=n=e.lastIndexOf("/")+1;if(r===0){r=n=e.length}}t.connection=e.substring(0,r);t.stream=e.substring(n,e.length);return t};e.isStreamingType=function(t){return t in e.streamingFormats};e.RTMP_RE=/^rtmp[set]?:\/\//i;e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)};e.rtmpSourceHandler={};e.rtmpSourceHandler.canPlayType=function(t){if(e.isStreamingType(t)){return"maybe"}return""};e.rtmpSourceHandler.canHandleSource=function(t,r){var n=e.rtmpSourceHandler.canPlayType(t.type);if(n){return n}if(e.isStreamingSrc(t.src)){return"maybe"}return""};e.rtmpSourceHandler.handleSource=function(t,r,n){var i=e.streamToParts(t.src);r.setRtmpConnection(i.connection);r.setRtmpStream(i.stream)};e.registerSourceHandler(e.rtmpSourceHandler);return e}t["default"]=n},function(e,t,r){"use strict";t.__esModule=true;var n=r(48);var i=m(n);var a=r(6);var o=g(a);var s=r(66);var u=g(s);var l=r(49);var f=r(369);var c=m(f);var d=r(1);var p=m(d);var h=r(8);var v=m(h);var y=r(11);function g(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function b(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function T(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var E=v["default"].navigator;var w=function(e){T(t,e);function t(r,n){_(this,t);var i=b(this,e.call(this,r,n));if(r.source){i.ready(function(){this.setSource(r.source)},true)}if(r.startTime){i.ready(function(){this.load();this.play();this.currentTime(r.startTime)},true)}v["default"].videojs=v["default"].videojs||{};v["default"].videojs.Flash=v["default"].videojs.Flash||{};v["default"].videojs.Flash.onReady=t.onReady;v["default"].videojs.Flash.onEvent=t.onEvent;v["default"].videojs.Flash.onError=t.onError;i.on("seeked",function(){this.lastSeekTarget_=undefined});return i}t.prototype.createEl=function e(){var r=this.options_;if(!r.swf){var n="5.4.1";r.swf="//vjs.zencdn.net/swf/"+n+"/video-js.swf"}var i=r.techId;var a=(0,y.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:r.autoplay,preload:r.preload,loop:r.loop,muted:r.muted},r.flashVars);var o=(0,y.assign)({wmode:"opaque",bgcolor:"#000000"},r.params);var s=(0,y.assign)({id:i,name:i,class:"vjs-tech"},r.attributes);this.el_=t.embed(r.swf,a,o,s);this.el_.tech=this;return this.el_};t.prototype.play=function e(){if(this.ended()){this.setCurrentTime(0)}this.el_.vjs_play()};t.prototype.pause=function e(){this.el_.vjs_pause()};t.prototype.src=function e(t){if(t===undefined){return this.currentSrc()}return this.setSrc(t)};t.prototype.setSrc=function e(t){var r=this;t=u.getAbsoluteURL(t);this.el_.vjs_src(t);if(this.autoplay()){this.setTimeout(function(){return r.play()},0)}};t.prototype.seeking=function e(){return this.lastSeekTarget_!==undefined};t.prototype.setCurrentTime=function t(r){var n=this.seekable();if(n.length){r=r>n.start(0)?r:n.start(0);r=r<n.end(n.length-1)?r:n.end(n.length-1);this.lastSeekTarget_=r;this.trigger("seeking");this.el_.vjs_setProperty("currentTime",r);e.prototype.setCurrentTime.call(this)}};t.prototype.currentTime=function e(){if(this.seeking()){return this.lastSeekTarget_||0}return this.el_.vjs_getProperty("currentTime")};t.prototype.currentSrc=function e(){if(this.currentSource_){return this.currentSource_.src}return this.el_.vjs_getProperty("currentSrc")};t.prototype.duration=function e(){if(this.readyState()===0){return NaN}var e=this.el_.vjs_getProperty("duration");return e>=0?e:Infinity};t.prototype.load=function e(){this.el_.vjs_load()};t.prototype.poster=function e(){this.el_.vjs_getProperty("poster")};t.prototype.setPoster=function e(){};t.prototype.seekable=function e(){var t=this.duration();if(t===0){return(0,l.createTimeRange)()}return(0,l.createTimeRange)(0,t)};t.prototype.buffered=function e(){var t=this.el_.vjs_getProperty("buffered");if(t.length===0){return(0,l.createTimeRange)()}return(0,l.createTimeRange)(t[0][0],t[0][1])};t.prototype.supportsFullScreen=function e(){return false};t.prototype.enterFullScreen=function e(){return false};t.prototype.getVideoPlaybackQuality=function e(){var t=this.el_.vjs_getProperty("getVideoPlaybackQuality");if(v["default"].performance&&typeof v["default"].performance.now==="function"){t.creationTime=v["default"].performance.now()}else if(v["default"].performance&&v["default"].performance.timing&&typeof v["default"].performance.timing.navigationStart==="number"){t.creationTime=v["default"].Date.now()-v["default"].performance.timing.navigationStart}return t};return t}(i["default"]);var S=w.prototype;var C="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(",");var O="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(",");function k(e){var t=e.charAt(0).toUpperCase()+e.slice(1);S["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function P(e){S[e]=function(){return this.el_.vjs_getProperty(e)}}for(var x=0;x<C.length;x++){P(C[x]);k(C[x])}for(var A=0;A<O.length;A++){P(O[A])}w.isSupported=function(){return w.version()[0]>=10};i["default"].withSourceHandlers(w);w.nativeSourceHandler={};w.nativeSourceHandler.canPlayType=function(e){if(e in w.formats){return"maybe"}return""};w.nativeSourceHandler.canHandleSource=function(e,t){var r=void 0;function n(e){var t=u.getFileExtension(e);if(t){return"video/"+t}return""}if(!e.type){r=n(e.src)}else{r=e.type.replace(/;.*/,"").toLowerCase()}return w.nativeSourceHandler.canPlayType(r)};w.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)};w.nativeSourceHandler.dispose=function(){};w.registerSourceHandler(w.nativeSourceHandler);w.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};w.onReady=function(e){var t=o.getEl(e);var r=t&&t.tech;if(r&&r.el()){w.checkReady(r)}};w.checkReady=function(e){if(!e.el()){return}if(e.el().vjs_getProperty){e.triggerReady()}else{this.setTimeout(function(){w.checkReady(e)},50)}};w.onEvent=function(e,t){var r=o.getEl(e).tech;var n=Array.prototype.slice.call(arguments,2);r.setTimeout(function(){r.trigger(t,n)},1)};w.onError=function(e,t){var r=o.getEl(e).tech;if(t==="srcnotfound"){return r.error(4)}r.error("FLASH: "+t)};w.version=function(){var e="0,0,0";try{e=new v["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{if(E.mimeTypes["application/x-shockwave-flash"].enabledPlugin){e=(E.plugins["Shockwave Flash 2.0"]||E.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}}catch(e){}}return e.split(",")};w.embed=function(e,t,r,n){var i=w.getEmbedCode(e,t,r,n);var a=o.createEl("div",{innerHTML:i}).childNodes[0];return a};w.getEmbedCode=function(e,t,r,n){var i='<object type="application/x-shockwave-flash" ';var a="";var o="";var s="";if(t){Object.getOwnPropertyNames(t).forEach(function(e){a+=e+"="+t[e]+"&amp;"})}r=(0,y.assign)({movie:e,flashvars:a,allowScriptAccess:"always",allowNetworking:"all"},r);Object.getOwnPropertyNames(r).forEach(function(e){o+='<param name="'+e+'" value="'+r[e]+'" />'});n=(0,y.assign)({data:e,width:"100%",height:"100%"},n);Object.getOwnPropertyNames(n).forEach(function(e){s+=e+'="'+n[e]+'" '});return""+i+s+">"+o+"</object>"};(0,c["default"])(w);p["default"].registerComponent("Flash",w);i["default"].registerTech("Flash",w);t["default"]=w},function(e,t,r){"use strict";t.__esModule=true;var n=M(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);var i=r(48);var a=A(i);var o=r(1);var s=A(o);var u=r(6);var l=x(u);var f=r(66);var c=x(f);var d=r(5);var p=x(d);var h=r(12);var v=A(h);var y=r(135);var g=A(y);var m=r(9);var _=x(m);var b=r(7);var T=A(b);var E=r(8);var w=A(E);var S=r(11);var C=r(20);var O=A(C);var k=r(38);var P=A(k);function x(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function A(e){return e&&e.__esModule?e:{default:e}}function M(e,t){e.raw=t;return e}function I(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function R(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function D(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var j=function(e){D(t,e);function t(r,i){I(this,t);var a=R(this,e.call(this,r,i));var o=r.source;var s=false;if(o&&(a.el_.currentSrc!==o.src||r.tag&&r.tag.initNetworkState_===3)){a.setSource(o)}else{a.handleLateInit_(a.el_)}if(a.el_.hasChildNodes()){var u=a.el_.childNodes;var l=u.length;var f=[];while(l--){var d=u[l];var h=d.nodeName.toLowerCase();if(h==="track"){if(!a.featuresNativeTextTracks){f.push(d)}else{a.remoteTextTrackEls().addTrackElement_(d);a.remoteTextTracks().addTrack_(d.track);if(!s&&!a.el_.hasAttribute("crossorigin")&&c.isCrossOrigin(d.src)){s=true}}}}for(var y=0;y<f.length;y++){a.el_.removeChild(f[y])}}var m=["audio","video"];m.forEach(function(e){var t=a.el()[e+"Tracks"];var r=a[e+"Tracks"]();var n=(0,P["default"])(e);if(!a["featuresNative"+n+"Tracks"]||!t||!t.addEventListener){return}a["handle"+n+"TrackChange_"]=function(e){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})};a["handle"+n+"TrackAdd_"]=function(e){return r.addTrack(e.track)};a["handle"+n+"TrackRemove_"]=function(e){return r.removeTrack(e.track)};t.addEventListener("change",a["handle"+n+"TrackChange_"]);t.addEventListener("addtrack",a["handle"+n+"TrackAdd_"]);t.addEventListener("removetrack",a["handle"+n+"TrackRemove_"]);a["removeOld"+n+"Tracks_"]=function(e){return a.removeOldTracks_(r,t)};a.on("loadstart",a["removeOld"+n+"Tracks_"])});if(a.featuresNativeTextTracks){if(s){v["default"].warn((0,g["default"])(n))}a.handleTextTrackChange_=p.bind(a,a.handleTextTrackChange);a.handleTextTrackAdd_=p.bind(a,a.handleTextTrackAdd);a.handleTextTrackRemove_=p.bind(a,a.handleTextTrackRemove);a.proxyNativeTextTracks_()}a.restoreMetadataTracksInIOSNativePlayer_();if((_.TOUCH_ENABLED||_.IS_IPHONE||_.IS_NATIVE_ANDROID)&&r.nativeControlsForTouch===true){a.setControls(true)}a.proxyWebkitFullscreen_();a.triggerReady();return a}t.prototype.dispose=function r(){var n=this;["audio","video","text"].forEach(function(e){var t=(0,P["default"])(e);var r=n.el_[e+"Tracks"];if(r&&r.removeEventListener){r.removeEventListener("change",n["handle"+t+"TrackChange_"]);r.removeEventListener("addtrack",n["handle"+t+"TrackAdd_"]);r.removeEventListener("removetrack",n["handle"+t+"TrackRemove_"])}if(r){n.off("loadstart",n["removeOld"+t+"Tracks_"])}});t.disposeMediaElement(this.el_);e.prototype.dispose.call(this)};t.prototype.restoreMetadataTracksInIOSNativePlayer_=function e(){var t=this.textTracks();var r=void 0;var n=function e(){r=[];for(var n=0;n<t.length;n++){var i=t[n];if(i.kind==="metadata"){r.push({track:i,storedMode:i.mode})}}};n();t.addEventListener("change",n);var i=function e(){for(var n=0;n<r.length;n++){var i=r[n];if(i.track.mode==="disabled"&&i.track.mode!==i.storedMode){i.track.mode=i.storedMode}}t.removeEventListener("change",e)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",n);t.removeEventListener("change",i);t.addEventListener("change",i)});this.on("webkitendfullscreen",function(){t.removeEventListener("change",n);t.addEventListener("change",n);t.removeEventListener("change",i)})};t.prototype.createEl=function e(){var r=this.options_.tag;if(!r||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(r){var n=r.cloneNode(true);if(r.parentNode){r.parentNode.insertBefore(n,r)}t.disposeMediaElement(r);r=n}else{r=T["default"].createElement("video");var i=this.options_.tag&&l.getElAttributes(this.options_.tag);var a=(0,O["default"])({},i);if(!_.TOUCH_ENABLED||this.options_.nativeControlsForTouch!==true){delete a.controls}l.setElAttributes(r,(0,S.assign)(a,{id:this.options_.techId,class:"vjs-tech"}))}r.playerId=this.options_.playerId}var o=["autoplay","preload","loop","muted","playsinline"];for(var s=o.length-1;s>=0;s--){var u=o[s];var f={};if(typeof this.options_[u]!=="undefined"){f[u]=this.options_[u]}l.setElAttributes(r,f)}return r};t.prototype.handleLateInit_=function e(t){if(t.networkState===0||t.networkState===3){return}if(t.readyState===0){var r=false;var n=function e(){r=true};this.on("loadstart",n);var i=function e(){if(!r){this.trigger("loadstart")}};this.on("loadedmetadata",i);this.ready(function(){this.off("loadstart",n);this.off("loadedmetadata",i);if(!r){this.trigger("loadstart")}});return}var a=["loadstart"];a.push("loadedmetadata");if(t.readyState>=2){a.push("loadeddata")}if(t.readyState>=3){a.push("canplay")}if(t.readyState>=4){a.push("canplaythrough")}this.ready(function(){a.forEach(function(e){this.trigger(e)},this)})};t.prototype.proxyNativeTextTracks_=function e(){var t=this.el().textTracks;if(t){for(var r=0;r<t.length;r++){this.textTracks().addTrack_(t[r])}if(t.addEventListener){t.addEventListener("change",this.handleTextTrackChange_);t.addEventListener("addtrack",this.handleTextTrackAdd_);t.addEventListener("removetrack",this.handleTextTrackRemove_)}this.on("loadstart",this.removeOldTextTracks_)}};t.prototype.handleTextTrackChange=function e(t){var r=this.textTracks();this.textTracks().trigger({type:"change",target:r,currentTarget:r,srcElement:r})};t.prototype.handleTextTrackAdd=function e(t){this.textTracks().addTrack_(t.track)};t.prototype.handleTextTrackRemove=function e(t){this.textTracks().removeTrack_(t.track)};t.prototype.removeOldTracks_=function e(t,r){var n=[];if(!r){return}for(var i=0;i<t.length;i++){var a=t[i];var o=false;for(var s=0;s<r.length;s++){if(r[s]===a){o=true;break}}if(!o){n.push(a)}}for(var u=0;u<n.length;u++){var l=n[u];t.removeTrack_(l)}};t.prototype.removeOldTextTracks_=function e(t){var r=this.textTracks();var n=this.el().textTracks;this.removeOldTracks_(r,n)};t.prototype.play=function e(){var t=this.el_.play();if(t!==undefined&&typeof t.then==="function"){t.then(null,function(e){})}};t.prototype.setCurrentTime=function e(t){try{this.el_.currentTime=t}catch(e){(0,v["default"])(e,"Video is not ready. (Video.js)")}};t.prototype.duration=function e(){var t=this;if(this.el_.duration===Infinity&&_.IS_ANDROID&&_.IS_CHROME){if(this.el_.currentTime===0){var r=function e(){if(t.el_.currentTime>0){if(t.el_.duration===Infinity){t.trigger("durationchange")}t.off("timeupdate",e)}};this.on("timeupdate",r);return NaN}}return this.el_.duration||NaN};t.prototype.width=function e(){return this.el_.offsetWidth};t.prototype.height=function e(){return this.el_.offsetHeight};t.prototype.proxyWebkitFullscreen_=function e(){var t=this;if(!("webkitDisplayingFullscreen"in this.el_)){return}var r=function e(){this.trigger("fullscreenchange",{isFullscreen:false})};var n=function e(){if("webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"){this.one("webkitendfullscreen",r);this.trigger("fullscreenchange",{isFullscreen:true})}};this.on("webkitbeginfullscreen",n);this.on("dispose",function(){t.off("webkitbeginfullscreen",n);t.off("webkitendfullscreen",r)})};t.prototype.supportsFullScreen=function e(){if(typeof this.el_.webkitEnterFullScreen==="function"){var t=w["default"].navigator&&w["default"].navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t)){return true}}return false};t.prototype.enterFullScreen=function e(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA){this.el_.play();this.setTimeout(function(){t.pause();t.webkitEnterFullScreen()},0)}else{t.webkitEnterFullScreen()}};t.prototype.exitFullScreen=function e(){this.el_.webkitExitFullScreen()};t.prototype.src=function e(t){if(t===undefined){return this.el_.src}this.setSrc(t)};t.prototype.reset=function e(){t.resetMediaElement(this.el_)};t.prototype.currentSrc=function e(){if(this.currentSource_){return this.currentSource_.src}return this.el_.currentSrc};t.prototype.setControls=function e(t){this.el_.controls=!!t};t.prototype.addTextTrack=function t(r,n,i){if(!this.featuresNativeTextTracks){return e.prototype.addTextTrack.call(this,r,n,i)}return this.el_.addTextTrack(r,n,i)};t.prototype.createRemoteTextTrack=function t(r){if(!this.featuresNativeTextTracks){return e.prototype.createRemoteTextTrack.call(this,r)}var n=T["default"].createElement("track");if(r.kind){n.kind=r.kind}if(r.label){n.label=r.label}if(r.language||r.srclang){n.srclang=r.language||r.srclang}if(r["default"]){n["default"]=r["default"]}if(r.id){n.id=r.id}if(r.src){n.src=r.src}return n};t.prototype.addRemoteTextTrack=function t(r,n){var i=e.prototype.addRemoteTextTrack.call(this,r,n);if(this.featuresNativeTextTracks){this.el().appendChild(i)}return i};t.prototype.removeRemoteTextTrack=function t(r){e.prototype.removeRemoteTextTrack.call(this,r);if(this.featuresNativeTextTracks){var n=this.$$("track");var i=n.length;while(i--){if(r===n[i]||r===n[i].track){this.el().removeChild(n[i])}}}};t.prototype.playsinline=function e(){return this.el_.hasAttribute("playsinline")};t.prototype.setPlaysinline=function e(t){if(t){this.el_.setAttribute("playsinline","playsinline")}else{this.el_.removeAttribute("playsinline")}};t.prototype.getVideoPlaybackQuality=function e(){if(typeof this.el().getVideoPlaybackQuality==="function"){return this.el().getVideoPlaybackQuality()}var t={};if(typeof this.el().webkitDroppedFrameCount!=="undefined"&&typeof this.el().webkitDecodedFrameCount!=="undefined"){t.droppedVideoFrames=this.el().webkitDroppedFrameCount;t.totalVideoFrames=this.el().webkitDecodedFrameCount}if(w["default"].performance&&typeof w["default"].performance.now==="function"){t.creationTime=w["default"].performance.now()}else if(w["default"].performance&&w["default"].performance.timing&&typeof w["default"].performance.timing.navigationStart==="number"){t.creationTime=w["default"].Date.now()-w["default"].performance.timing.navigationStart}return t};return t}(a["default"]);if(l.isReal()){j.TEST_VID=T["default"].createElement("video");var L=T["default"].createElement("track");L.kind="captions";L.srclang="en";L.label="English";j.TEST_VID.appendChild(L)}j.isSupported=function(){try{j.TEST_VID.volume=.5}catch(e){return false}return!!(j.TEST_VID&&j.TEST_VID.canPlayType)};j.canControlVolume=function(){try{var e=j.TEST_VID.volume;j.TEST_VID.volume=e/2+.1;return e!==j.TEST_VID.volume}catch(e){return false}};j.canControlPlaybackRate=function(){if(_.IS_ANDROID&&_.IS_CHROME&&_.CHROME_VERSION<58){return false}try{var e=j.TEST_VID.playbackRate;j.TEST_VID.playbackRate=e/2+.1;return e!==j.TEST_VID.playbackRate}catch(e){return false}};j.supportsNativeTextTracks=function(){return _.IS_ANY_SAFARI};j.supportsNativeVideoTracks=function(){return!!(j.TEST_VID&&j.TEST_VID.videoTracks)};j.supportsNativeAudioTracks=function(){return!!(j.TEST_VID&&j.TEST_VID.audioTracks)};j.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"];j.prototype.featuresVolumeControl=j.canControlVolume();j.prototype.featuresPlaybackRate=j.canControlPlaybackRate();j.prototype.movingMediaElementInDOM=!_.IS_IOS;j.prototype.featuresFullscreenResize=true;j.prototype.featuresProgressEvents=true;j.prototype.featuresTimeupdateEvents=true;j.prototype.featuresNativeTextTracks=j.supportsNativeTextTracks();j.prototype.featuresNativeVideoTracks=j.supportsNativeVideoTracks();j.prototype.featuresNativeAudioTracks=j.supportsNativeAudioTracks();var N=j.TEST_VID&&j.TEST_VID.constructor.prototype.canPlayType;var F=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;var B=/^video\/mp4/i;j.patchCanPlayType=function(){if(_.ANDROID_VERSION>=4&&!_.IS_FIREFOX){j.TEST_VID.constructor.prototype.canPlayType=function(e){if(e&&F.test(e)){return"maybe"}return N.call(this,e)}}else if(_.IS_OLD_ANDROID){j.TEST_VID.constructor.prototype.canPlayType=function(e){if(e&&B.test(e)){return"maybe"}return N.call(this,e)}}};j.unpatchCanPlayType=function(){var e=j.TEST_VID.constructor.prototype.canPlayType;j.TEST_VID.constructor.prototype.canPlayType=N;return e};j.patchCanPlayType();j.disposeMediaElement=function(e){if(!e){return}if(e.parentNode){e.parentNode.removeChild(e)}while(e.hasChildNodes()){e.removeChild(e.firstChild)}e.removeAttribute("src");if(typeof e.load==="function"){(function(){try{e.load()}catch(e){}})()}};j.resetMediaElement=function(e){if(!e){return}var t=e.querySelectorAll("source");var r=t.length;while(r--){e.removeChild(t[r])}e.removeAttribute("src");if(typeof e.load==="function"){(function(){try{e.load()}catch(e){}})()}};["paused","currentTime","buffered","volume","muted","poster","preload","autoplay","controls","loop","error","seeking","seekable","ended","defaultMuted","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){j.prototype[e]=function(){return this.el_[e]}});["volume","muted","src","poster","preload","autoplay","loop","playbackRate"].forEach(function(e){j.prototype["set"+(0,P["default"])(e)]=function(t){this.el_[e]=t}});["pause","load"].forEach(function(e){j.prototype[e]=function(){return this.el_[e]()}});a["default"].withSourceHandlers(j);j.nativeSourceHandler={};j.nativeSourceHandler.canPlayType=function(e){try{return j.TEST_VID.canPlayType(e)}catch(e){return""}};j.nativeSourceHandler.canHandleSource=function(e,t){if(e.type){return j.nativeSourceHandler.canPlayType(e.type)}else if(e.src){var r=c.getFileExtension(e.src);return j.nativeSourceHandler.canPlayType("video/"+r)}return""};j.nativeSourceHandler.handleSource=function(e,t,r){t.setSrc(e.src)};j.nativeSourceHandler.dispose=function(){};j.registerSourceHandler(j.nativeSourceHandler);s["default"].registerComponent("Html5",j);a["default"].registerTech("Html5",j);t["default"]=j},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=l(n);var a=r(48);var o=l(a);var s=r(38);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var p=function(e){d(t,e);function t(r,n,a){f(this,t);var s=c(this,e.call(this,r,n,a));if(!n.playerOptions.sources||n.playerOptions.sources.length===0){for(var l=0,d=n.playerOptions.techOrder;l<d.length;l++){var p=(0,u["default"])(d[l]);var h=o["default"].getTech(p);if(!p){h=i["default"].getComponent(p)}if(h&&h.isSupported()){r.loadTech_(p);break}}}else{r.src(n.playerOptions.sources)}return s}return t}(i["default"]);i["default"].registerComponent("MediaLoader",p);t["default"]=p},function(e,t,r){"use strict";t.__esModule=true;var n=r(96);var i=r(98);var a=c(i);var o=r(20);var s=c(o);var u=r(9);var l=f(u);function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=function(e){h(t,e);function t(){var r,i;var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};d(this,t);var o=(0,s["default"])(a,{kind:n.AudioTrackKind[a.kind]||""});var u=(r=p(this,e.call(this,o)),r);var f=false;if(l.IS_IE8){for(var c in t.prototype){if(c!=="constructor"){u[c]=t.prototype[c]}}}Object.defineProperty(u,"enabled",{get:function e(){return f},set:function e(t){if(typeof t!=="boolean"||t===f){return}f=t;this.trigger("enabledchange")}});if(o.enabled){u.enabled=o.enabled}u.loaded_=true;return i=u,p(r,i)}return t}(a["default"]);t["default"]=v},function(e,t,r){"use strict";t.__esModule=true;var n=r(9);var i=u(n);var a=r(7);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var f=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];l(this,e);var r=this;if(i.IS_IE8){r=o["default"].createElement("custom");for(var n in e.prototype){if(n!=="constructor"){r[n]=e.prototype[n]}}}r.trackElements_=[];Object.defineProperty(r,"length",{get:function e(){return this.trackElements_.length}});for(var a=0,s=t.length;a<s;a++){r.addTrackElement_(t[a])}if(i.IS_IE8){return r}}e.prototype.addTrackElement_=function e(t){var r=this.trackElements_.length;if(!(""+r in this)){Object.defineProperty(this,r,{get:function e(){return this.trackElements_[r]}})}if(this.trackElements_.indexOf(t)===-1){this.trackElements_.push(t)}};e.prototype.getTrackElementByTrack_=function e(t){var r=void 0;for(var n=0,i=this.trackElements_.length;n<i;n++){if(t===this.trackElements_[n].track){r=this.trackElements_[n];break}}return r};e.prototype.removeTrackElement_=function e(t){for(var r=0,n=this.trackElements_.length;r<n;r++){if(t===this.trackElements_[r]){this.trackElements_.splice(r,1);break}}};return e}();t["default"]=f},function(e,t,r){"use strict";t.__esModule=true;var n=r(9);var i=d(n);var a=r(7);var o=c(a);var s=r(64);var u=c(s);var l=r(95);var f=c(l);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var y=0;var g=1;var m=2;var _=3;var b=function(e){v(t,e);function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};p(this,t);var n=h(this,e.call(this));var a=void 0;var s=n;if(i.IS_IE8){s=o["default"].createElement("custom");for(var u in t.prototype){if(u!=="constructor"){s[u]=t.prototype[u]}}}var l=new f["default"](r);s.kind=l.kind;s.src=l.src;s.srclang=l.language;s.label=l.label;s["default"]=l["default"];Object.defineProperty(s,"readyState",{get:function e(){return a}});Object.defineProperty(s,"track",{get:function e(){return l}});a=y;l.addEventListener("loadeddata",function(){a=m;s.trigger({type:"load",target:s})});if(i.IS_IE8){var c;return c=s,h(n,c)}return n}return t}(u["default"]);b.prototype.allowedEvents_={load:"load"};b.NONE=y;b.LOADING=g;b.LOADED=m;b.ERROR=_;t["default"]=b},function(e,t,r){"use strict";t.__esModule=true;var n=r(9);var i=u(n);var a=r(7);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var f=function(){function e(t){l(this,e);var r=this;if(i.IS_IE8){r=o["default"].createElement("custom");for(var n in e.prototype){if(n!=="constructor"){r[n]=e.prototype[n]}}}e.prototype.setCues_.call(r,t);Object.defineProperty(r,"length",{get:function e(){return this.length_}});if(i.IS_IE8){return r}}e.prototype.setCues_=function e(t){var r=this.length||0;var n=0;var i=t.length;this.cues_=t;this.length_=t.length;var a=function e(t){if(!(""+t in this)){Object.defineProperty(this,""+t,{get:function e(){return this.cues_[t]}})}};if(r<i){n=r;for(;n<i;n++){a.call(this,n)}}};e.prototype.getCueById=function e(t){var r=null;for(var n=0,i=this.length;n<i;n++){var a=this[n];if(a.id===t){r=a;break}}return r};return e}();t["default"]=f},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=f(n);var a=r(5);var o=l(a);var s=r(8);var u=f(s);function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h="#222";var v="#ccc";var y={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function g(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function m(e,t,r){try{e.style[t]=r}catch(e){return}}var _=function(e){p(t,e);function t(r,n,i){c(this,t);var a=d(this,e.call(this,r,n,i));r.on("loadstart",o.bind(a,a.toggleDisplay));r.on("texttrackchange",o.bind(a,a.updateDisplay));r.ready(o.bind(a,function(){if(r.tech_&&r.tech_.featuresNativeTextTracks){this.hide();return}r.on("fullscreenchange",o.bind(this,this.updateDisplay));var e=this.options_.playerOptions.tracks||[];for(var t=0;t<e.length;t++){this.player_.addRemoteTextTrack(e[t],true)}var n={captions:1,subtitles:1};var i=this.player_.textTracks();var a=void 0;var s=void 0;if(i){for(var u=0;u<i.length;u++){var l=i[u];if(l["default"]){if(l.kind==="descriptions"&&!a){a=l}else if(l.kind in n&&!s){s=l}}}if(s){s.mode="showing"}else if(a){a.mode="showing"}}}));return a}t.prototype.toggleDisplay=function e(){if(this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks){this.hide()}else{this.show()}};t.prototype.createEl=function t(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})};t.prototype.clearDisplay=function e(){if(typeof u["default"].WebVTT==="function"){u["default"].WebVTT.processCues(u["default"],[],this.el_)}};t.prototype.updateDisplay=function e(){var t=this.player_.textTracks();this.clearDisplay();if(!t){return}var r=null;var n=null;var i=t.length;while(i--){var a=t[i];if(a.mode==="showing"){if(a.kind==="descriptions"){r=a}else{n=a}}}if(n){if(this.getAttribute("aria-live")!=="off"){this.setAttribute("aria-live","off")}this.updateForTrack(n)}else if(r){if(this.getAttribute("aria-live")!=="assertive"){this.setAttribute("aria-live","assertive")}this.updateForTrack(r)}};t.prototype.updateForTrack=function e(t){if(typeof u["default"].WebVTT!=="function"||!t.activeCues){return}var r=this.player_.textTrackSettings.getValues();var n=[];for(var i=0;i<t.activeCues.length;i++){n.push(t.activeCues[i])}u["default"].WebVTT.processCues(u["default"],n,this.el_);var a=n.length;while(a--){var o=n[a];if(!o){continue}var s=o.displayState;if(r.color){s.firstChild.style.color=r.color}if(r.textOpacity){m(s.firstChild,"color",g(r.color||"#fff",r.textOpacity))}if(r.backgroundColor){s.firstChild.style.backgroundColor=r.backgroundColor}if(r.backgroundOpacity){m(s.firstChild,"backgroundColor",g(r.backgroundColor||"#000",r.backgroundOpacity))}if(r.windowColor){if(r.windowOpacity){m(s,"backgroundColor",g(r.windowColor,r.windowOpacity))}else{s.style.backgroundColor=r.windowColor}}if(r.edgeStyle){if(r.edgeStyle==="dropshadow"){s.firstChild.style.textShadow="2px 2px 3px "+h+", 2px 2px 4px "+h+", 2px 2px 5px "+h}else if(r.edgeStyle==="raised"){s.firstChild.style.textShadow="1px 1px "+h+", 2px 2px "+h+", 3px 3px "+h}else if(r.edgeStyle==="depressed"){s.firstChild.style.textShadow="1px 1px "+v+", 0 1px "+v+", -1px -1px "+h+", 0 -1px "+h}else if(r.edgeStyle==="uniform"){s.firstChild.style.textShadow="0 0 4px "+h+", 0 0 4px "+h+", 0 0 4px "+h+", 0 0 4px "+h}}if(r.fontPercent&&r.fontPercent!==1){var l=u["default"].parseFloat(s.style.fontSize);s.style.fontSize=l*r.fontPercent+"px";s.style.height="auto";s.style.top="auto";s.style.bottom="2px"}if(r.fontFamily&&r.fontFamily!=="default"){if(r.fontFamily==="small-caps"){s.firstChild.style.fontVariant="small-caps"}else{s.firstChild.style.fontFamily=y[r.fontFamily]}}}};return t}(i["default"]);i["default"].registerComponent("TextTrackDisplay",_);t["default"]=_},function(e,t,r){"use strict";t.__esModule=true;var n=function e(t){var r=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,r,n){if(t[r]){e[r]=t[r]}return e},{cues:t.cues&&Array.prototype.map.call(t.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return r};var i=function e(t){var r=t.$$("track");var i=Array.prototype.map.call(r,function(e){return e.track});var a=Array.prototype.map.call(r,function(e){var t=n(e.track);if(e.src){t.src=e.src}return t});return a.concat(Array.prototype.filter.call(t.textTracks(),function(e){return i.indexOf(e)===-1}).map(n))};var a=function e(t,r){t.forEach(function(e){var t=r.addRemoteTextTrack(e).track;if(!e.src&&e.cues){e.cues.forEach(function(e){return t.addCue(e)})}});return r.textTracks()};t["default"]={textTracksToJson:i,jsonToTextTracks:a,trackToJson_:n}},function(e,t,r){"use strict";t.__esModule=true;var n=r(97);var i=d(n);var a=r(5);var o=c(a);var s=r(9);var u=c(s);var l=r(7);var f=d(l);function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var y=function(e){v(t,e);function t(){var r,n;var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];p(this,t);var o=void 0;if(u.IS_IE8){o=f["default"].createElement("custom");for(var s in i["default"].prototype){if(s!=="constructor"){o[s]=i["default"].prototype[s]}}for(var l in t.prototype){if(l!=="constructor"){o[l]=t.prototype[l]}}}o=(r=h(this,e.call(this,a,o)),r);return n=o,h(r,n)}t.prototype.addTrack_=function t(r){e.prototype.addTrack_.call(this,r);r.addEventListener("modechange",o.bind(this,function(){this.trigger("change")}))};return t}(i["default"]);t["default"]=y},function(e,t,r){"use strict";t.__esModule=true;var n=r(8);var i=v(n);var a=r(1);var o=v(a);var s=r(6);var u=r(5);var l=h(u);var f=r(11);var c=h(f);var d=r(12);var p=v(d);function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var _="vjs-text-track-settings";var b=["#000","Black"];var T=["#00F","Blue"];var E=["#0FF","Cyan"];var w=["#0F0","Green"];var S=["#F0F","Magenta"];var C=["#F00","Red"];var O=["#FFF","White"];var k=["#FF0","Yellow"];var P=["1","Opaque"];var x=["0.5","Semi-Transparent"];var A=["0","Transparent"];var M={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[b,O,C,w,T,k,S,E]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[P,x,A]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[O,b,C,w,T,k,S,E]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function e(t){return t==="1.00"?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[P,x]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[A,x,P]}};M.windowColor.options=M.backgroundColor.options;function I(e,t){if(t){e=t(e)}if(e&&e!=="none"){return e}}function R(e,t){var r=e.options[e.options.selectedIndex].value;return I(r,t)}function D(e,t,r){if(!t){return}for(var n=0;n<e.options.length;n++){if(I(e.options[n].value,r)===t){e.selectedIndex=n;break}}}var j=function(e){m(t,e);function t(r,n){y(this,t);var i=g(this,e.call(this,r,n));i.setDefaults();i.hide();i.updateDisplay=l.bind(i,i.updateDisplay);if(n.persistTextTrackSettings===undefined){i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings}i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings();i.hide()});i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults();i.updateDisplay()});c.each(M,function(e){i.on(i.$(e.selector),"change",i.updateDisplay)});if(i.options_.persistTextTrackSettings){i.restoreSettings()}return i}t.prototype.createElSelect_=function e(t){var r=this;var n=M[t];var i=n.id.replace("%s",this.id_);return[(0,s.createEl)("label",{className:"vjs-label",textContent:n.label},{for:i}),(0,s.createEl)("select",{id:i},undefined,n.options.map(function(e){return(0,s.createEl)("option",{textContent:r.localize(e[1]),value:e[0]})}))]};t.prototype.createElFgColor_=function e(){var t=(0,s.createEl)("legend",{textContent:this.localize("Text")});var r=this.createElSelect_("color");var n=(0,s.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},undefined,this.createElSelect_("textOpacity"));return(0,s.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},undefined,[t].concat(r,n))};t.prototype.createElBgColor_=function e(){var t=(0,s.createEl)("legend",{textContent:this.localize("Background")});var r=this.createElSelect_("backgroundColor");var n=(0,s.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},undefined,this.createElSelect_("backgroundOpacity"));return(0,s.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},undefined,[t].concat(r,n))};t.prototype.createElWinColor_=function e(){var t=(0,s.createEl)("legend",{textContent:this.localize("Window")});var r=this.createElSelect_("windowColor");var n=(0,s.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},undefined,this.createElSelect_("windowOpacity"));return(0,s.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},undefined,[t].concat(r,n))};t.prototype.createElColors_=function e(){return(0,s.createEl)("div",{className:"vjs-tracksettings-colors"},undefined,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])};t.prototype.createElFont_=function e(){var t=(0,s.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},undefined,this.createElSelect_("fontPercent"));var r=(0,s.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},undefined,this.createElSelect_("edgeStyle"));var n=(0,s.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},undefined,this.createElSelect_("fontFamily"));return(0,s.createEl)("div",{className:"vjs-tracksettings-font"},undefined,[t,r,n])};t.prototype.createElControls_=function e(){var t=(0,s.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")});var r=(0,s.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,s.createEl)("div",{className:"vjs-tracksettings-controls"},undefined,[t,r])};t.prototype.createEl=function e(){var t=(0,s.createEl)("div",{className:"vjs-tracksettings"},undefined,[this.createElColors_(),this.createElFont_(),this.createElControls_()]);var r=(0,s.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.id_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"});var n=(0,s.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.id_,textContent:"Beginning of dialog window. Escape will cancel and close the window."});var i=(0,s.createEl)("div",undefined,{role:"document"},[r,n,t]);return(0,s.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":r.id,"aria-describedby":n.id},i)};t.prototype.getValues=function e(){var t=this;return c.reduce(M,function(e,r,n){var i=R(t.$(r.selector),r.parser);if(i!==undefined){e[n]=i}return e},{})};t.prototype.setValues=function e(t){var r=this;c.each(M,function(e,n){D(r.$(e.selector),t[n],e.parser)})};t.prototype.setDefaults=function e(){var t=this;c.each(M,function(e){var r=e.hasOwnProperty("default")?e["default"]:0;t.$(e.selector).selectedIndex=r})};t.prototype.restoreSettings=function e(){var t=void 0;try{t=JSON.parse(i["default"].localStorage.getItem(_))}catch(e){p["default"].warn(e)}if(t){this.setValues(t)}};t.prototype.saveSettings=function e(){if(!this.options_.persistTextTrackSettings){return}var t=this.getValues();try{if(Object.keys(t).length){i["default"].localStorage.setItem(_,JSON.stringify(t))}else{i["default"].localStorage.removeItem(_)}}catch(e){p["default"].warn(e)}};t.prototype.updateDisplay=function e(){var t=this.player_.getChild("textTrackDisplay");if(t){t.updateDisplay()}};return t}(o["default"]);o["default"].registerComponent("TextTrackSettings",j);t["default"]=j},function(e,t,r){"use strict";t.__esModule=true;var n=r(96);var i=r(98);var a=c(i);var o=r(20);var s=c(o);var u=r(9);var l=f(u);function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t["default"]=e;return t}}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=function(e){h(t,e);function t(){var r,i;var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};d(this,t);var o=(0,s["default"])(a,{kind:n.VideoTrackKind[a.kind]||""});var u=(r=p(this,e.call(this,o)),r);var f=false;if(l.IS_IE8){for(var c in t.prototype){if(c!=="constructor"){u[c]=t.prototype[c]}}}Object.defineProperty(u,"selected",{get:function e(){return f},set:function e(t){if(typeof t!=="boolean"||t===f){return}f=t;this.trigger("selectedchange")}});if(o.selected){u.selected=o.selected}return i=u,p(r,i)}return t}(a["default"]);t["default"]=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=l;var n=r(116);var i=s(n);var a=r(67);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r=e.dash.mediaPlayer;var n=r.getTracksFor("audio");var i=e.audioTracks();function a(e){return"dash-audio-"+e}function s(e,t){return e.find(function(e){var r=e.index;return a(r)===t.id})}if(i.length){t.clearTracks(["audio"])}var u=r.getCurrentTrackFor("audio");n.forEach(function(e){i.addTrack(new o.default.AudioTrack({enabled:e===u,id:a(e.index),kind:e.kind||"main",label:e.lang,language:e.lang}))});i.addEventListener("change",function(){for(var e=0;e<i.length;e++){var t=i[e];if(t.enabled){var a=s(n,t);r.setCurrentTrack(a);continue}}})}function l(e,t){e.dash.mediaPlayer.on(i.default.MediaPlayer.events.PLAYBACK_METADATA_LOADED,u.bind(null,e,t))}},function(e,t,r){var n=r(387);var i=e.exports={WebVTT:r(384),VTTCue:r(385),VTTRegion:r(386)};n.vttjs=i;n.WebVTT=i.WebVTT;var a=i.VTTCue;var o=i.VTTRegion;var s=n.VTTCue;var u=n.VTTRegion;i.shim=function(){n.VTTCue=a;n.VTTRegion=o};i.restore=function(){n.VTTCue=s;n.VTTRegion=u};if(!n.VTTCue){i.shim()}},function(e,t){var r=Object.create||function(){function e(){}return function(t){if(arguments.length!==1){throw new Error("Object.create shim only accepts one parameter.")}e.prototype=t;return new e}}();function n(e,t){this.name="ParsingError";this.code=e.code;this.message=t||e.message}n.prototype=r(Error.prototype);n.prototype.constructor=n;n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function i(e){function t(e,t,r,n){return(e|0)*3600+(t|0)*60+(r|0)+(n|0)/1e3}var r=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);if(!r){return null}if(r[3]){return t(r[1],r[2],r[3].replace(":",""),r[4])}else if(r[1]>59){return t(r[1],r[2],0,r[4])}else{return t(0,r[1],r[2],r[4])}}function a(){this.values=r(null)}a.prototype={set:function(e,t){if(!this.get(e)&&t!==""){this.values[e]=t}},get:function(e,t,r){if(r){return this.has(e)?this.values[e]:t[r]}return this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var n=0;n<r.length;++n){if(t===r[n]){this.set(e,t);break}}},integer:function(e,t){if(/^-?\d+$/.test(t)){this.set(e,parseInt(t,10))}},percent:function(e,t){var r;if(r=t.match(/^([\d]{1,3})(\.[\d]*)?%$/)){t=parseFloat(t);if(t>=0&&t<=100){this.set(e,t);return true}}return false}};function o(e,t,r,n){var i=n?e.split(n):[e];for(var a in i){if(typeof i[a]!=="string"){continue}var o=i[a].split(r);if(o.length!==2){continue}var s=o[0];var u=o[1];t(s,u)}}function s(e,t,r){var s=e;function u(){var t=i(e);if(t===null){throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+s)}e=e.replace(/^[^\sa-zA-Z-]+/,"");return t}function l(e,t){var n=new a;o(e,function(e,t){switch(e){case"region":for(var i=r.length-1;i>=0;i--){if(r[i].id===t){n.set(e,r[i].region);break}}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),o=a[0];n.integer(e,o);n.percent(e,o)?n.set("snapToLines",false):null;n.alt(e,o,["auto"]);if(a.length===2){n.alt("lineAlign",a[1],["start","middle","end"])}break;case"position":a=t.split(",");n.percent(e,a[0]);if(a.length===2){n.alt("positionAlign",a[1],["start","middle","end"])}break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"]);break}},/:/,/\s/);t.region=n.get("region",null);t.vertical=n.get("vertical","");t.line=n.get("line","auto");t.lineAlign=n.get("lineAlign","start");t.snapToLines=n.get("snapToLines",true);t.size=n.get("size",100);t.align=n.get("align","middle");t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align);t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function f(){e=e.replace(/^\s+/,"")}f();t.startTime=u();f();if(e.substr(0,3)!=="--\x3e"){throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+s)}e=e.substr(3);f();t.endTime=u();f();l(e,t)}var u={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""};var l={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"};var f={v:"title",lang:"lang"};var c={rt:"ruby"};function d(e,t){function r(){if(!t){return null}function e(e){t=t.substr(e.length);return e}var r=t.match(/^([^<]*)(<[^>]+>?)?/);return e(r[1]?r[1]:r[2])}function n(e){return u[e]}function a(e){while(m=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/)){e=e.replace(m[0],n)}return e}function o(e,t){return!c[t.localName]||c[t.localName]===e.localName}function s(t,r){var n=l[t];if(!n){return null}var i=e.document.createElement(n);i.localName=n;var a=f[t];if(a&&r){i[a]=r.trim()}return i}var d=e.document.createElement("div"),p=d,h,v=[];while((h=r())!==null){if(h[0]==="<"){if(h[1]==="/"){if(v.length&&v[v.length-1]===h.substr(2).replace(">","")){v.pop();p=p.parentNode}continue}var y=i(h.substr(1,h.length-2));var g;if(y){g=e.document.createProcessingInstruction("timestamp",y);p.appendChild(g);continue}var m=h.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!m){continue}g=s(m[1],m[3]);if(!g){continue}if(!o(p,g)){continue}if(m[2]){g.className=m[2].substr(1).replace("."," ")}v.push(m[1]);p.appendChild(g);p=g;continue}p.appendChild(e.document.createTextNode(a(h)))}return d}var p=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function h(e){for(var t=0;t<p.length;t++){var r=p[t];if(e>=r[0]&&e<=r[1]){return true}}return false}function v(e){var t=[],r="",n;if(!e||!e.childNodes){return"ltr"}function i(e,t){for(var r=t.childNodes.length-1;r>=0;r--){e.push(t.childNodes[r])}}function a(e){if(!e||!e.length){return null}var t=e.pop(),r=t.textContent||t.innerText;if(r){var n=r.match(/^.*(\n|\r)/);if(n){e.length=0;return n[0]}return r}if(t.tagName==="ruby"){return a(e)}if(t.childNodes){i(e,t);return a(e)}}i(t,e);while(r=a(t)){for(var o=0;o<r.length;o++){n=r.charCodeAt(o);if(h(n)){return"rtl"}}}return"ltr"}function y(e){if(typeof e.line==="number"&&(e.snapToLines||e.line>=0&&e.line<=100)){return e.line}if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement){return-1}var t=e.track,r=t.textTrackList,n=0;for(var i=0;i<r.length&&r[i]!==t;i++){if(r[i].mode==="showing"){n++}}return++n*-1}function g(){}g.prototype.applyStyles=function(e,t){t=t||this.div;for(var r in e){if(e.hasOwnProperty(r)){t.style[r]=e[r]}}};g.prototype.formatStyle=function(e,t){return e===0?0:e+t};function m(e,t,r){var n=/MSIE\s8\.0/.test(navigator.userAgent);var i="rgba(255, 255, 255, 1)";var a="rgba(0, 0, 0, 0.8)";if(n){i="rgb(255, 255, 255)";a="rgb(0, 0, 0)"}g.call(this);this.cue=t;this.cueDiv=d(e,t.text);var o={color:i,backgroundColor:a,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};if(!n){o.writingMode=t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl";o.unicodeBidi="plaintext"}this.applyStyles(o,this.cueDiv);this.div=e.document.createElement("div");o={textAlign:t.align==="middle"?"center":t.align,font:r.font,whiteSpace:"pre-line",position:"absolute"};if(!n){o.direction=v(this.cueDiv);o.writingMode=t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"}this.applyStyles(o);this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size;break}if(t.vertical===""){this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")})}else{this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")})}this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}m.prototype=r(g.prototype);m.prototype.constructor=m;function _(e){var t=/MSIE\s8\.0/.test(navigator.userAgent);var r,n,i,a;if(e.div){n=e.div.offsetHeight;i=e.div.offsetWidth;a=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect();r=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left;this.right=e.right;this.top=e.top||a;this.height=e.height||n;this.bottom=e.bottom||a+(e.height||n);this.width=e.width||i;this.lineHeight=r!==undefined?r:e.lineHeight;if(t&&!this.lineHeight){this.lineHeight=13}}_.prototype.move=function(e,t){t=t!==undefined?t:this.lineHeight;switch(e){case"+x":this.left+=t;this.right+=t;break;case"-x":this.left-=t;this.right-=t;break;case"+y":this.top+=t;this.bottom+=t;break;case"-y":this.top-=t;this.bottom-=t;break}};_.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top};_.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++){if(this.overlaps(e[t])){return true}}return false};_.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right};_.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}};_.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),r=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),n=t*r;return n/(this.height*this.width)};_.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}};_.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0;var r=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0;var n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var i={left:e.left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||r};return i};function b(e,t,r,n){function i(e,t){var i,a=new _(e),o=1;for(var s=0;s<t.length;s++){while(e.overlapsOppositeAxis(r,t[s])||e.within(r)&&e.overlapsAny(n)){e.move(t[s])}if(e.within(r)){return e}var u=e.intersectPercentage(r);if(o>u){i=new _(e);o=u}e=new _(a)}return i||a}var a=new _(t),o=t.cue,s=y(o),u=[];if(o.snapToLines){var l;switch(o.vertical){case"":u=["+y","-y"];l="height";break;case"rl":u=["+x","-x"];l="width";break;case"lr":u=["-x","+x"];l="width";break}var f=a.lineHeight,c=f*Math.round(s),d=r[l]+f,p=u[0];if(Math.abs(c)>d){c=c<0?-1:1;c*=Math.ceil(d/f)*f}if(s<0){c+=o.vertical===""?r.height:r.width;u=u.reverse()}a.move(p,c)}else{var h=a.lineHeight/r.height*100;switch(o.lineAlign){case"middle":s-=h/2;break;case"end":s-=h;break}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")});break}u=["+y","-x","+x","-y"];a=new _(t)}var v=i(a,u);t.move(v.toCSSCompatValues(r))}function T(){}T.StringDecoder=function(){return{decode:function(e){if(!e){return""}if(typeof e!=="string"){throw new Error("Error - expected string data.")}return decodeURIComponent(encodeURIComponent(e))}}};T.convertCueToDOMTree=function(e,t){if(!e||!t){return null}return d(e,t)};var E=.05;var w="sans-serif";var S="1.5%";T.processCues=function(e,t,r){if(!e||!t||!r){return null}while(r.firstChild){r.removeChild(r.firstChild)}var n=e.document.createElement("div");n.style.position="absolute";n.style.left="0";n.style.right="0";n.style.top="0";n.style.bottom="0";n.style.margin=S;r.appendChild(n);function i(e){for(var t=0;t<e.length;t++){if(e[t].hasBeenReset||!e[t].displayState){return true}}return false}if(!i(t)){for(var a=0;a<t.length;a++){n.appendChild(t[a].displayState)}return}var o=[],s=_.getSimpleBoxPosition(n),u=Math.round(s.height*E*100)/100;var l={font:u+"px "+w};(function(){var r,i;for(var a=0;a<t.length;a++){i=t[a];r=new m(e,i,l);n.appendChild(r.div);b(e,r,s,o);i.displayState=r.div;o.push(_.getSimpleBoxPosition(r))}})()};T.Parser=function(e,t,r){if(!r){r=t;t={}}if(!t){t={}}this.window=e;this.vttjs=t;this.state="INITIAL";this.buffer="";this.decoder=r||new TextDecoder("utf8");this.regionList=[]};T.Parser.prototype={reportOrThrowError:function(e){if(e instanceof n){this.onparsingerror&&this.onparsingerror(e)}else{throw e}},parse:function(e){var t=this;if(e){t.buffer+=t.decoder.decode(e,{stream:true})}function r(){var e=t.buffer;var r=0;while(r<e.length&&e[r]!=="\r"&&e[r]!=="\n"){++r}var n=e.substr(0,r);if(e[r]==="\r"){++r}if(e[r]==="\n"){++r}t.buffer=e.substr(r);return n}function u(e){var r=new a;o(e,function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var n=t.split(",");if(n.length!==2){break}var i=new a;i.percent("x",n[0]);i.percent("y",n[1]);if(!i.has("x")||!i.has("y")){break}r.set(e+"X",i.get("x"));r.set(e+"Y",i.get("y"));break;case"scroll":r.alt(e,t,["up"]);break}},/=/,/\s/);if(r.has("id")){var n=new(t.vttjs.VTTRegion||t.window.VTTRegion);n.width=r.get("width",100);n.lines=r.get("lines",3);n.regionAnchorX=r.get("regionanchorX",0);n.regionAnchorY=r.get("regionanchorY",100);n.viewportAnchorX=r.get("viewportanchorX",0);n.viewportAnchorY=r.get("viewportanchorY",100);n.scroll=r.get("scroll","");t.onregion&&t.onregion(n);t.regionList.push({id:r.get("id"),region:n})}}function l(e){var r=new a;o(e,function(e,t){switch(e){case"MPEGT":r.integer(e+"S",t);break;case"LOCA":r.set(e+"L",i(t));break}},/[^\d]:/,/,/);t.ontimestampmap&&t.ontimestampmap({MPEGTS:r.get("MPEGTS"),LOCAL:r.get("LOCAL")})}function f(e){if(e.match(/X-TIMESTAMP-MAP/)){o(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":l(t);break}},/=/)}else{o(e,function(e,t){switch(e){case"Region":u(t);break}},/:/)}}try{var c;if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer)){return this}c=r();var d=c.match(/^WEBVTT([ \t].*)?$/);if(!d||!d[0]){throw new n(n.Errors.BadSignature)}t.state="HEADER"}var p=false;while(t.buffer){if(!/\r\n|\n/.test(t.buffer)){return this}if(!p){c=r()}else{p=false}switch(t.state){case"HEADER":if(/:/.test(c)){f(c)}else if(!c){t.state="ID"}continue;case"NOTE":if(!c){t.state="ID"}continue;case"ID":if(/^NOTE($|[ \t])/.test(c)){t.state="NOTE";break}if(!c){continue}t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");t.state="CUE";if(c.indexOf("--\x3e")===-1){t.cue.id=c;continue}case"CUE":try{s(c,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e);t.cue=null;t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var h=c.indexOf("--\x3e")!==-1;if(!c||h&&(p=true)){t.oncue&&t.oncue(t.cue);t.cue=null;t.state="ID";continue}if(t.cue.text){t.cue.text+="\n"}t.cue.text+=c;continue;case"BADCUE":if(!c){t.state="ID"}continue}}}catch(e){t.reportOrThrowError(e);if(t.state==="CUETEXT"&&t.cue&&t.oncue){t.oncue(t.cue)}t.cue=null;t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{e.buffer+=e.decoder.decode();if(e.cue||e.state==="HEADER"){e.buffer+="\n\n";e.parse()}if(e.state==="INITIAL"){throw new n(n.Errors.BadSignature)}}catch(t){e.reportOrThrowError(t)}e.onflush&&e.onflush();return this}};e.exports=T},function(e,t){var r="auto";var n={"":true,lr:true,rl:true};var i={start:true,middle:true,end:true,left:true,right:true};function a(e){if(typeof e!=="string"){return false}var t=n[e.toLowerCase()];return t?e.toLowerCase():false}function o(e){if(typeof e!=="string"){return false}var t=i[e.toLowerCase()];return t?e.toLowerCase():false}function s(e){var t=1;for(;t<arguments.length;t++){var r=arguments[t];for(var n in r){e[n]=r[n]}}return e}function u(e,t,n){var i=this;var u=/MSIE\s8\.0/.test(navigator.userAgent);var l={};if(u){i=document.createElement("custom")}else{l.enumerable=true}i.hasBeenReset=false;var f="";var c=false;var d=e;var p=t;var h=n;var v=null;var y="";var g=true;var m="auto";var _="start";var b=50;var T="middle";var E=50;var w="middle";Object.defineProperty(i,"id",s({},l,{get:function(){return f},set:function(e){f=""+e}}));Object.defineProperty(i,"pauseOnExit",s({},l,{get:function(){return c},set:function(e){c=!!e}}));Object.defineProperty(i,"startTime",s({},l,{get:function(){return d},set:function(e){if(typeof e!=="number"){throw new TypeError("Start time must be set to a number.")}d=e;this.hasBeenReset=true}}));Object.defineProperty(i,"endTime",s({},l,{get:function(){return p},set:function(e){if(typeof e!=="number"){throw new TypeError("End time must be set to a number.")}p=e;this.hasBeenReset=true}}));Object.defineProperty(i,"text",s({},l,{get:function(){return h},set:function(e){h=""+e;this.hasBeenReset=true}}));Object.defineProperty(i,"region",s({},l,{get:function(){return v},set:function(e){v=e;this.hasBeenReset=true}}));Object.defineProperty(i,"vertical",s({},l,{get:function(){return y},set:function(e){var t=a(e);if(t===false){throw new SyntaxError("An invalid or illegal string was specified.")}y=t;this.hasBeenReset=true}}));Object.defineProperty(i,"snapToLines",s({},l,{get:function(){return g},set:function(e){g=!!e;this.hasBeenReset=true}}));Object.defineProperty(i,"line",s({},l,{get:function(){return m},set:function(e){if(typeof e!=="number"&&e!==r){throw new SyntaxError("An invalid number or illegal string was specified.")}m=e;this.hasBeenReset=true}}));Object.defineProperty(i,"lineAlign",s({},l,{get:function(){return _},set:function(e){var t=o(e);if(!t){throw new SyntaxError("An invalid or illegal string was specified.")}_=t;this.hasBeenReset=true}}));Object.defineProperty(i,"position",s({},l,{get:function(){return b},set:function(e){if(e<0||e>100){throw new Error("Position must be between 0 and 100.")}b=e;this.hasBeenReset=true}}));Object.defineProperty(i,"positionAlign",s({},l,{get:function(){return T},set:function(e){var t=o(e);if(!t){throw new SyntaxError("An invalid or illegal string was specified.")}T=t;this.hasBeenReset=true}}));Object.defineProperty(i,"size",s({},l,{get:function(){return E},set:function(e){if(e<0||e>100){throw new Error("Size must be between 0 and 100.")}E=e;this.hasBeenReset=true}}));Object.defineProperty(i,"align",s({},l,{get:function(){return w},set:function(e){var t=o(e);if(!t){throw new SyntaxError("An invalid or illegal string was specified.")}w=t;this.hasBeenReset=true}}));i.displayState=undefined;if(u){return i}}u.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};e.exports=u},function(e,t){var r={"":true,up:true};function n(e){if(typeof e!=="string"){return false}var t=r[e.toLowerCase()];return t?e.toLowerCase():false}function i(e){return typeof e==="number"&&(e>=0&&e<=100)}function a(){var e=100;var t=3;var r=0;var a=100;var o=0;var s=100;var u="";Object.defineProperties(this,{width:{enumerable:true,get:function(){return e},set:function(t){if(!i(t)){throw new Error("Width must be between 0 and 100.")}e=t}},lines:{enumerable:true,get:function(){return t},set:function(e){if(typeof e!=="number"){throw new TypeError("Lines must be set to a number.")}t=e}},regionAnchorY:{enumerable:true,get:function(){return a},set:function(e){if(!i(e)){throw new Error("RegionAnchorX must be between 0 and 100.")}a=e}},regionAnchorX:{enumerable:true,get:function(){return r},set:function(e){if(!i(e)){throw new Error("RegionAnchorY must be between 0 and 100.")}r=e}},viewportAnchorY:{enumerable:true,get:function(){return s},set:function(e){if(!i(e)){throw new Error("ViewportAnchorY must be between 0 and 100.")}s=e}},viewportAnchorX:{enumerable:true,get:function(){return o},set:function(e){if(!i(e)){throw new Error("ViewportAnchorX must be between 0 and 100.")}o=e}},scroll:{enumerable:true,get:function(){return u},set:function(e){var t=n(e);if(t===false){throw new SyntaxError("An invalid or illegal string was specified.")}u=t}}})}e.exports=a},function(e,t,r){var n;if(typeof window!=="undefined"){n=window}else if(false){n=global}else if(typeof self!=="undefined"){n=self}else{n={}}e.exports=n},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},function(e,t){(function(e){"use strict";if(e.fetch){return}var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer){var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var n=function(e){return e&&DataView.prototype.isPrototypeOf(e)};var i=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1}}function a(e){if(typeof e!=="string"){e=String(e)}if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e)){throw new TypeError("Invalid character in header field name")}return e.toLowerCase()}function o(e){if(typeof e!=="string"){e=String(e)}return e}function s(e){var r={next:function(){var t=e.shift();return{done:t===undefined,value:t}}};if(t.iterable){r[Symbol.iterator]=function(){return r}}return r}function u(e){this.map={};if(e instanceof u){e.forEach(function(e,t){this.append(t,e)},this)}else if(Array.isArray(e)){e.forEach(function(e){this.append(e[0],e[1])},this)}else if(e){Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}}u.prototype.append=function(e,t){e=a(e);t=o(t);var r=this.map[e];this.map[e]=r?r+","+t:t};u.prototype["delete"]=function(e){delete this.map[a(e)]};u.prototype.get=function(e){e=a(e);return this.has(e)?this.map[e]:null};u.prototype.has=function(e){return this.map.hasOwnProperty(a(e))};u.prototype.set=function(e,t){this.map[a(e)]=o(t)};u.prototype.forEach=function(e,t){for(var r in this.map){if(this.map.hasOwnProperty(r)){e.call(t,this.map[r],r,this)}}};u.prototype.keys=function(){var e=[];this.forEach(function(t,r){e.push(r)});return s(e)};u.prototype.values=function(){var e=[];this.forEach(function(t){e.push(t)});return s(e)};u.prototype.entries=function(){var e=[];this.forEach(function(t,r){e.push([r,t])});return s(e)};if(t.iterable){u.prototype[Symbol.iterator]=u.prototype.entries}function l(e){if(e.bodyUsed){return Promise.reject(new TypeError("Already read"))}e.bodyUsed=true}function f(e){return new Promise(function(t,r){e.onload=function(){t(e.result)};e.onerror=function(){r(e.error)}})}function c(e){var t=new FileReader;var r=f(t);t.readAsArrayBuffer(e);return r}function d(e){var t=new FileReader;var r=f(t);t.readAsText(e);return r}function p(e){var t=new Uint8Array(e);var r=new Array(t.length);for(var n=0;n<t.length;n++){r[n]=String.fromCharCode(t[n])}return r.join("")}function h(e){if(e.slice){return e.slice(0)}else{var t=new Uint8Array(e.byteLength);t.set(new Uint8Array(e));return t.buffer}}function v(){this.bodyUsed=false;this._initBody=function(e){this._bodyInit=e;if(!e){this._bodyText=""}else if(typeof e==="string"){this._bodyText=e}else if(t.blob&&Blob.prototype.isPrototypeOf(e)){this._bodyBlob=e}else if(t.formData&&FormData.prototype.isPrototypeOf(e)){this._bodyFormData=e}else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)){this._bodyText=e.toString()}else if(t.arrayBuffer&&t.blob&&n(e)){this._bodyArrayBuffer=h(e.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))){this._bodyArrayBuffer=h(e)}else{throw new Error("unsupported BodyInit type")}if(!this.headers.get("content-type")){if(typeof e==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(t.blob){this.blob=function(){var e=l(this);if(e){return e}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return l(this)||Promise.resolve(this._bodyArrayBuffer)}else{return this.blob().then(c)}}}this.text=function(){var e=l(this);if(e){return e}if(this._bodyBlob){return d(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(p(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}};if(t.formData){this.formData=function(){return this.text().then(_)}}this.json=function(){return this.text().then(JSON.parse)};return this}var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}function m(e,t){t=t||{};var r=t.body;if(e instanceof m){if(e.bodyUsed){throw new TypeError("Already read")}this.url=e.url;this.credentials=e.credentials;if(!t.headers){this.headers=new u(e.headers)}this.method=e.method;this.mode=e.mode;if(!r&&e._bodyInit!=null){r=e._bodyInit;e.bodyUsed=true}}else{this.url=String(e)}this.credentials=t.credentials||this.credentials||"omit";if(t.headers||!this.headers){this.headers=new u(t.headers)}this.method=g(t.method||this.method||"GET");this.mode=t.mode||this.mode||null;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&r){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(r)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})};function _(e){var t=new FormData;e.trim().split("&").forEach(function(e){if(e){var r=e.split("=");var n=r.shift().replace(/\+/g," ");var i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}});return t}function b(e){var t=new u;e.split(/\r?\n/).forEach(function(e){var r=e.split(":");var n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}});return t}v.call(m.prototype);function T(e,t){if(!t){t={}}this.type="default";this.status="status"in t?t.status:200;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in t?t.statusText:"OK";this.headers=new u(t.headers);this.url=t.url||"";this._initBody(e)}v.call(T.prototype);T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})};T.error=function(){var e=new T(null,{status:0,statusText:""});e.type="error";return e};var E=[301,302,303,307,308];T.redirect=function(e,t){if(E.indexOf(t)===-1){throw new RangeError("Invalid status code")}return new T(null,{status:t,headers:{location:e}})};e.Headers=u;e.Request=m;e.Response=T;e.fetch=function(e,r){return new Promise(function(n,i){var a=new m(e,r);var o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:b(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new T(t,e))};o.onerror=function(){i(new TypeError("Network request failed"))};o.ontimeout=function(){i(new TypeError("Network request failed"))};o.open(a.method,a.url,true);if(a.credentials==="include"){o.withCredentials=true}if("responseType"in o&&t.blob){o.responseType="blob"}a.headers.forEach(function(e,t){o.setRequestHeader(t,e)});o.send(typeof a._bodyInit==="undefined"?null:a._bodyInit)})};e.fetch.polyfill=true})(typeof self!=="undefined"?self:this)},function(e,t,r){var n;if(typeof window!=="undefined"){n=window}else if(false){n=global}else if(typeof self!=="undefined"){n=self}else{n={}}e.exports=n},function(e,t){e.exports=n;var r=Object.prototype.hasOwnProperty;function n(){var e={};for(var t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n){if(r.call(n,i)){e[i]=n[i]}}}return e}},function(e,t){}]);